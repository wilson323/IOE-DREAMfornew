# repowikiè§„èŒƒä¸€è‡´æ€§æ£€æŸ¥æ¸…å•

> **ğŸ“‹ åˆ›å»ºæ—¶é—´**: 2025-11-19  
> **ğŸ“‹ è§„èŒƒæ¥æº**: `.qoder/repowiki` ä¸‹çš„æ‰€æœ‰è§„èŒƒæ–‡æ¡£  
> **ğŸ“‹ æ£€æŸ¥çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­

---

## ğŸ”’ å¼ºåˆ¶éµå¾ªçš„repowikiè§„èŒƒ

### 1. å››å±‚æ¶æ„è§„èŒƒ âœ…

**è§„èŒƒè¦æ±‚**:
- Controller â†’ Service â†’ Manager â†’ DAO ä¸¥æ ¼è°ƒç”¨é“¾
- Controllerå±‚ç¦æ­¢ç›´æ¥è®¿é—®DAOå±‚
- Serviceå±‚è´Ÿè´£äº‹åŠ¡ç®¡ç†
- Managerå±‚å°è£…å¤æ‚ä¸šåŠ¡é€»è¾‘

**æ£€æŸ¥é¡¹**:
- [ ] æ‰€æœ‰Controlleråªè°ƒç”¨Serviceï¼Œä¸ç›´æ¥è°ƒç”¨DAO
- [ ] æ‰€æœ‰Serviceä½¿ç”¨@Transactionalç®¡ç†äº‹åŠ¡
- [ ] Managerå±‚å°è£…è·¨æ¨¡å—è°ƒç”¨å’Œå¤æ‚é€»è¾‘

**è¿è§„æ–‡ä»¶**: å¾…æ£€æŸ¥

---

### 2. ä¾èµ–æ³¨å…¥è§„èŒƒ âœ…

**è§„èŒƒè¦æ±‚**:
- âœ… å¿…é¡»ä½¿ç”¨ `@Resource`
- âŒ ç¦æ­¢ä½¿ç”¨ `@Autowired`

**å½“å‰çŠ¶æ€**:
- @Autowiredä½¿ç”¨ï¼š16ä¸ªï¼ˆä¸»è¦åœ¨æµ‹è¯•ä»£ç ï¼‰
- @Resourceä½¿ç”¨ï¼šæ­£å¸¸

**ä¿®å¤è®¡åˆ’**:
- [ ] æ£€æŸ¥æµ‹è¯•ä»£ç ä¸­çš„@Autowiredæ˜¯å¦éœ€è¦ä¿®å¤
- [ ] ç¡®ä¿æ‰€æœ‰ç”Ÿäº§ä»£ç ä½¿ç”¨@Resource

---

### 3. å®ä½“ç±»è®¾è®¡è§„èŒƒ âœ…

**è§„èŒƒè¦æ±‚**:
- âœ… å¿…é¡»ç»§æ‰¿ `BaseEntity`ï¼ˆ`net.lab1024.sa.base.common.entity.BaseEntity`ï¼‰
- âŒ ç¦æ­¢é‡å¤å®šä¹‰å®¡è®¡å­—æ®µ

**BaseEntityåŒ…å«å­—æ®µ**:
```java
- createTime (LocalDateTime)
- updateTime (LocalDateTime)
- createUserId (Long)
- updateUserId (Long)
- deletedFlag (Integer)
- version (Integer)
```

**å½“å‰çŠ¶æ€**:
- ç»§æ‰¿BaseEntityçš„å®ä½“ç±»ï¼š59ä¸ª âœ…
- éœ€è¦æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤å®šä¹‰å®¡è®¡å­—æ®µçš„å®ä½“ç±»

**æ£€æŸ¥é¡¹**:
- [ ] æ‰€æœ‰Entityç±»ç»§æ‰¿BaseEntity
- [ ] æ— é‡å¤å®šä¹‰å®¡è®¡å­—æ®µ
- [ ] ä½¿ç”¨æ­£ç¡®çš„@TableFieldæ³¨è§£

---

### 4. æ•°æ®åº“è®¾è®¡è§„èŒƒ âœ…

**è§„èŒƒè¦æ±‚**:
- è¡¨å‘½åï¼š`t_{business}_{entity}` æ ¼å¼
- ä¸»é”®ï¼š`{table}_id` æ ¼å¼ï¼ŒBIGINT AUTO_INCREMENT
- å­—ç¬¦é›†ï¼šutf8mb4ï¼Œå­˜å‚¨å¼•æ“ InnoDB
- å®¡è®¡å­—æ®µï¼šå¿…é¡»åŒ…å« create_time, update_time, create_user_id, update_user_id, deleted_flag, version

**æ£€æŸ¥é¡¹**:
- [ ] æ‰€æœ‰è¡¨åç¬¦åˆå‘½åè§„èŒƒ
- [ ] æ‰€æœ‰ä¸»é”®ç¬¦åˆå‘½åè§„èŒƒ
- [ ] æ‰€æœ‰è¡¨ä½¿ç”¨utf8mb4å­—ç¬¦é›†
- [ ] æ‰€æœ‰è¡¨åŒ…å«å®Œæ•´å®¡è®¡å­—æ®µ

---

### 5. åŒ…åè§„èŒƒ âœ…

**è§„èŒƒè¦æ±‚**:
- âœ… Spring Boot 3.x å¿…é¡»ä½¿ç”¨ `jakarta.*`
- âŒ ç¦æ­¢ä½¿ç”¨ `javax.*`ï¼ˆé™¤JDKæ ‡å‡†åº“ï¼‰
- âœ… å…è®¸ä¿ç•™ï¼š`javax.sql.*`ã€`javax.crypto.*` ç­‰JDKæ ‡å‡†åº“

**å½“å‰çŠ¶æ€**:
- javaxåŒ…ä½¿ç”¨ï¼š8ä¸ªæ–‡ä»¶
  - `DataSourceConfig.java` - `javax.sql.DataSource` âœ…ï¼ˆJDKæ ‡å‡†åº“ï¼Œåº”ä¿ç•™ï¼‰
  - å…¶ä»–æ–‡ä»¶ï¼šå¾…æ£€æŸ¥

**æ£€æŸ¥é¡¹**:
- [ ] æ‰€æœ‰EEåŒ…ï¼ˆservlet, validation, annotation, persistenceç­‰ï¼‰ä½¿ç”¨jakarta
- [ ] JDKæ ‡å‡†åº“ï¼ˆsql, cryptoç­‰ï¼‰ä¿æŒjavax
- [ ] æ— è¿è§„çš„javaxåŒ…ä½¿ç”¨

---

### 6. æ—¥å¿—è§„èŒƒ âœ…

**è§„èŒƒè¦æ±‚**:
- âœ… ä½¿ç”¨@Slf4j
- âŒ ç¦æ­¢ä½¿ç”¨ System.out.println

**æ£€æŸ¥é¡¹**:
- [ ] æ‰€æœ‰ç±»ä½¿ç”¨@Slf4jæˆ–æ‰‹åŠ¨åˆ›å»ºLogger
- [ ] æ— System.out.printlnä½¿ç”¨
- [ ] æ—¥å¿—çº§åˆ«ä½¿ç”¨æ­£ç¡®

---

### 7. å‘½åè§„èŒƒ âœ…

**è§„èŒƒè¦æ±‚**:
- åŒ…åï¼š`net.lab1024.sa.{module}.{layer}`
- ç±»åï¼šControllerâ†’{Module}Controller, Serviceâ†’{Module}Service, Managerâ†’{Module}Manager, DAOâ†’{Module}Dao
- æ–¹æ³•åï¼šæŸ¥è¯¢â†’get/query/find/list, æ–°å¢â†’add/create/save, ä¿®æ”¹â†’update/edit, åˆ é™¤â†’delete/remove

**æ£€æŸ¥é¡¹**:
- [ ] æ‰€æœ‰åŒ…åç¬¦åˆè§„èŒƒ
- [ ] æ‰€æœ‰ç±»åç¬¦åˆè§„èŒƒ
- [ ] æ‰€æœ‰æ–¹æ³•åç¬¦åˆè§„èŒƒ

---

### 8. BaseCacheManageråŒ…è·¯å¾„ç»Ÿä¸€ âœ…

**é—®é¢˜**:
- å­˜åœ¨ä¸¤ä¸ªBaseCacheManagerç±»ï¼š
  - `net.lab1024.sa.base.common.manager.BaseCacheManager`ï¼ˆæ—§ç‰ˆæœ¬ï¼ŒæŠ½è±¡ç±»ï¼‰
  - `net.lab1024.sa.base.common.cache.BaseCacheManager`ï¼ˆæ–°ç‰ˆæœ¬ï¼ŒComponentï¼‰

**å½“å‰ä½¿ç”¨æƒ…å†µ**:
- ä½¿ç”¨æ—§è·¯å¾„ï¼ˆmanageråŒ…ï¼‰ï¼š1ä¸ªæ–‡ä»¶
  - `VideoCacheManager.java`
- ä½¿ç”¨æ–°è·¯å¾„ï¼ˆcacheåŒ…ï¼‰ï¼š8ä¸ªæ–‡ä»¶ âœ…

**ä¿®å¤è®¡åˆ’**:
- [ ] ç»Ÿä¸€ä½¿ç”¨ `net.lab1024.sa.base.common.cache.BaseCacheManager`
- [ ] ä¿®å¤ `VideoCacheManager.java` çš„å¯¼å…¥è·¯å¾„
- [ ] æ£€æŸ¥æ—§ç‰ˆæœ¬BaseCacheManageræ˜¯å¦å¯ä»¥åˆ é™¤

---

## ğŸ“‹ ä¸€è‡´æ€§æ£€æŸ¥æ‰§è¡Œè®¡åˆ’

### é˜¶æ®µ1: è§„èŒƒæ¢³ç†ï¼ˆå·²å®Œæˆï¼‰
- âœ… è¯»å–repowikiæ ¸å¿ƒè§„èŒƒæ–‡æ¡£
- âœ… åˆ›å»ºè§„èŒƒä¸€è‡´æ€§æ£€æŸ¥æ¸…å•
- âœ… è¯†åˆ«å½“å‰ä¸ä¸€è‡´é—®é¢˜

### é˜¶æ®µ2: ç«‹å³ä¿®å¤ï¼ˆè¿›è¡Œä¸­ï¼‰
- [ ] ä¿®å¤BaseCacheManageråŒ…è·¯å¾„ä¸ä¸€è‡´
- [ ] æ£€æŸ¥å¹¶ä¿®å¤javaxåŒ…ä½¿ç”¨ï¼ˆæ’é™¤JDKæ ‡å‡†åº“ï¼‰
- [ ] æ£€æŸ¥å®ä½“ç±»æ˜¯å¦éƒ½ç»§æ‰¿BaseEntity
- [ ] æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤å®šä¹‰å®¡è®¡å­—æ®µ

### é˜¶æ®µ3: å…¨é¢æ£€æŸ¥ï¼ˆå¾…æ‰§è¡Œï¼‰
- [ ] å››å±‚æ¶æ„åˆè§„æ€§æ£€æŸ¥
- [ ] ä¾èµ–æ³¨å…¥è§„èŒƒæ£€æŸ¥
- [ ] æ•°æ®åº“è®¾è®¡è§„èŒƒæ£€æŸ¥
- [ ] å‘½åè§„èŒƒæ£€æŸ¥
- [ ] æ—¥å¿—è§„èŒƒæ£€æŸ¥

### é˜¶æ®µ4: éªŒè¯ç¡®è®¤ï¼ˆå¾…æ‰§è¡Œï¼‰
- [ ] ç¼–è¯‘éªŒè¯
- [ ] è§„èŒƒç¬¦åˆæ€§éªŒè¯
- [ ] ç”Ÿæˆä¸€è‡´æ€§æŠ¥å‘Š

---

## ğŸ¯ å…³é”®å‘ç°

### å·²å‘ç°çš„ä¸ä¸€è‡´é—®é¢˜

1. **BaseCacheManageråŒ…è·¯å¾„ä¸ä¸€è‡´**
   - å½±å“ï¼š1ä¸ªæ–‡ä»¶ä½¿ç”¨æ—§è·¯å¾„
   - ä¼˜å…ˆçº§ï¼šğŸ”´ P0
   - ä¿®å¤ï¼šç»Ÿä¸€ä½¿ç”¨cacheåŒ…è·¯å¾„

2. **javaxåŒ…ä½¿ç”¨**
   - å½±å“ï¼š8ä¸ªæ–‡ä»¶
   - ä¼˜å…ˆçº§ï¼šğŸŸ¡ P1ï¼ˆéœ€åŒºåˆ†JDKæ ‡å‡†åº“ï¼‰
   - ä¿®å¤ï¼šæ£€æŸ¥å¹¶ä¿®å¤EEåŒ…ä½¿ç”¨

3. **@Autowiredä½¿ç”¨**
   - å½±å“ï¼š16ä¸ªï¼ˆä¸»è¦åœ¨æµ‹è¯•ä»£ç ï¼‰
   - ä¼˜å…ˆçº§ï¼šğŸŸ¡ P2ï¼ˆæµ‹è¯•ä»£ç å¯æ”¾å®½ï¼‰
   - ä¿®å¤ï¼šè¯„ä¼°æ˜¯å¦éœ€è¦ä¿®å¤

---

**ğŸ“‹ æœ€åæ›´æ–°**: 2025-11-19  
**ğŸ“‹ ä¸‹æ¬¡æ£€æŸ¥**: ä¿®å¤å®Œæˆåç«‹å³éªŒè¯

