# IOE-DREAM API æ–‡æ¡£ä¸­å¿ƒ

## ğŸ“– æ–‡æ¡£æ¦‚è¿°

IOE-DREAMæ™ºèƒ½ç®¡ç†ç³»ç»Ÿæä¾›å®Œæ•´çš„RESTful APIæ¥å£ï¼Œæ”¯æŒç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆå’ŒäºŒæ¬¡å¼€å‘ã€‚æœ¬æ–‡æ¡£ä¸­å¿ƒåŒ…å«æ‰€æœ‰å¾®æœåŠ¡çš„APIæ¥å£æ–‡æ¡£ã€ä½¿ç”¨ç¤ºä¾‹å’Œæœ€ä½³å®è·µã€‚

### APIç‰¹ç‚¹

- **RESTfulè®¾è®¡**: éµå¾ªRESTæ¶æ„é£æ ¼
- **ç»Ÿä¸€è®¤è¯**: Sa-Tokenç»Ÿä¸€èº«ä»½è®¤è¯
- **æ ‡å‡†å“åº”**: ç»Ÿä¸€çš„å“åº”æ•°æ®æ ¼å¼
- **ç‰ˆæœ¬ç®¡ç†**: æ”¯æŒAPIç‰ˆæœ¬æ§åˆ¶
- **å®‰å…¨é˜²æŠ¤**: å®Œå–„çš„å®‰å…¨é˜²æŠ¤æœºåˆ¶

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `https://api.ioedream.company.com`
- **APIç‰ˆæœ¬**: v2.0
- **è®¤è¯æ–¹å¼**: Sa-Token Bearer Token
- **æ•°æ®æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

---

## ğŸ” è®¤è¯å’Œæˆæƒ

### è®¤è¯æµç¨‹

#### 1. è·å–Token
```http
POST /api/auth/login
Content-Type: application/json

{
    "username": "user001",
    "password": "password123",
    "loginType": "password"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "code": 200,
    "message": "ç™»å½•æˆåŠŸ",
    "data": {
        "token": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "refreshToken": "refresh_token_string",
        "expiresIn": 7200,
        "userInfo": {
            "userId": 1001,
            "username": "user001",
            "realName": "å¼ ä¸‰",
            "department": "æŠ€æœ¯éƒ¨",
            "roles": ["USER"]
        }
    }
}
```

#### 2. ä½¿ç”¨Tokenè®¿é—®API
```http
GET /api/user/profile
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Tokenåˆ·æ–°
```http
POST /api/auth/refresh
Content-Type: application/json

{
    "refreshToken": "refresh_token_string"
}
```

### æƒé™æ§åˆ¶

#### æƒé™ç±»å‹
- **ç”¨æˆ·æƒé™**: `USER` - åŸºç¡€ç”¨æˆ·æƒé™
- **ç®¡ç†å‘˜æƒé™**: `ADMIN` - ç³»ç»Ÿç®¡ç†å‘˜æƒé™
- **è¶…çº§ç®¡ç†å‘˜æƒé™**: `SUPER_ADMIN` - è¶…çº§ç®¡ç†å‘˜æƒé™

#### æƒé™éªŒè¯
```http
GET /api/admin/users
Authorization: Bearer {admin_token}
X-Permission-Code: "user:manage"
```

---

## ğŸ“‹ APIæœåŠ¡åˆ—è¡¨

### æ ¸å¿ƒæœåŠ¡

| æœåŠ¡åç§° | ç«¯å£ | æè¿° | æ–‡æ¡£é“¾æ¥ |
|---------|------|------|----------|
| **è®¤è¯æœåŠ¡** | 8101 | ç”¨æˆ·è®¤è¯ã€æƒé™ç®¡ç† | [è®¤è¯æœåŠ¡API](./è®¤è¯æœåŠ¡API.md) |
| **èº«ä»½ç®¡ç†æœåŠ¡** | 8102 | ç”¨æˆ·ä¿¡æ¯ã€ç»„ç»‡æ¶æ„ | [èº«ä»½ç®¡ç†æœåŠ¡API](./èº«ä»½ç®¡ç†æœåŠ¡API.md) |
| **è®¾å¤‡ç®¡ç†æœåŠ¡** | 8103 | è®¾å¤‡æ³¨å†Œã€çŠ¶æ€ç›‘æ§ | [è®¾å¤‡ç®¡ç†æœåŠ¡API](./è®¾å¤‡ç®¡ç†æœåŠ¡API.md) |

### ä¸šåŠ¡æœåŠ¡

| æœåŠ¡åç§° | ç«¯å£ | æè¿° | æ–‡æ¡£é“¾æ¥ |
|---------|------|------|----------|
| **é—¨ç¦æœåŠ¡** | 8106 | é—¨ç¦æ§åˆ¶ã€è®¿å®¢ç®¡ç† | [é—¨ç¦æœåŠ¡API](./é—¨ç¦æœåŠ¡API.md) |
| **æ¶ˆè´¹æœåŠ¡** | 8107 | è´¦æˆ·ç®¡ç†ã€æ¶ˆè´¹è®°å½• | [æ¶ˆè´¹æœåŠ¡API](./æ¶ˆè´¹æœåŠ¡API.md) |
| **è€ƒå‹¤æœåŠ¡** | 8108 | è€ƒå‹¤æ‰“å¡ã€è¯·å‡ç®¡ç† | [è€ƒå‹¤æœåŠ¡API](./è€ƒå‹¤æœåŠ¡API.md) |
| **è§†é¢‘æœåŠ¡** | 8109 | è§†é¢‘ç›‘æ§ã€å½•åƒç®¡ç† | [è§†é¢‘æœåŠ¡API](./è§†é¢‘æœåŠ¡API.md) |
| **OAæœåŠ¡** | 8110 | å®¡æ‰¹æµç¨‹ã€æ–‡æ¡£ç®¡ç† | [OAæœåŠ¡API](./OAæœåŠ¡API.md) |

### æ”¯æ’‘æœåŠ¡

| æœåŠ¡åç§° | ç«¯å£ | æè¿° | æ–‡æ¡£é“¾æ¥ |
|---------|------|------|----------|
| **é€šçŸ¥æœåŠ¡** | 8111 | æ¶ˆæ¯æ¨é€ã€é€šçŸ¥ç®¡ç† | [é€šçŸ¥æœåŠ¡API](./é€šçŸ¥æœåŠ¡API.md) |
| **æ–‡ä»¶æœåŠ¡** | 8112 | æ–‡ä»¶ä¸Šä¼ ã€å­˜å‚¨ç®¡ç† | [æ–‡ä»¶æœåŠ¡API](./æ–‡ä»¶æœåŠ¡API.md) |
| **æŠ¥è¡¨æœåŠ¡** | 8113 | æŠ¥è¡¨ç”Ÿæˆã€æ•°æ®åˆ†æ | [æŠ¥è¡¨æœåŠ¡API](./æŠ¥è¡¨æœåŠ¡API.md) |
| **å®¡è®¡æœåŠ¡** | 8114 | æ“ä½œæ—¥å¿—ã€å®‰å…¨å®¡è®¡ | [å®¡è®¡æœåŠ¡API](./å®¡è®¡æœåŠ¡API.md) |

---

## ğŸ“Š é€šç”¨å“åº”æ ¼å¼

### æˆåŠŸå“åº”
```json
{
    "code": 200,
    "message": "æ“ä½œæˆåŠŸ",
    "data": {
        // å“åº”æ•°æ®
    },
    "timestamp": "2025-11-29T10:30:00Z",
    "requestId": "req_123456789"
}
```

### é”™è¯¯å“åº”
```json
{
    "code": 400,
    "message": "è¯·æ±‚å‚æ•°é”™è¯¯",
    "error": {
        "type": "VALIDATION_ERROR",
        "details": [
            {
                "field": "username",
                "message": "ç”¨æˆ·åä¸èƒ½ä¸ºç©º"
            }
        ]
    },
    "timestamp": "2025-11-29T10:30:00Z",
    "requestId": "req_123456789"
}
```

### åˆ†é¡µå“åº”
```json
{
    "code": 200,
    "message": "æŸ¥è¯¢æˆåŠŸ",
    "data": {
        "list": [
            // æ•°æ®åˆ—è¡¨
        ],
        "pagination": {
            "page": 1,
            "size": 20,
            "total": 100,
            "totalPages": 5
        }
    },
    "timestamp": "2025-11-29T10:30:00Z",
    "requestId": "req_123456789"
}
```

---

## ğŸ” çŠ¶æ€ç è¯´æ˜

### HTTPçŠ¶æ€ç 

| çŠ¶æ€ç  | è¯´æ˜ | å«ä¹‰ |
|--------|------|------|
| **200** | OK | è¯·æ±‚æˆåŠŸ |
| **201** | Created | èµ„æºåˆ›å»ºæˆåŠŸ |
| **204** | No Content | è¯·æ±‚æˆåŠŸï¼Œæ— è¿”å›å†…å®¹ |
| **400** | Bad Request | è¯·æ±‚å‚æ•°é”™è¯¯ |
| **401** | Unauthorized | æœªæˆæƒè®¿é—® |
| **403** | Forbidden | ç¦æ­¢è®¿é—® |
| **404** | Not Found | èµ„æºä¸å­˜åœ¨ |
| **409** | Conflict | èµ„æºå†²çª |
| **422** | Unprocessable Entity | è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥ |
| **429** | Too Many Requests | è¯·æ±‚é¢‘ç‡é™åˆ¶ |
| **500** | Internal Server Error | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |
| **503** | Service Unavailable | æœåŠ¡ä¸å¯ç”¨ |

### ä¸šåŠ¡çŠ¶æ€ç 

| çŠ¶æ€ç  | è¯´æ˜ | å«ä¹‰ |
|--------|------|------|
| **200** | SUCCESS | æ“ä½œæˆåŠŸ |
| **400** | PARAM_ERROR | å‚æ•°é”™è¯¯ |
| **401** | AUTH_FAILED | è®¤è¯å¤±è´¥ |
| **403** | PERMISSION_DENIED | æƒé™ä¸è¶³ |
| **404** | RESOURCE_NOT_FOUND | èµ„æºä¸å­˜åœ¨ |
| **409** | RESOURCE_CONFLICT | èµ„æºå†²çª |
| **500** | SYSTEM_ERROR | ç³»ç»Ÿé”™è¯¯ |

---

## ğŸ”§ è¯·æ±‚å’Œå“åº”ç¤ºä¾‹

### GETè¯·æ±‚ç¤ºä¾‹

#### è¯·æ±‚
```http
GET /api/users?page=1&size=10&keyword=å¼ ä¸‰
Authorization: Bearer {token}
Content-Type: application/json
```

#### å“åº”
```json
{
    "code": 200,
    "message": "æŸ¥è¯¢æˆåŠŸ",
    "data": {
        "list": [
            {
                "userId": 1001,
                "username": "zhangsan",
                "realName": "å¼ ä¸‰",
                "email": "zhangsan@company.com",
                "phone": "13800138000",
                "department": "æŠ€æœ¯éƒ¨",
                "status": "ACTIVE",
                "createTime": "2025-01-01T09:00:00Z",
                "updateTime": "2025-11-29T10:00:00Z"
            }
        ],
        "pagination": {
            "page": 1,
            "size": 10,
            "total": 1,
            "totalPages": 1
        }
    },
    "timestamp": "2025-11-29T10:30:00Z",
    "requestId": "req_123456789"
}
```

### POSTè¯·æ±‚ç¤ºä¾‹

#### è¯·æ±‚
```http
POST /api/users
Authorization: Bearer {token}
Content-Type: application/json

{
    "username": "lisi",
    "realName": "æå››",
    "email": "lisi@company.com",
    "phone": "13800138001",
    "department": "äº§å“éƒ¨",
    "roleId": 2
}
```

#### å“åº”
```json
{
    "code": 201,
    "message": "ç”¨æˆ·åˆ›å»ºæˆåŠŸ",
    "data": {
        "userId": 1002,
        "username": "lisi",
        "realName": "æå››",
        "email": "lisi@company.com",
        "phone": "13800138001",
        "department": "äº§å“éƒ¨",
        "status": "ACTIVE",
        "createTime": "2025-11-29T10:30:00Z"
    },
    "timestamp": "2025-11-29T10:30:00Z",
    "requestId": "req_123456790"
}
```

### PUTè¯·æ±‚ç¤ºä¾‹

#### è¯·æ±‚
```http
PUT /api/users/1002
Authorization: Bearer {token}
Content-Type: application/json

{
    "realName": "æå››(æ›´æ–°)",
    "email": "lisi_updated@company.com",
    "phone": "13800138002"
}
```

#### å“åº”
```json
{
    "code": 200,
    "message": "ç”¨æˆ·æ›´æ–°æˆåŠŸ",
    "data": {
        "userId": 1002,
        "username": "lisi",
        "realName": "æå››(æ›´æ–°)",
        "email": "lisi_updated@company.com",
        "phone": "13800138002",
        "department": "äº§å“éƒ¨",
        "status": "ACTIVE",
        "updateTime": "2025-11-29T10:35:00Z"
    },
    "timestamp": "2025-11-29T10:35:00Z",
    "requestId": "req_123456791"
}
```

### DELETEè¯·æ±‚ç¤ºä¾‹

#### è¯·æ±‚
```http
DELETE /api/users/1002
Authorization: Bearer {token}
```

#### å“åº”
```json
{
    "code": 200,
    "message": "ç”¨æˆ·åˆ é™¤æˆåŠŸ",
    "data": null,
    "timestamp": "2025-11-29T10:40:00Z",
    "requestId": "req_123456792"
}
```

---

## âš¡ å¼€å‘å·¥å…·å’ŒSDK

### å®˜æ–¹SDK

#### Java SDK
```xml
<dependency>
    <groupId>com.ioedream</groupId>
    <artifactId>ioedream-sdk-java</artifactId>
    <version>2.0.0</version>
</dependency>
```

```java
// åˆå§‹åŒ–å®¢æˆ·ç«¯
IOEdreamClient client = IOEdreamClient.builder()
    .baseUrl("https://api.ioedream.company.com")
    .token("your_token_here")
    .build();

// è°ƒç”¨API
UserResponse user = client.user().getProfile();
```

#### Python SDK
```bash
pip install ioedream-sdk-python
```

```python
from ioedream_sdk import IOEdreamClient

# åˆå§‹åŒ–å®¢æˆ·ç«¯
client = IOEdreamClient(
    base_url="https://api.ioedream.company.com",
    token="your_token_here"
)

# è°ƒç”¨API
user = client.user.get_profile()
```

#### JavaScript SDK
```bash
npm install ioedream-sdk-js
```

```javascript
import { IOEdreamClient } from 'ioedream-sdk-js';

// åˆå§‹åŒ–å®¢æˆ·ç«¯
const client = new IOEdreamClient({
    baseUrl: 'https://api.ioedream.company.com',
    token: 'your_token_here'
});

// è°ƒç”¨API
const user = await client.user.getProfile();
```

### å¼€å‘å·¥å…·

#### APIæµ‹è¯•å·¥å…·
- **Postman Collection**: å¯¼å…¥å®Œæ•´çš„APIé›†åˆ
- **Swagger UI**: åœ¨çº¿APIæ–‡æ¡£å’Œæµ‹è¯•
- **OpenAPIè§„èŒƒ**: æ ‡å‡†APIè§„èŒƒæ–‡ä»¶

#### è°ƒè¯•å·¥å…·
- **è¯·æ±‚è¿½è¸ª**: æ¯ä¸ªè¯·æ±‚éƒ½æœ‰å”¯ä¸€ID
- **æ—¥å¿—è®°å½•**: è¯¦ç»†çš„è¯·æ±‚å’Œå“åº”æ—¥å¿—
- **é”™è¯¯è¯Šæ–­**: è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå»ºè®®

---

## ğŸ›¡ï¸ å®‰å…¨å’Œé™åˆ¶

### å®‰å…¨æªæ–½

#### è®¤è¯å®‰å…¨
- **Tokenè¿‡æœŸ**: é»˜è®¤2å°æ—¶è¿‡æœŸ
- **Tokenåˆ·æ–°**: æ”¯æŒTokenåˆ·æ–°æœºåˆ¶
- **æƒé™éªŒè¯**: åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶
- **IPé™åˆ¶**: æ”¯æŒIPç™½åå•é™åˆ¶

#### æ•°æ®å®‰å…¨
- **HTTPSåŠ å¯†**: å…¨ç¨‹HTTPSé€šä¿¡
- **æ•°æ®åŠ å¯†**: æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
- **è¾“å…¥éªŒè¯**: ä¸¥æ ¼çš„å‚æ•°éªŒè¯
- **SQLæ³¨å…¥é˜²æŠ¤**: é˜²æ­¢SQLæ³¨å…¥æ”»å‡»

### ä½¿ç”¨é™åˆ¶

#### é¢‘ç‡é™åˆ¶
- **æ™®é€šAPI**: 1000æ¬¡/åˆ†é’Ÿ
- **æ–‡ä»¶ä¸Šä¼ **: 100æ¬¡/åˆ†é’Ÿ
- **æ‰¹é‡æ“ä½œ**: 100æ¬¡/åˆ†é’Ÿ
- **æŸ¥è¯¢æ¥å£**: 5000æ¬¡/åˆ†é’Ÿ

#### æ•°æ®é™åˆ¶
- **å•æ¬¡æŸ¥è¯¢**: æœ€å¤§1000æ¡è®°å½•
- **æ–‡ä»¶ä¸Šä¼ **: æœ€å¤§100MB
- **æ‰¹é‡æ“ä½œ**: æœ€å¤§100ä¸ªå¯¹è±¡
- **è¯·æ±‚ä½“**: æœ€å¤§10MB

### æœ€ä½³å®è·µ

#### æ€§èƒ½ä¼˜åŒ–
1. **åˆç†ä½¿ç”¨åˆ†é¡µ**: é¿å…ä¸€æ¬¡æŸ¥è¯¢å¤§é‡æ•°æ®
2. **ç¼“å­˜æœºåˆ¶**: åˆç†ä½¿ç”¨ç¼“å­˜å‡å°‘è¯·æ±‚
3. **å¼‚æ­¥å¤„ç†**: å¯¹äºè€—æ—¶æ“ä½œä½¿ç”¨å¼‚æ­¥æ¥å£
4. **è¿æ¥å¤ç”¨**: å¤ç”¨HTTPè¿æ¥æé«˜æ€§èƒ½

#### é”™è¯¯å¤„ç†
1. **çŠ¶æ€ç æ£€æŸ¥**: æ£€æŸ¥HTTPçŠ¶æ€ç å’Œä¸šåŠ¡çŠ¶æ€ç 
2. **é‡è¯•æœºåˆ¶**: å¯¹äºç½‘ç»œé”™è¯¯å®ç°é‡è¯•
3. **é™çº§ç­–ç•¥**: æœåŠ¡ä¸å¯ç”¨æ—¶çš„é™çº§å¤„ç†
4. **æ—¥å¿—è®°å½•**: è®°å½•APIè°ƒç”¨å’Œé”™è¯¯ä¿¡æ¯

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¼€å‘æ”¯æŒ

#### æŠ€æœ¯æ–‡æ¡£
- **APIæ–‡æ¡£**: è¯¦ç»†çš„æ¥å£æ–‡æ¡£
- **å¼€å‘æŒ‡å—**: å¼€å‘ç¯å¢ƒå’Œæœ€ä½³å®è·µ
- **ç¤ºä¾‹ä»£ç **: å®Œæ•´çš„ç¤ºä¾‹ä»£ç 
- **å¸¸è§é—®é¢˜**: FAQå’Œé—®é¢˜è§£ç­”

#### å¼€å‘ç¤¾åŒº
- **å¼€å‘è€…è®ºå›**: æŠ€æœ¯è®¨è®ºå’Œç»éªŒåˆ†äº«
- **ä»£ç ä»“åº“**: GitHubå¼€æºä»£ç å’Œç¤ºä¾‹
- **æŠ€æœ¯åšå®¢**: æœ€æ–°æŠ€æœ¯åŠ¨æ€å’Œæ•™ç¨‹
- **åœ¨çº¿äº¤æµ**: QQç¾¤å’Œå¾®ä¿¡ç¾¤

### é—®é¢˜åé¦ˆ

#### é—®é¢˜æŠ¥å‘Š
- **BugæŠ¥å‘Š**: é€šè¿‡GitHub IssuesæŠ¥å‘ŠBug
- **åŠŸèƒ½å»ºè®®**: æäº¤åŠŸèƒ½éœ€æ±‚å’Œå»ºè®®
- **æ€§èƒ½é—®é¢˜**: æŠ¥å‘Šæ€§èƒ½ç›¸å…³é—®é¢˜
- **å®‰å…¨é—®é¢˜**: é€šè¿‡å®‰å…¨æ¸ é“æŠ¥å‘Šå®‰å…¨é—®é¢˜

#### è”ç³»æ–¹å¼
- **æŠ€æœ¯æ”¯æŒé‚®ç®±**: dev-support@ioedream.company.com
- **QQç¾¤**: 123456789
- **å¾®ä¿¡ç¾¤**: æ‰«æäºŒç»´ç åŠ å…¥
- **æŠ€æœ¯çƒ­çº¿**: 400-123-4569

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2025-11-29)
- âœ¨ æ–°å¢å¾®æœåŠ¡æ¶æ„API
- ğŸ”§ ç»Ÿä¸€è®¤è¯å’Œæˆæƒæœºåˆ¶
- ğŸ“Š å®Œå–„çš„å“åº”æ ¼å¼å’ŒçŠ¶æ€ç 
- ğŸ›¡ï¸ å¢å¼ºçš„å®‰å…¨é˜²æŠ¤æªæ–½
- ğŸ“š å®Œæ•´çš„æ–‡æ¡£å’Œç¤ºä¾‹

### v1.5.0 (2025-09-15)
- ğŸš€ ä¼˜åŒ–APIæ€§èƒ½
- ğŸ› ä¿®å¤å·²çŸ¥é—®é¢˜
- ğŸ“ˆ æ–°å¢æ‰¹é‡æ“ä½œæ¥å£
- ğŸ” æ”¹è¿›æŸ¥è¯¢åŠŸèƒ½

### v1.0.0 (2025-06-01)
- ğŸ‰ é¦–æ¬¡å‘å¸ƒAPIæ–‡æ¡£
- ğŸ“‹ åŸºç¡€åŠŸèƒ½æ¥å£
- ğŸ” è®¤è¯å’Œæˆæƒæœºåˆ¶
- ğŸ“Š åŸºç¡€å“åº”æ ¼å¼

---

**ğŸ“ æ–‡æ¡£ä¿¡æ¯**
- **ç‰ˆæœ¬**: v2.0.0
- **æ›´æ–°æ—¶é—´**: 2025-11-29
- **é€‚ç”¨ç³»ç»Ÿ**: IOE-DREAMå¾®æœåŠ¡æ¶æ„
- **ç»´æŠ¤å•ä½**: APIå¼€å‘å›¢é˜Ÿ

**ğŸ’¡ é‡è¦æé†’**:
- ä½¿ç”¨APIå‰è¯·ä»”ç»†é˜…è¯»æ–‡æ¡£
- ç¡®ä¿éµå®ˆå®‰å…¨å’Œé™åˆ¶è¦æ±‚
- é‡åˆ°é—®é¢˜åŠæ—¶å¯»æ±‚æŠ€æœ¯æ”¯æŒ
- å…³æ³¨APIæ›´æ–°å’Œå˜æ›´é€šçŸ¥