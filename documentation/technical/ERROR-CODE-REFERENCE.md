# IOE-DREAM 统一错误码对照表

> **版本**: v1.0.0  
> **更新日期**: 2025-12-17

---

## 1. 错误码规则

### 1.1 编码规则

```
XXYYYY
XX   - 模块代码 (10-99)
YYYY - 错误序号 (0001-9999)
```

### 1.2 模块代码分配

| 代码 | 模块 |
|------|------|
| 10 | 系统通用 |
| 20 | 认证授权 |
| 30 | 门禁管理 |
| 40 | 考勤管理 |
| 50 | 消费管理 |
| 60 | 访客管理 |
| 70 | 视频管理 |
| 80 | 设备通讯 |

---

## 2. 系统通用错误码 (10xxxx)

| 错误码 | HTTP状态码 | 说明 | 处理建议 |
|--------|------------|------|----------|
| 100001 | 400 | 参数校验失败 | 检查请求参数 |
| 100002 | 400 | 参数类型错误 | 检查参数类型 |
| 100003 | 400 | 必填参数缺失 | 补充必填参数 |
| 100004 | 404 | 资源不存在 | 确认资源ID |
| 100005 | 409 | 数据已存在 | 检查唯一约束 |
| 100006 | 500 | 系统内部错误 | 联系管理员 |
| 100007 | 503 | 服务暂不可用 | 稍后重试 |
| 100008 | 429 | 请求过于频繁 | 降低请求频率 |

---

## 3. 认证授权错误码 (20xxxx)

| 错误码 | HTTP状态码 | 说明 | 处理建议 |
|--------|------------|------|----------|
| 200001 | 401 | 未登录或令牌缺失 | 重新登录 |
| 200002 | 401 | 令牌已过期 | 刷新令牌 |
| 200003 | 401 | 令牌无效 | 重新登录 |
| 200004 | 403 | 权限不足 | 申请权限 |
| 200005 | 401 | 用户名或密码错误 | 检查凭证 |
| 200006 | 423 | 账号已锁定 | 联系管理员 |
| 200007 | 401 | 验证码错误 | 重新获取 |
| 200008 | 401 | 验证码已过期 | 重新获取 |

---

## 4. 门禁管理错误码 (30xxxx)

| 错误码 | HTTP状态码 | 说明 | 处理建议 |
|--------|------------|------|----------|
| 300001 | 400 | 设备不存在 | 确认设备ID |
| 300002 | 400 | 设备离线 | 检查设备状态 |
| 300003 | 400 | 开门失败 | 检查设备连接 |
| 300004 | 400 | 无通行权限 | 申请权限 |
| 300005 | 400 | 权限已过期 | 续期权限 |
| 300006 | 400 | 区域不存在 | 确认区域ID |
| 300007 | 400 | 时间段限制 | 检查通行时段 |
| 300008 | 400 | 反潜检测拒绝 | 等待间隔时间 |

---

## 5. 考勤管理错误码 (40xxxx)

| 错误码 | HTTP状态码 | 说明 | 处理建议 |
|--------|------------|------|----------|
| 400001 | 400 | 未到打卡时间 | 等待打卡时间 |
| 400002 | 400 | 重复打卡 | 无需重复操作 |
| 400003 | 400 | 打卡位置异常 | 在指定范围打卡 |
| 400004 | 400 | 排班不存在 | 确认排班信息 |
| 400005 | 400 | 请假申请冲突 | 检查日期范围 |
| 400006 | 400 | 审批流程错误 | 联系管理员 |

---

## 6. 消费管理错误码 (50xxxx)

| 错误码 | HTTP状态码 | 说明 | 处理建议 |
|--------|------------|------|----------|
| 500001 | 400 | 余额不足 | 充值后重试 |
| 500002 | 400 | 交易失败 | 稍后重试 |
| 500003 | 400 | 账户已冻结 | 联系管理员 |
| 500004 | 400 | 超出消费限额 | 调整限额 |
| 500005 | 400 | 充值金额无效 | 检查金额 |
| 500006 | 400 | 重复交易 | 检查交易记录 |

---

## 7. 访客管理错误码 (60xxxx)

| 错误码 | HTTP状态码 | 说明 | 处理建议 |
|--------|------------|------|----------|
| 600001 | 400 | 预约不存在 | 确认预约ID |
| 600002 | 400 | 预约已过期 | 重新预约 |
| 600003 | 400 | 预约已取消 | 重新预约 |
| 600004 | 400 | 二维码无效 | 重新获取 |
| 600005 | 400 | 访客已签到 | 无需重复签到 |
| 600006 | 400 | 被访人不存在 | 确认被访人 |

---

## 8. 视频管理错误码 (70xxxx)

| 错误码 | HTTP状态码 | 说明 | 处理建议 |
|--------|------------|------|----------|
| 700001 | 400 | 设备不存在 | 确认设备ID |
| 700002 | 400 | 设备离线 | 检查设备状态 |
| 700003 | 400 | 获取流失败 | 稍后重试 |
| 700004 | 400 | 录像不存在 | 确认时间范围 |
| 700005 | 400 | 云台控制失败 | 检查设备 |
| 700006 | 400 | 告警处理失败 | 稍后重试 |

---

## 9. 设备通讯错误码 (80xxxx)

| 错误码 | HTTP状态码 | 说明 | 处理建议 |
|--------|------------|------|----------|
| 800001 | 400 | 设备连接失败 | 检查网络 |
| 800002 | 400 | 设备响应超时 | 稍后重试 |
| 800003 | 400 | 协议不支持 | 确认设备协议 |
| 800004 | 400 | 指令执行失败 | 检查指令参数 |
| 800005 | 400 | 设备认证失败 | 检查设备凭证 |

---

**📝 文档维护**: IOE-DREAM架构团队
