## 1. 需求与数据建模
- [ ] 1.1 梳理访客预约流程、状态机、角色权限
- [ ] 1.2 设计迁移脚本：`t_visit_apply`、`t_visit_approval`、`t_visit_pass_token`、扩展 `t_access_event`
- [ ] 1.3 补充数据字典与 ER 图

## 2. 后端服务与门禁集成
- [ ] 2.1 创建访客预约 Application Service（申请、审批、撤销、提醒）
- [ ] 2.2 实现凭证生成、二维码渲染、Redis 缓存与失效任务
- [ ] 2.3 门禁核验接口：二维码校验、设备白名单推送、事件落库

## 3. 前端与体验
- [ ] 3.1 管理端访客预约表单、审批面板、列表筛选（Vue3 + AntD）
- [ ] 3.2 通行记录可视化与导出、二维码展示弹窗
- [ ] 3.3 消息提醒入口（邮件/短信/站内信）配置页

## 4. 质量保障
- [ ] 4.1 单元/集成测试（Service ≥85% 覆盖）
- [ ] 4.2 前端 e2e/组件测试（预约流程 happy path + 异常）
- [ ] 4.3 更新文档：API、操作手册、OpenSpec 验证
