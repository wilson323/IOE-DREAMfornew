# 基础信息模块规格

## ADDED Requirements

### Requirement: 考勤规则配置管理
系统 SHALL 提供完整的考勤规则配置管理功能，支持灵活的考勤规则定义和应用。

#### Scenario: 考勤基础规则配置
- **WHEN** 管理员配置考勤基础规则
- **AND** 设置迟到容忍时间、早退容忍时间、旷工阈值等参数
- **THEN** 系统保存考勤规则配置，支持按部门/岗位/员工设置不同规则

#### Scenario: 考勤工作时间配置
- **WHEN** 管理员配置工作时间规则
- **AND** 设置弹性工作时间、核心工作时间、休息时间等
- **THEN** 系统保存工作时间配置，支持标准班次和弹性班次

#### Scenario: 加班计算规则配置
- **WHEN** 管理员配置加班计算规则
- **AND** 设置加班阈值、加班倍数、夜班补贴等参数
- **THEN** 系统保存加班计算规则，支持不同类型加班的不同计算方式

#### Scenario: 特殊考勤规则配置
- **WHEN** 管理员配置节假日和周末处理规则
- **THEN** 系统保存特殊规则配置，支持法定节假日加班倍数设置

#### Scenario: 规则适用范围设置
- **WHEN** 管理员设置考勤规则的适用范围
- **AND** 选择适用的部门、岗位或员工
- **THEN** 系统记录规则适用范围，支持优先级和冲突解决

### Requirement: 考勤点扩展管理
系统 SHALL 通过扩展表机制为现有位置管理模块添加考勤点功能。

#### Scenario: 考勤点扩展表创建
- **WHEN** 管理员创建考勤点
- **AND** 选择基础位置记录或创建新位置
- **THEN** 系统在位置考勤扩展表中创建考勤点专用配置
- **AND** 建立基础位置与考勤点扩展的关联关系

#### Scenario: 考勤点地理范围配置
- **WHEN** 管理员配置考勤点地理参数
- **AND** 设置GPS坐标、有效范围、精度要求
- **AND** 关联相关考勤设备
- **THEN** 系统将考勤点地理配置保存到位置考勤扩展表
- **AND** 通过JOIN查询获取完整的位置考勤信息

#### Scenario: 考勤点位置验证
- **WHEN** 管理员验证考勤点位置
- **THEN** 系统提供地图界面显示考勤点位置
- **AND** 支持在地图上调整考勤点位置和范围

#### Scenario: 考勤点设备关联
- **WHEN** 管理员为考勤点关联设备
- **THEN** 系统建立考勤点与设备的关联关系
- **AND** 支持一个考勤点关联多个设备

#### Scenario: 考勤点状态管理
- **WHEN** 管理员启用或禁用考勤点
- **THEN** 系统更新考勤点状态，影响打卡验证逻辑

### Requirement: 移动端考勤配置
系统 SHALL 提供完整的移动端考勤配置管理功能，支持移动端特殊考勤需求。

#### Scenario: 移动端位置规则配置
- **WHEN** 管理员配置移动端位置验证规则
- **AND** 设置GPS精度要求、定位容差、防作弊规则
- **THEN** 系统保存移动端位置规则，用于移动打卡验证

#### Scenario: 移动端时间限制配置
- **WHEN** 管理员配置移动端打卡时间窗口
- **AND** 设置允许打卡时间段、强制打卡时间等
- **THEN** 系统保存时间限制配置，控制移动端打卡时机

#### Scenario: 移动端设备绑定规则
- **WHEN** 管理员配置移动端设备绑定规则
- **AND** 设置设备绑定策略、设备更换规则等
- **THEN** 系统保存设备绑定规则，确保移动端安全性

#### Scenario: 移动端安全控制配置
- **WHEN** 管理员配置移动端安全控制策略
- **AND** 设置防代打卡、防作弊检测、异常行为监控等
- **THEN** 系统实施安全控制策略，保障移动端考勤真实性

### Requirement: 预警规则管理
系统 SHALL 提供强大的预警规则管理功能，支持设备联动预警和异常检测。

#### Scenario: 设备联动预警配置
- **WHEN** 管理员配置设备联动预警规则
- **AND** 选择主设备（如摄像头）和辅助设备（如门禁）
- **AND** 设置验证顺序、超时时间、重试次数等参数
- **THEN** 系统保存设备联动配置，支持多设备协同验证

#### Scenario: 双重验证规则配置
- **WHEN** 管理员配置双重验证规则
- **AND** 设置人脸识别、刷卡、密码等验证方式
- **AND** 配置验证逻辑和失败处理策略
- **THEN** 系统保存双重验证规则，提高考勤安全性

#### Scenario: 异常检测规则配置
- **WHEN** 管理员配置异常检测规则
- **AND** 设置检测阈值、检测周期、预警级别等
- **THEN** 系统保存异常检测规则，自动识别考勤异常模式

#### Scenario: 预警触发条件配置
- **WHEN** 管理员设置预警触发条件
- **AND** 配置连续未打卡天数、异常频率、异常类型等条件
- **THEN** 系统根据条件自动触发相应的预警动作

### Requirement: 通知规则管理
系统 SHALL 提供灵活的通知规则管理功能，支持多渠道通知和智能提醒。

#### Scenario: 通知触发条件配置
- **WHEN** 管理员配置通知触发条件
- **AND** 设置打卡提醒、未打卡通知、考勤异常通知等触发条件
- **THEN** 系统根据触发条件自动发送相应通知

#### Scenario: 通知方式配置
- **WHEN** 管理员配置通知方式
- **AND** 选择短信、邮件、微信、钉钉等通知渠道
- **AND** 设置通知优先级和模板
- **THEN** 系统支持多渠道通知发送，确保消息及时送达

#### Scenario: 接收人配置
- **WHEN** 管理员配置通知接收人
- **AND** 选择员工本人、直属领导、HR等接收人类型
- **THEN** 系统根据接收人配置智能分发通知消息

#### Scenario: 通知频率控制
- **WHEN** 管理员配置通知频率控制规则
- **AND** 设置每日最大通知次数、最小通知间隔
- **AND** 配置升级规则和免打扰时间
- **THEN** 系统控制通知频率，避免过度打扰

#### Scenario: 提醒配置
- **WHEN** 管理员配置打卡提醒
- **AND** 设置上班前提醒、下班时间提醒、休息时间提醒等
- **THEN** 系统按时发送个性化提醒消息

### Requirement: 假种管理
系统 SHALL 提供完整的假种管理功能，支持各类假期类型的管理和配置。

#### Scenario: 假种类型管理
- **WHEN** 管理员创建新的假种类型
- **AND** 设置假种名称、编码、分类（法定假期/福利假期/病假/事假）
- **THEN** 系统保存假种信息，支持假种分类管理

#### Scenario: 假种规则配置
- **WHEN** 管理员配置假种规则
- **AND** 设置每年最大天数、每次申请最大天数、需要证明等规则
- **AND** 配置工资扣除比例和审批流程
- **THEN** 系统保存假种规则，自动验证请假申请合规性

#### Scenario: 审批流程配置
- **WHEN** 管理员配置假种审批流程
- **AND** 设置审批层级、审批人、审批时限等
- **THEN** 系统保存审批流程配置，支持多级审批和条件审批

#### Scenario: 假种适用范围设置
- **WHEN** 管理员设置假种适用范围
- **AND** 选择适用的部门、岗位、员工级别
- **AND** 设置入职时长要求和排除人员
- **THEN** 系统根据适用范围控制假种使用权限

### Requirement: 报表推送配置
系统 SHALL 提供报表推送配置管理功能，支持自动化报表生成和推送。

#### Scenario: 报表类型配置
- **WHEN** 管理员配置报表推送类型
- **AND** 选择日报、月报、年报等报表类型
- **THEN** 系统保存报表类型配置，支持不同类型报表的定制

#### Scenario: 推送时间配置
- **WHEN** 管理员配置报表推送时间
- **AND** 设置具体推送时间和推送周期
- **THEN** 系统按时自动生成和推送报表

#### Scenario: 推送方式和格式配置
- **WHEN** 管理员配置推送方式和格式
- **AND** 选择推送方式（邮件/FTP/系统消息）
- **AND** 选择推送格式（Excel/PDF/HTML）
- **THEN** 系统按配置生成指定格式的报表文件

#### Scenario: 推送条件配置
- **WHEN** 管理员配置报表推送条件
- **AND** 设置人员范围、时间范围、数据条件等过滤条件
- **THEN** 系统根据推送条件生成个性化报表内容

#### Scenario: 接收人配置
- **WHEN** 管理员配置报表接收人
- **AND** 选择接收人员或角色
- **THEN** 系统将报表推送给指定接收人

## MODIFIED Requirements

### Requirement: 系统参数管理
系统 SHALL 提供完整的系统参数管理功能，支持考勤相关的系统参数配置。

#### Scenario: 考勤参数配置
- **WHEN** 管理员配置考勤系统参数
- **THEN** 系统提供考勤相关的参数配置界面
- **AND** 支持考勤规则、预警规则、通知规则等分类配置

#### Scenario: 参数生效管理
- **WHEN** 管理员修改系统参数
- **THEN** 系统记录参数变更历史
- **AND** 支持参数生效时间和生效范围控制

## REMOVED Requirements

无移除需求，保持与现有系统管理功能的兼容性。

## RENAMED Requirements

无重命名需求，保持与现有系统管理模块的命名一致性。