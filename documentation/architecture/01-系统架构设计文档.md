# IOE-DREAM ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£

> **ç‰ˆæœ¬**: v2.0.0  
> **æ›´æ–°æ—¥æœŸ**: 2025-12-17  
> **æ–‡æ¡£ç±»å‹**: ç³»ç»Ÿæ¶æ„è®¾è®¡è¯´æ˜ä¹¦  
> **é€‚ç”¨èŒƒå›´**: IOE-DREAMæ™ºæ…§å›­åŒºä¸€å¡é€šç®¡ç†å¹³å°å…¨ç³»ç»Ÿ

---

## 1. æ–‡æ¡£æ¦‚è¿°

### 1.1 ç¼–å†™ç›®çš„

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°IOE-DREAMæ™ºæ…§å›­åŒºä¸€å¡é€šç®¡ç†å¹³å°çš„ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼ŒåŒ…æ‹¬æ•´ä½“æ¶æ„ã€æŠ€æœ¯é€‰å‹ã€åˆ†å±‚è®¾è®¡ã€éƒ¨ç½²æ¶æ„ç­‰ï¼Œä¸ºç ”å‘äººå‘˜æä¾›æ¶æ„è®¾è®¡æŒ‡å¯¼å’Œå¼€å‘è§„èŒƒå‚è€ƒã€‚

### 1.2 é€‚ç”¨å¯¹è±¡

| è§’è‰² | ç”¨é€” |
|------|------|
| æ¶æ„å¸ˆ | æ¶æ„å†³ç­–ã€æŠ€æœ¯é€‰å‹å‚è€ƒ |
| åç«¯å¼€å‘ | å¾®æœåŠ¡å¼€å‘ã€æ¥å£å®ç° |
| å‰ç«¯å¼€å‘ | æ¥å£å¯¹æ¥ã€çŠ¶æ€ç®¡ç† |
| è¿ç»´å·¥ç¨‹å¸ˆ | éƒ¨ç½²é…ç½®ã€ç›‘æ§è¿ç»´ |
| æµ‹è¯•å·¥ç¨‹å¸ˆ | æµ‹è¯•ç­–ç•¥ã€æ€§èƒ½æµ‹è¯• |

---

## 2. ç³»ç»Ÿæ¦‚è¿°

### 2.1 ç³»ç»Ÿå®šä½

**IOE-DREAM**ï¼ˆIntelligent Operations & Enterprise - Digital Resource & Enterprise Application Managementï¼‰æ˜¯æ–°ä¸€ä»£**æ™ºæ…§å›­åŒºä¸€å¡é€šç®¡ç†å¹³å°**ï¼Œé›†æˆå¤šæ¨¡æ€ç”Ÿç‰©è¯†åˆ«ã€æ™ºèƒ½é—¨ç¦ã€æ— æ„Ÿæ¶ˆè´¹ã€è‡ªåŠ¨è€ƒå‹¤ã€æ™ºèƒ½è®¿å®¢ã€è§†é¢‘ç›‘æ§ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

### 2.2 æ ¸å¿ƒä»·å€¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    IOE-DREAM æ ¸å¿ƒä»·å€¼                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” èº«ä»½ç»Ÿä¸€ç®¡ç†    ä¸€å¼ è„¸/ä¸€å¼ å¡é€šè¡Œå…¨å›­åŒº                    â”‚
â”‚  âš¡ æ— æ„Ÿé€šè¡Œä½“éªŒ    ç§’çº§è¯†åˆ«ï¼Œæ— éœ€ç­‰å¾…                        â”‚
â”‚  ğŸ›¡ï¸ æ™ºèƒ½å®‰å…¨ä¿éšœ    AIåˆ†æ+å¤šç³»ç»Ÿè”åŠ¨                        â”‚
â”‚  ğŸ“Š æ•°æ®é©±åŠ¨å†³ç­–    åŸºäºå¤§æ•°æ®çš„è¿è¥åˆ†æ                      â”‚
â”‚  ğŸš€ è¿è¥æ•ˆç‡æå‡    è‡ªåŠ¨åŒ–å¤„ç†ï¼Œé™ä½äººå·¥æˆæœ¬                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 ç³»ç»Ÿè¾¹ç•Œ

```mermaid
graph TB
    subgraph å¤–éƒ¨ç³»ç»Ÿ
        A[Webç®¡ç†åå°]
        B[ç§»åŠ¨ç«¯APP]
        C[å°ç¨‹åº]
        D[ç¬¬ä¸‰æ–¹ç³»ç»Ÿ]
        E[IoTè®¾å¤‡]
    end
    
    subgraph IOE-DREAMå¹³å°
        F[APIç½‘å…³]
        G[ä¸šåŠ¡å¾®æœåŠ¡é›†ç¾¤]
        H[æ•°æ®å­˜å‚¨å±‚]
    end
    
    A --> F
    B --> F
    C --> F
    D --> F
    E --> G
    F --> G
    G --> H
```

---

## 3. æ•´ä½“æ¶æ„è®¾è®¡

### 3.1 æ¶æ„å…¨æ™¯å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ã€æ¥å…¥å±‚ - Access Layerã€‘                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Webç®¡ç†å°â”‚  â”‚ç§»åŠ¨ç«¯APPâ”‚  â”‚å¾®ä¿¡å°ç¨‹åºâ”‚  â”‚ç¬¬ä¸‰æ–¹ç³»ç»Ÿâ”‚  â”‚ IoTè®¾å¤‡(é—¨ç¦/è€ƒå‹¤) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚            â”‚            â”‚                   â”‚
        â–¼            â–¼            â–¼            â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ã€ç½‘å…³å±‚ - Gateway Layerã€‘                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    ioedream-gateway-service (8080)                     â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚
â”‚  â”‚  â”‚è·¯ç”±è½¬å‘ â”‚  â”‚è´Ÿè½½å‡è¡¡ â”‚  â”‚é™æµç†”æ–­ â”‚  â”‚èº«ä»½è®¤è¯ â”‚  â”‚æ—¥å¿—è¿½è¸ª â”‚       â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ã€ä¸šåŠ¡æœåŠ¡å±‚ - Service Layerã€‘                      â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         æ ¸å¿ƒä¸šåŠ¡å¾®æœåŠ¡é›†ç¾¤                              â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ common-service   â”‚  â”‚ device-comm      â”‚  â”‚ oa-service       â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ (8088)           â”‚  â”‚ (8087)           â”‚  â”‚ (8089)           â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ å…¬å…±ä¸šåŠ¡æœåŠ¡     â”‚  â”‚ è®¾å¤‡é€šè®¯æœåŠ¡     â”‚  â”‚ OAåŠå…¬æœåŠ¡       â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ access-service   â”‚  â”‚ attendance-svc   â”‚  â”‚ video-service    â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ (8090)           â”‚  â”‚ (8091)           â”‚  â”‚ (8092)           â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ é—¨ç¦ç®¡ç†æœåŠ¡     â”‚  â”‚ è€ƒå‹¤ç®¡ç†æœåŠ¡     â”‚  â”‚ è§†é¢‘ç›‘æ§æœåŠ¡     â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚  â”‚
â”‚  â”‚  â”‚ consume-service  â”‚  â”‚ visitor-service  â”‚                           â”‚  â”‚
â”‚  â”‚  â”‚ (8094)           â”‚  â”‚ (8095)           â”‚                           â”‚  â”‚
â”‚  â”‚  â”‚ æ¶ˆè´¹ç®¡ç†æœåŠ¡     â”‚  â”‚ è®¿å®¢ç®¡ç†æœåŠ¡     â”‚                           â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ã€åŸºç¡€è®¾æ–½å±‚ - Infrastructure Layerã€‘                 â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Nacos     â”‚  â”‚   Redis     â”‚  â”‚  RabbitMQ   â”‚  â”‚   Seata     â”‚         â”‚
â”‚  â”‚ é…ç½®/æ³¨å†Œ   â”‚  â”‚ ç¼“å­˜/ä¼šè¯   â”‚  â”‚  æ¶ˆæ¯é˜Ÿåˆ—   â”‚  â”‚ åˆ†å¸ƒå¼äº‹åŠ¡  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   MySQL     â”‚  â”‚  Zipkin     â”‚  â”‚ Prometheus  â”‚  â”‚  Grafana    â”‚         â”‚
â”‚  â”‚  æ•°æ®å­˜å‚¨   â”‚  â”‚ é“¾è·¯è¿½è¸ª   â”‚  â”‚  æŒ‡æ ‡é‡‡é›†   â”‚  â”‚  å¯è§†åŒ–     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å¾®æœåŠ¡æ¶æ„å›¾

```mermaid
graph TB
    subgraph Gateway["ç½‘å…³å±‚"]
        GW[ioedream-gateway-service<br/>8080]
    end
    
    subgraph Core["æ ¸å¿ƒæœåŠ¡"]
        CS[common-service<br/>8088]
        DC[device-comm-service<br/>8087]
        OA[oa-service<br/>8089]
    end
    
    subgraph Business["ä¸šåŠ¡æœåŠ¡"]
        AC[access-service<br/>8090]
        AT[attendance-service<br/>8091]
        VI[video-service<br/>8092]
        CO[consume-service<br/>8094]
        VS[visitor-service<br/>8095]
    end
    
    subgraph Infra["åŸºç¡€è®¾æ–½"]
        NA[Nacos]
        RD[Redis]
        MQ[RabbitMQ]
        SE[Seata]
        DB[(MySQL)]
    end
    
    GW --> CS
    GW --> DC
    GW --> OA
    GW --> AC
    GW --> AT
    GW --> VI
    GW --> CO
    GW --> VS
    
    CS --> NA
    CS --> RD
    CS --> DB
    
    AC --> MQ
    AT --> MQ
    CO --> SE
```

### 3.3 æœåŠ¡èŒè´£åˆ’åˆ†

| æœåŠ¡åç§° | ç«¯å£ | èŒè´£èŒƒå›´ | æ ¸å¿ƒåŠŸèƒ½ |
|---------|------|---------|---------|
| **gateway-service** | 8080 | APIç½‘å…³ | è·¯ç”±ã€é™æµã€è®¤è¯ã€æ—¥å¿— |
| **common-service** | 8088 | å…¬å…±ä¸šåŠ¡ | ç”¨æˆ·ã€ç»„ç»‡ã€æƒé™ã€å­—å…¸ã€é€šçŸ¥ |
| **device-comm-service** | 8087 | è®¾å¤‡é€šè®¯ | åè®®é€‚é…ã€æ•°æ®é‡‡é›†ã€æŒ‡ä»¤ä¸‹å‘ |
| **oa-service** | 8089 | OAåŠå…¬ | å·¥ä½œæµã€å®¡æ‰¹ã€è¡¨å• |
| **access-service** | 8090 | é—¨ç¦ç®¡ç† | é€šè¡Œè®°å½•ã€æƒé™æ§åˆ¶ã€é˜²åæ½œ |
| **attendance-service** | 8091 | è€ƒå‹¤ç®¡ç† | æ‰“å¡ã€æ’ç­ã€ç»Ÿè®¡ã€å¼‚å¸¸å¤„ç† |
| **video-service** | 8092 | è§†é¢‘ç›‘æ§ | å®æ—¶ç›‘æ§ã€å½•åƒå›æ”¾ã€AIåˆ†æ |
| **consume-service** | 8094 | æ¶ˆè´¹ç®¡ç† | è´¦æˆ·ã€æ”¯ä»˜ã€å¯¹è´¦ã€è¡¥è´´ |
| **visitor-service** | 8095 | è®¿å®¢ç®¡ç† | é¢„çº¦ã€ç™»è®°ã€å®¡æ‰¹ã€é€šè¡Œ |

---

## 4. æŠ€æœ¯é€‰å‹

### 4.1 æŠ€æœ¯æ ˆæ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        IOE-DREAM æŠ€æœ¯æ ˆçŸ©é˜µ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å±‚æ¬¡      â”‚                      æŠ€æœ¯é€‰å‹                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å‰ç«¯      â”‚ Vue 3.4 + Vite 5 + Ant Design Vue 4 + Pinia          â”‚
â”‚   ç§»åŠ¨ç«¯    â”‚ uni-app 3.0 + Vue 3 + uni-ui                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç½‘å…³      â”‚ Spring Cloud Gateway 4.1                              â”‚
â”‚   å¾®æœåŠ¡    â”‚ Spring Boot 3.5.8 + Spring Cloud 2025.0.0            â”‚
â”‚   æ³¨å†Œé…ç½®  â”‚ Nacos 2.x (Spring Cloud Alibaba 2025.0.0.0)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æŒä¹…å±‚    â”‚ MyBatis-Plus 3.5.15 + Druid 1.2.25                   â”‚
â”‚   æ•°æ®åº“    â”‚ MySQL 8.0.35                                          â”‚
â”‚   ç¼“å­˜      â”‚ Redis 7.x + Caffeine 3.1.8                            â”‚
â”‚   æ¶ˆæ¯é˜Ÿåˆ—  â”‚ RabbitMQ 3.x                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   åˆ†å¸ƒå¼äº‹åŠ¡â”‚ Seata 2.0.0                                           â”‚
â”‚   å®¹é”™      â”‚ Resilience4j 2.1.0                                    â”‚
â”‚   é“¾è·¯è¿½è¸ª  â”‚ Micrometer Tracing + Zipkin                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å®‰å…¨è®¤è¯  â”‚ Sa-Token + JWT (JJWT 0.12.6)                          â”‚
â”‚   APIæ–‡æ¡£   â”‚ Springdoc OpenAPI 2.6.0                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç›‘æ§      â”‚ Prometheus + Grafana + Micrometer                     â”‚
â”‚   æ—¥å¿—      â”‚ Logback + ELK                                         â”‚
â”‚   å®¹å™¨åŒ–    â”‚ Docker + Kubernetes                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 æ ¸å¿ƒæ¡†æ¶ç‰ˆæœ¬

| ç»„ä»¶ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **Java** | 17 LTS | é•¿æœŸæ”¯æŒç‰ˆæœ¬ |
| **Spring Boot** | 3.5.8 | æœ€æ–°ç¨³å®šç‰ˆ |
| **Spring Cloud** | 2025.0.0 | æœ€æ–°å‘å¸ƒç‰ˆ |
| **Spring Cloud Alibaba** | 2025.0.0.0 | å®Œå…¨å…¼å®¹ |
| **MyBatis-Plus** | 3.5.15 | ORMæ¡†æ¶ |
| **MySQL** | 8.0.35 | å…³ç³»æ•°æ®åº“ |
| **Redis** | 7.x | ç¼“å­˜æ•°æ®åº“ |

### 4.3 æŠ€æœ¯é€‰å‹å†³ç­–

#### 4.3.1 ä¸ºä»€ä¹ˆé€‰æ‹©Spring Cloud 2025.0.0

| ç‰¹æ€§ | ä¼˜åŠ¿ |
|------|------|
| **å®Œå…¨å…¼å®¹Spring Boot 3.5.x** | äº«å—æœ€æ–°ç‰¹æ€§ï¼Œè™šæ‹Ÿçº¿ç¨‹æ”¯æŒ |
| **Native Imageæ”¯æŒ** | GraalVMåŸç”Ÿé•œåƒï¼Œå¯åŠ¨æ—¶é—´msçº§ |
| **å¯è§‚æµ‹æ€§å¢å¼º** | Micrometer Tracingå†…ç½®æ”¯æŒ |
| **å£°æ˜å¼HTTPå®¢æˆ·ç«¯** | ç®€åŒ–æœåŠ¡é—´è°ƒç”¨ |

#### 4.3.2 ä¸ºä»€ä¹ˆé€‰æ‹©MyBatis-Plus + Druid

| ç‰¹æ€§ | ä¼˜åŠ¿ |
|------|------|
| **MyBatis-Plus** | LambdaæŸ¥è¯¢ã€è‡ªåŠ¨å¡«å……ã€é€»è¾‘åˆ é™¤ |
| **Druid** | SQLç›‘æ§ã€é˜²æ³¨å…¥ã€æ€§èƒ½åˆ†æ |
| **ç»Ÿä¸€è§„èŒƒ** | é¡¹ç›®å…¨å±€ç»Ÿä¸€ï¼Œç¦æ­¢HikariCP |

#### 4.3.3 ä¸ºä»€ä¹ˆé€‰æ‹©Seataåˆ†å¸ƒå¼äº‹åŠ¡

| ç‰¹æ€§ | ä¼˜åŠ¿ |
|------|------|
| **ATæ¨¡å¼** | æ— ä¾µå…¥ï¼Œè‡ªåŠ¨è¡¥å¿ |
| **å¯è§†åŒ–æ§åˆ¶å°** | äº‹åŠ¡çŠ¶æ€ç›‘æ§ |
| **é˜¿é‡ŒèƒŒä¹¦** | å¤§è§„æ¨¡ç”Ÿäº§éªŒè¯ |

---

## 5. åˆ†å±‚æ¶æ„è®¾è®¡

### 5.1 å››å±‚æ¶æ„è§„èŒƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Controller å±‚ - æ¥å£æ§åˆ¶å±‚                    â”‚
â”‚  èŒè´£ï¼šæ¥æ”¶HTTPè¯·æ±‚ã€å‚æ•°éªŒè¯ã€è°ƒç”¨Serviceã€å°è£…å“åº”             â”‚
â”‚  æ³¨è§£ï¼š@RestControllerã€@RequestMappingã€@Valid                  â”‚
â”‚  è§„èŒƒï¼šç¦æ­¢åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œç¦æ­¢ç›´æ¥è°ƒç”¨DAO                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Service å±‚ - æ ¸å¿ƒä¸šåŠ¡å±‚                       â”‚
â”‚  èŒè´£ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€äº‹åŠ¡ç®¡ç†ã€è°ƒç”¨Manager                       â”‚
â”‚  æ³¨è§£ï¼š@Serviceã€@Transactional                                  â”‚
â”‚  è§„èŒƒï¼šä¸šåŠ¡é€»è¾‘å…¥å£ï¼Œç®¡ç†äº‹åŠ¡è¾¹ç•Œ                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Manager å±‚ - ä¸šåŠ¡ç¼–æ’å±‚                       â”‚
â”‚  èŒè´£ï¼šå¤æ‚æµç¨‹ç¼–æ’ã€å¤šDAOæ•°æ®ç»„è£…ã€ç¼“å­˜ç®¡ç†ã€ç¬¬ä¸‰æ–¹é›†æˆ         â”‚
â”‚  è§„èŒƒï¼šçº¯Javaç±»ï¼ˆcommonä¸­ï¼‰æˆ–@Componentï¼ˆå¾®æœåŠ¡ä¸­ï¼‰              â”‚
â”‚  ç‰¹ç‚¹ï¼šå¯è¢«å¤šä¸ªServiceå¤ç”¨                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DAO å±‚ - æ•°æ®è®¿é—®å±‚                           â”‚
â”‚  èŒè´£ï¼šæ•°æ®åº“CRUDã€å¤æ‚SQLæŸ¥è¯¢                                   â”‚
â”‚  æ³¨è§£ï¼š@Mapper (ç¦æ­¢@Repository)                                 â”‚
â”‚  è§„èŒƒï¼šç»§æ‰¿BaseMapper<Entity>ï¼Œä½¿ç”¨LambdaQueryWrapper            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 å±‚é—´è°ƒç”¨è§„èŒƒ

```mermaid
graph TD
    A[Controller] -->|è°ƒç”¨| B[Service]
    B -->|è°ƒç”¨| C[Manager]
    C -->|è°ƒç”¨| D[DAO]
    B -->|ç›´æ¥è°ƒç”¨ç®€å•æŸ¥è¯¢| D
    
    style A fill:#e1f5fe
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e9
```

### 5.3 ä»£ç æ¨¡æ¿ç¤ºä¾‹

#### Controllerå±‚

```java
@RestController
@RequestMapping("/api/v1/users")
@Tag(name = "ç”¨æˆ·ç®¡ç†")
public class UserController {

    @Resource
    private UserService userService;

    @GetMapping("/{id}")
    @Operation(summary = "è·å–ç”¨æˆ·è¯¦æƒ…")
    public ResponseDTO<UserVO> getById(@PathVariable Long id) {
        return ResponseDTO.ok(userService.getById(id));
    }

    @PostMapping
    @Operation(summary = "åˆ›å»ºç”¨æˆ·")
    public ResponseDTO<Long> add(@Valid @RequestBody UserAddForm form) {
        return ResponseDTO.ok(userService.add(form));
    }
}
```

#### Serviceå±‚

```java
@Service
@Transactional(rollbackFor = Exception.class)
public class UserServiceImpl implements UserService {

    @Resource
    private UserDao userDao;
    
    @Resource
    private UserManager userManager;

    @Override
    public UserVO getById(Long id) {
        UserEntity entity = userDao.selectById(id);
        if (entity == null) {
            throw new BusinessException("USER_NOT_FOUND", "ç”¨æˆ·ä¸å­˜åœ¨");
        }
        return userManager.convertToVO(entity);
    }
}
```

#### Managerå±‚

```java
// microservices-commonä¸­çš„Managerï¼ˆçº¯Javaç±»ï¼‰
public class UserManager {
    
    private final UserDao userDao;
    private final DepartmentDao departmentDao;
    
    public UserManager(UserDao userDao, DepartmentDao departmentDao) {
        this.userDao = userDao;
        this.departmentDao = departmentDao;
    }
    
    public UserVO convertToVO(UserEntity entity) {
        UserVO vo = new UserVO();
        BeanUtils.copyProperties(entity, vo);
        // ç»„è£…éƒ¨é—¨ä¿¡æ¯
        if (entity.getDepartmentId() != null) {
            DepartmentEntity dept = departmentDao.selectById(entity.getDepartmentId());
            vo.setDepartmentName(dept != null ? dept.getName() : null);
        }
        return vo;
    }
}
```

#### DAOå±‚

```java
@Mapper
public interface UserDao extends BaseMapper<UserEntity> {

    @Transactional(readOnly = true)
    default List<UserEntity> selectByDepartmentId(Long departmentId) {
        return selectList(new LambdaQueryWrapper<UserEntity>()
                .eq(UserEntity::getDepartmentId, departmentId)
                .eq(UserEntity::getDeletedFlag, 0)
                .orderByDesc(UserEntity::getCreateTime));
    }
}
```

---

## 6. æ•°æ®æ¶æ„è®¾è®¡

### 6.1 æ•°æ®åº“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MySQL æ•°æ®åº“æ¶æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ioedream_common â”‚  â”‚ ioedream_access â”‚  â”‚ioedream_attend â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
â”‚  â”‚  t_common_user  â”‚  â”‚  t_access_recordâ”‚  â”‚t_attend_record â”‚ â”‚
â”‚  â”‚  t_common_dept  â”‚  â”‚  t_access_deviceâ”‚  â”‚t_attend_shift  â”‚ â”‚
â”‚  â”‚  t_common_area  â”‚  â”‚  t_access_perm  â”‚  â”‚t_attend_rule   â”‚ â”‚
â”‚  â”‚  t_common_deviceâ”‚  â”‚                 â”‚  â”‚                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ioedream_consume â”‚  â”‚ioedream_visitor â”‚  â”‚ ioedream_video â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
â”‚  â”‚  t_consume_acct â”‚  â”‚  t_visitor_info â”‚  â”‚ t_video_device â”‚ â”‚
â”‚  â”‚  t_consume_rec  â”‚  â”‚  t_visitor_appt â”‚  â”‚ t_video_record â”‚ â”‚
â”‚  â”‚  t_consume_pay  â”‚  â”‚  t_visitor_reg  â”‚  â”‚ t_video_alarm  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ç¼“å­˜æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¤šçº§ç¼“å­˜æ¶æ„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚    â”‚   L1 ç¼“å­˜   â”‚  Caffeine æœ¬åœ°ç¼“å­˜                           â”‚
â”‚    â”‚  (æ¯«ç§’çº§)   â”‚  TTL: 5åˆ†é’Ÿï¼Œå®¹é‡: 10000                     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚           â”‚ æœªå‘½ä¸­                                              â”‚
â”‚           â–¼                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚    â”‚   L2 ç¼“å­˜   â”‚  Redis åˆ†å¸ƒå¼ç¼“å­˜                            â”‚
â”‚    â”‚  (æ¯«ç§’çº§)   â”‚  TTL: 30åˆ†é’Ÿï¼Œé›†ç¾¤æ¨¡å¼                       â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚           â”‚ æœªå‘½ä¸­                                              â”‚
â”‚           â–¼                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚    â”‚   æ•°æ®åº“    â”‚  MySQL 8.0                                   â”‚
â”‚    â”‚            â”‚  ä¸»ä»å¤åˆ¶ï¼Œè¯»å†™åˆ†ç¦»                            â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„

```mermaid
graph LR
    subgraph Producer["ç”Ÿäº§è€…"]
        P1[é—¨ç¦æœåŠ¡]
        P2[è€ƒå‹¤æœåŠ¡]
        P3[æ¶ˆè´¹æœåŠ¡]
    end
    
    subgraph RabbitMQ["RabbitMQ"]
        E1[access.exchange]
        E2[attendance.exchange]
        E3[notification.exchange]
        
        Q1[access.record.queue]
        Q2[attendance.record.queue]
        Q3[notification.queue]
    end
    
    subgraph Consumer["æ¶ˆè´¹è€…"]
        C1[è®°å½•å¤„ç†æœåŠ¡]
        C2[ç»Ÿè®¡åˆ†ææœåŠ¡]
        C3[é€šçŸ¥æ¨é€æœåŠ¡]
    end
    
    P1 --> E1 --> Q1 --> C1
    P2 --> E2 --> Q2 --> C2
    P3 --> E3 --> Q3 --> C3
```

---

## 7. éƒ¨ç½²æ¶æ„è®¾è®¡

### 7.1 Kuberneteséƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Kubernetes é›†ç¾¤éƒ¨ç½²æ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        Ingress Controller                     â”‚   â”‚
â”‚  â”‚                     (Nginx Ingress / Traefik)                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                      â”‚
â”‚                              â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      Service (ClusterIP)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚                         â”‚                         â”‚           â”‚
â”‚    â–¼                         â–¼                         â–¼           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Namespace   â”‚  â”‚   Namespace   â”‚  â”‚   Namespace   â”‚          â”‚
â”‚  â”‚   ioedream    â”‚  â”‚   middleware  â”‚  â”‚   monitoring  â”‚          â”‚
â”‚  â”‚               â”‚  â”‚               â”‚  â”‚               â”‚          â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚          â”‚
â”‚  â”‚ â”‚Deployment â”‚â”‚  â”‚ â”‚StatefulSetâ”‚â”‚  â”‚ â”‚Deployment â”‚â”‚          â”‚
â”‚  â”‚ â”‚ gateway   â”‚â”‚  â”‚ â”‚  mysql    â”‚â”‚  â”‚ â”‚prometheus â”‚â”‚          â”‚
â”‚  â”‚ â”‚ common    â”‚â”‚  â”‚ â”‚  redis    â”‚â”‚  â”‚ â”‚ grafana   â”‚â”‚          â”‚
â”‚  â”‚ â”‚ access    â”‚â”‚  â”‚ â”‚  rabbitmq â”‚â”‚  â”‚ â”‚  zipkin   â”‚â”‚          â”‚
â”‚  â”‚ â”‚ ...       â”‚â”‚  â”‚ â”‚  nacos    â”‚â”‚  â”‚ â”‚           â”‚â”‚          â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    PersistentVolume (NFS/Ceph)               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 æœåŠ¡å‰¯æœ¬é…ç½®

| æœåŠ¡ | æœ€å°å‰¯æœ¬ | æœ€å¤§å‰¯æœ¬ | CPUè¯·æ±‚ | å†…å­˜è¯·æ±‚ |
|------|---------|---------|---------|---------|
| gateway-service | 2 | 10 | 500m | 512Mi |
| common-service | 2 | 8 | 500m | 1Gi |
| access-service | 2 | 8 | 500m | 1Gi |
| attendance-service | 2 | 6 | 500m | 1Gi |
| consume-service | 2 | 8 | 500m | 1Gi |
| visitor-service | 2 | 4 | 500m | 512Mi |
| video-service | 2 | 6 | 1000m | 2Gi |

### 7.3 é«˜å¯ç”¨è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       é«˜å¯ç”¨æ¶æ„è®¾è®¡                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ã€è´Ÿè½½å‡è¡¡ã€‘                                                    â”‚
â”‚    â€¢ å…¥å£å±‚: Nginx/SLB å¤šå¯ç”¨åŒºéƒ¨ç½²                             â”‚
â”‚    â€¢ æœåŠ¡å±‚: Spring Cloud LoadBalancer                          â”‚
â”‚    â€¢ æ•°æ®å±‚: MySQLä¸»ä» + Redis Cluster                          â”‚
â”‚                                                                 â”‚
â”‚  ã€å®¹é”™æœºåˆ¶ã€‘                                                    â”‚
â”‚    â€¢ ç†”æ–­: Resilience4j CircuitBreaker                          â”‚
â”‚    â€¢ é™æµ: Gateway RateLimiter                                  â”‚
â”‚    â€¢ é™çº§: æœåŠ¡é™çº§ + å…œåº•æ•°æ®                                  â”‚
â”‚    â€¢ é‡è¯•: æ™ºèƒ½é‡è¯• + æŒ‡æ•°é€€é¿                                  â”‚
â”‚                                                                 â”‚
â”‚  ã€æ•°æ®ä¸€è‡´æ€§ã€‘                                                  â”‚
â”‚    â€¢ åˆ†å¸ƒå¼äº‹åŠ¡: Seata ATæ¨¡å¼                                   â”‚
â”‚    â€¢ æ¶ˆæ¯æœ€ç»ˆä¸€è‡´: RabbitMQ + è¡¥å¿æœºåˆ¶                          â”‚
â”‚    â€¢ ç¼“å­˜ä¸€è‡´æ€§: å»¶è¿ŸåŒåˆ  + æ¶ˆæ¯é€šçŸ¥                            â”‚
â”‚                                                                 â”‚
â”‚  ã€ç›‘æ§å‘Šè­¦ã€‘                                                    â”‚
â”‚    â€¢ æŒ‡æ ‡é‡‡é›†: Prometheus + Micrometer                          â”‚
â”‚    â€¢ é“¾è·¯è¿½è¸ª: Zipkin + Brave                                   â”‚
â”‚    â€¢ æ—¥å¿—èšåˆ: ELK Stack                                        â”‚
â”‚    â€¢ å‘Šè­¦é€šçŸ¥: AlertManager                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. å®‰å…¨æ¶æ„è®¾è®¡

### 8.1 å®‰å…¨é˜²æŠ¤ä½“ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å®‰å…¨é˜²æŠ¤ä½“ç³»æ¶æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    ç½‘ç»œå®‰å…¨å±‚                             â”‚   â”‚
â”‚  â”‚  â€¢ WAFé˜²æŠ¤  â€¢ DDoSé˜²æŠ¤  â€¢ SSL/TLSåŠ å¯†  â€¢ VPCéš”ç¦»        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    æ¥å…¥å®‰å…¨å±‚                             â”‚   â”‚
â”‚  â”‚  â€¢ APIé™æµ  â€¢ èº«ä»½è®¤è¯  â€¢ æƒé™æ ¡éªŒ  â€¢ æ—¥å¿—å®¡è®¡          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    åº”ç”¨å®‰å…¨å±‚                             â”‚   â”‚
â”‚  â”‚  â€¢ å‚æ•°æ ¡éªŒ  â€¢ SQLé˜²æ³¨å…¥  â€¢ XSSé˜²æŠ¤  â€¢ CSRFé˜²æŠ¤         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    æ•°æ®å®‰å…¨å±‚                             â”‚   â”‚
â”‚  â”‚  â€¢ æ•°æ®åŠ å¯†  â€¢ å­—æ®µè„±æ•  â€¢ è®¿é—®æ§åˆ¶  â€¢ å¤‡ä»½æ¢å¤         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 è®¤è¯æˆæƒæµç¨‹

```mermaid
sequenceDiagram
    participant Client as å®¢æˆ·ç«¯
    participant Gateway as APIç½‘å…³
    participant Auth as è®¤è¯æœåŠ¡
    participant Service as ä¸šåŠ¡æœåŠ¡
    participant Redis as Redis
    
    Client->>Gateway: 1. ç™»å½•è¯·æ±‚
    Gateway->>Auth: 2. è½¬å‘è®¤è¯
    Auth->>Auth: 3. éªŒè¯å‡­è¯
    Auth->>Redis: 4. å­˜å‚¨Token
    Auth-->>Gateway: 5. è¿”å›JWT
    Gateway-->>Client: 6. ç™»å½•æˆåŠŸ
    
    Client->>Gateway: 7. ä¸šåŠ¡è¯·æ±‚(æºå¸¦JWT)
    Gateway->>Redis: 8. éªŒè¯Token
    Redis-->>Gateway: 9. Tokenæœ‰æ•ˆ
    Gateway->>Service: 10. è½¬å‘è¯·æ±‚
    Service-->>Gateway: 11. ä¸šåŠ¡å“åº”
    Gateway-->>Client: 12. è¿”å›ç»“æœ
```

---

## 9. æ€§èƒ½è®¾è®¡

### 9.1 æ€§èƒ½æŒ‡æ ‡è¦æ±‚

| æŒ‡æ ‡ç±»å‹ | æŒ‡æ ‡é¡¹ | ç›®æ ‡å€¼ |
|---------|--------|--------|
| **å“åº”æ—¶é—´** | APIå¹³å‡å“åº” | < 200ms |
| | API P99å“åº” | < 500ms |
| | æ‰“å¡å“åº” | < 300ms |
| **ååé‡** | ç½‘å…³TPS | > 5000 |
| | æ‰“å¡TPS | > 1000 |
| | æ¶ˆè´¹TPS | > 500 |
| **å¯ç”¨æ€§** | ç³»ç»Ÿå¯ç”¨æ€§ | â‰¥ 99.9% |
| | æ•°æ®ä¸€è‡´æ€§ | å¼ºä¸€è‡´ |

### 9.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

| å±‚æ¬¡ | ä¼˜åŒ–ç­–ç•¥ |
|------|---------|
| **æ¥å£å±‚** | å¼‚æ­¥å¤„ç†ã€æ‰¹é‡æ¥å£ã€å“åº”å‹ç¼© |
| **æœåŠ¡å±‚** | å¹¶è¡Œè°ƒç”¨ã€ç¼“å­˜é¢„çƒ­ã€æ‡’åŠ è½½ |
| **æ•°æ®å±‚** | ç´¢å¼•ä¼˜åŒ–ã€SQLä¼˜åŒ–ã€åˆ†åº“åˆ†è¡¨ |
| **ç¼“å­˜å±‚** | å¤šçº§ç¼“å­˜ã€çƒ­ç‚¹æ•°æ®é¢„åŠ è½½ |
| **ç½‘ç»œå±‚** | è¿æ¥æ± å¤ç”¨ã€é•¿è¿æ¥ã€CDNåŠ é€Ÿ |

---

## 10. èµ„æºä¼˜åŒ–æ¶æ„è®¾è®¡

### 10.1 ç»Ÿä¸€çº¿ç¨‹æ± æ¶æ„

**è®¾è®¡åŸåˆ™**: å°†åˆ†æ•£çš„7+ä¸ªçº¿ç¨‹æ± æ•´åˆä¸º3ä¸ªç»Ÿä¸€çº¿ç¨‹æ± ï¼Œé™ä½èµ„æºæ¶ˆè€—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç»Ÿä¸€çº¿ç¨‹æ± æ¶æ„è®¾è®¡                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    coreExecutor (æ ¸å¿ƒä¸šåŠ¡æ± )             â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ æ ¸å¿ƒçº¿ç¨‹: CPU + 1                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ æœ€å¤§çº¿ç¨‹: CPU Ã— 2                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ é˜Ÿåˆ—å®¹é‡: 500                                      â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ é€‚ç”¨åœºæ™¯: APIè¯·æ±‚ã€ä¸šåŠ¡è®¡ç®—ã€æ•°æ®å¤„ç†              â”‚   â”‚
â”‚  â”‚  â””â”€â”€ æ‹’ç»ç­–ç•¥: CallerRunsPolicy                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    ioExecutor (IOå¯†é›†å‹æ± )               â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ æ ¸å¿ƒçº¿ç¨‹: CPU Ã— 2                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ æœ€å¤§çº¿ç¨‹: CPU Ã— 4                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ é˜Ÿåˆ—å®¹é‡: 1000                                     â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ é€‚ç”¨åœºæ™¯: æ•°æ®åº“æŸ¥è¯¢ã€å¤–éƒ¨APIã€æ–‡ä»¶IO              â”‚   â”‚
â”‚  â”‚  â””â”€â”€ æ‹’ç»ç­–ç•¥: CallerRunsPolicy                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    scheduledExecutor (å®šæ—¶ä»»åŠ¡æ± )        â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ æ ¸å¿ƒçº¿ç¨‹: 5                                        â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ æœ€å¤§çº¿ç¨‹: 20                                       â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ é˜Ÿåˆ—å®¹é‡: 100                                      â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ é€‚ç”¨åœºæ™¯: å®šæ—¶ä»»åŠ¡ã€è°ƒåº¦ä»»åŠ¡                       â”‚   â”‚
â”‚  â”‚  â””â”€â”€ æ‹’ç»ç­–ç•¥: CallerRunsPolicy                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  é¢„æœŸæ•ˆæœ: çº¿ç¨‹æ•°ä»~300å‡å°‘åˆ°~80ï¼Œå†…å­˜èŠ‚çœ200-500MB           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 å¤šçº§ç¼“å­˜ä¼˜åŒ–æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¼˜åŒ–åçš„å¤šçº§ç¼“å­˜æ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚                   L1 æœ¬åœ°ç¼“å­˜ (Caffeine)             â”‚     â”‚
â”‚    â”‚  â”œâ”€â”€ æœ€å¤§å®¹é‡: 5000 (ä»10000ä¼˜åŒ–)                   â”‚     â”‚
â”‚    â”‚  â”œâ”€â”€ å†™å…¥è¿‡æœŸ: 5åˆ†é’Ÿ                                â”‚     â”‚
â”‚    â”‚  â”œâ”€â”€ è®¿é—®ç»­æœŸ: 3åˆ†é’Ÿ                                â”‚     â”‚
â”‚    â”‚  â””â”€â”€ å†…å­˜å ç”¨: ~400MB (ä»~800MBä¼˜åŒ–)                â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                         â”‚ æœªå‘½ä¸­                                â”‚
â”‚                         â–¼                                       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚                   L2 åˆ†å¸ƒå¼ç¼“å­˜ (Redis)             â”‚     â”‚
â”‚    â”‚  â”œâ”€â”€ é»˜è®¤TTL: 30åˆ†é’Ÿ                                â”‚     â”‚
â”‚    â”‚  â”œâ”€â”€ Keyå‰ç¼€: ioedream:{service}:{domain}          â”‚     â”‚
â”‚    â”‚  â””â”€â”€ å†…å­˜å ç”¨: ~1.2GB (ä»~2GBä¼˜åŒ–)                  â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                         â”‚ æœªå‘½ä¸­                                â”‚
â”‚                         â–¼                                       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚                   MySQL æ•°æ®åº“                       â”‚     â”‚
â”‚    â”‚  â””â”€â”€ è¿æ¥æ± : Druid (æŒ‰æœåŠ¡åˆ†çº§é…ç½®)                 â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚  ç¼“å­˜åŸŸé…ç½®:                                                    â”‚
â”‚  â”œâ”€â”€ user: L1=1000, L2-TTL=1h                                  â”‚
â”‚  â”œâ”€â”€ permission: L1=2000, L2-TTL=30m                           â”‚
â”‚  â”œâ”€â”€ device: L1=500, L2-TTL=10m                                â”‚
â”‚  â””â”€â”€ config: L1=500, L2-TTL=24h                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.3 JVMé…ç½®è§„èŒƒ

| æœåŠ¡çº§åˆ« | æœåŠ¡åˆ—è¡¨ | Xms | Xmx | Metaspace | GCç­–ç•¥ |
|---------|---------|-----|-----|-----------|--------|
| åŸºç¡€æœåŠ¡ | gateway, device-comm, visitor | 256m | 512m | 128m | G1 |
| æ ¸å¿ƒæœåŠ¡ | common, access, attendance, consume | 512m | 1g | 192m | G1 |
| é‡å‹æœåŠ¡ | video, oa | 1g | 2g | 256m | G1 |

**ç»Ÿä¸€JVMå‚æ•°æ¨¡æ¿**:

```bash
# åŸºç¡€æœåŠ¡é…ç½®
-Xms256m -Xmx512m -XX:MaxMetaspaceSize=128m
-XX:+UseG1GC -XX:MaxGCPauseMillis=150
-XX:+UseStringDeduplication -XX:+HeapDumpOnOutOfMemoryError

# æ ¸å¿ƒæœåŠ¡é…ç½®
-Xms512m -Xmx1g -XX:MaxMetaspaceSize=192m
-XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:G1HeapRegionSize=8m
-XX:+UseStringDeduplication -XX:+HeapDumpOnOutOfMemoryError

# é‡å‹æœåŠ¡é…ç½®
-Xms1g -Xmx2g -XX:MaxMetaspaceSize=256m
-XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:G1HeapRegionSize=16m
-XX:InitiatingHeapOccupancyPercent=45
-XX:+UseStringDeduplication -XX:+HeapDumpOnOutOfMemoryError
```

### 10.4 æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–é…ç½®

| æœåŠ¡ | max-active | min-idle | è¯´æ˜ |
|------|-----------|----------|------|
| gateway | 10 | 3 | æ— ç›´æ¥DBè®¿é—® |
| common | 30 | 10 | æ ¸å¿ƒæ•°æ®æœåŠ¡ |
| access | 25 | 8 | é«˜é¢‘å†™å…¥ |
| attendance | 25 | 8 | æ‰¹é‡æŸ¥è¯¢ |
| consume | 30 | 10 | äº‹åŠ¡å¯†é›† |
| visitor | 15 | 5 | ä¸­ç­‰è´Ÿè½½ |
| video | 15 | 5 | ä¸»è¦è¯»å– |
| oa | 20 | 5 | å·¥ä½œæµäº‹åŠ¡ |

### 10.5 èµ„æºä¼˜åŒ–é¢„æœŸæ•ˆæœ

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | é™å¹… |
|------|--------|--------|------|
| æ€»å†…å­˜å ç”¨ | 12-16GB | 6-9GB | 40-50% |
| çº¿ç¨‹æ€»æ•° | ~300 | ~80 | 73% |
| æ•°æ®åº“è¿æ¥ | ~200 | ~120 | 40% |
| GCæš‚åœæ—¶é—´ | 200-500ms | 100-200ms | 50% |
| Rediså†…å­˜ | ~2GB | ~1.2GB | 40% |

---

## 11. æ¶æ„ä¼˜åŒ–å»ºè®®

### 11.1 åŸºäºæœ€ä½³å®è·µçš„ä¼˜åŒ–å»ºè®®

| ä¼˜åŒ–é¡¹ | å½“å‰çŠ¶æ€ | å»ºè®®æ”¹è¿› | ä¼˜å…ˆçº§ |
|--------|---------|---------|--------|
| **æœåŠ¡å‘ç°** | Nacos | ç»´æŒç°çŠ¶ï¼Œå·²æ˜¯æœ€ä½³é€‰æ‹© | - |
| **é…ç½®ç®¡ç†** | Nacos | å¢åŠ é…ç½®åŠ å¯†å­˜å‚¨ | P1 |
| **APIç½‘å…³** | Spring Cloud Gateway | å¢åŠ å“åº”ç¼“å­˜ | P2 |
| **ç†”æ–­é™æµ** | Resilience4j | å®Œå–„é™çº§ç­–ç•¥ | P1 |
| **åˆ†å¸ƒå¼è¿½è¸ª** | Zipkin | è€ƒè™‘SkyWalkingï¼ˆæ›´å¼ºAPMèƒ½åŠ›ï¼‰ | P2 |
| **æ—¥å¿—èšåˆ** | Logback | å¢åŠ ELKé›†æˆ | P1 |

### 11.2 æ¶æ„æ¼”è¿›è·¯çº¿

```
Phase 1 (å½“å‰)          Phase 2 (3ä¸ªæœˆ)         Phase 3 (6ä¸ªæœˆ)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ“ å¾®æœåŠ¡åŸºç¡€æ¶æ„        â–¡ æœåŠ¡ç½‘æ ¼(Istio)       â–¡ Serverlessç»„ä»¶
âœ“ å››å±‚æ¶æ„è§„èŒƒ          â–¡ å®Œå–„å¯è§‚æµ‹æ€§          â–¡ å¤šç§Ÿæˆ·æ¶æ„
âœ“ Nacosæ³¨å†Œé…ç½®         â–¡ æ··æ²Œå·¥ç¨‹å®è·µ          â–¡ è¾¹ç¼˜è®¡ç®—æ”¯æŒ
âœ“ åˆ†å¸ƒå¼äº‹åŠ¡            â–¡ è‡ªåŠ¨åŒ–è¿ç»´            â–¡ AIæ™ºèƒ½è°ƒåº¦
âœ“ èµ„æºä¼˜åŒ–æ¶æ„          â–¡ è™šæ‹Ÿçº¿ç¨‹æ”¯æŒ          â–¡ åŸç”Ÿé•œåƒ
```

---

## 12. é™„å½•

### 12.1 ç›¸å…³æ–‡æ¡£

| æ–‡æ¡£åç§° | è·¯å¾„ | è¯´æ˜ |
|---------|------|------|
| è¯¦ç»†è®¾è®¡æ–‡æ¡£ | `documentation/architecture/02-è¯¦ç»†è®¾è®¡æ–‡æ¡£.md` | æ¨¡å—è®¾è®¡ã€ç±»å›¾ã€æ—¶åºå›¾ |
| APIæ¥å£æ–‡æ¡£ | `documentation/api/` | æ¥å£è§„èŒƒå®šä¹‰ |
| æ•°æ®åº“è®¾è®¡ | `documentation/database/` | è¡¨ç»“æ„è®¾è®¡ |
| éƒ¨ç½²æ‰‹å†Œ | `documentation/deployment/` | éƒ¨ç½²é…ç½®æŒ‡å— |

### 11.2 ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹å†…å®¹ | ä¿®æ”¹äºº |
|------|------|---------|--------|
| v1.0.0 | 2025-12-01 | åˆå§‹ç‰ˆæœ¬ | æ¶æ„ç»„ |
| v2.0.0 | 2025-12-17 | å…¨é¢å®Œå–„ï¼Œå¢åŠ æœ€ä½³å®è·µ | æ¶æ„ç»„ |

---

**æ–‡æ¡£ç»´æŠ¤**: IOE-DREAM æ¶æ„å§”å‘˜ä¼š  
**æœ€åæ›´æ–°**: 2025-12-17
