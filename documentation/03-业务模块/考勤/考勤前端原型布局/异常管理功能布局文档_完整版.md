# å¼‚å¸¸ç®¡ç†åŠŸèƒ½å¸ƒå±€æ–‡æ¡£ - å®Œæ•´ç‰ˆ

## åŠŸèƒ½æ¦‚è¿°

å¼‚å¸¸ç®¡ç†æ¨¡å—æ˜¯è€ƒå‹¤ç³»ç»Ÿçš„å¼‚å¸¸å¤„ç†ä¸­å¿ƒï¼ŒåŒ…å«è¯·å‡ç®¡ç†ã€åŠ ç­ç®¡ç†ã€è¡¥ç­¾ç®¡ç†ã€è°ƒç­ç®¡ç†ã€é”€å‡ç®¡ç†ã€å¼‚å¸¸å¤„ç†ç­‰åŠŸèƒ½ã€‚è¯¥æ¨¡å—æä¾›å®Œæ•´çš„å¼‚å¸¸ç”³è¯·ã€å®¡æ‰¹ã€å¤„ç†æµç¨‹ï¼Œæ”¯æŒå¤šç§å¼‚å¸¸ç±»å‹ç®¡ç†ï¼Œå®ç°è€ƒå‹¤å¼‚å¸¸çš„è§„èŒƒåŒ–å¤„ç†å’Œè‡ªåŠ¨åŒ–å®¡æ‰¹ã€‚

## æŠ€æœ¯æ¶æ„è§„èŒƒ

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ ¸å¿ƒæ¡†æ¶**: Vue 3.4.27 (Composition API)
- **UIç»„ä»¶åº“**: Ant Design Vue 4.2.5
- **çŠ¶æ€ç®¡ç†**: Pinia 2.1.7
- **è·¯ç”±ç®¡ç†**: Vue Router 4.3.2
- **HTTPå®¢æˆ·ç«¯**: Axios 1.6.8
- **æ–‡ä»¶ä¸Šä¼ **: Ant Design Vue Upload
- **å·¥ä½œæµå¼•æ“**: Bpmn.js (å¯é€‰)
- **æ ·å¼é¢„å¤„ç†å™¨**: Less 4.2.0
- **å›¾æ ‡åº“**: @ant-design/icons-vue

### é¡¹ç›®æ–‡ä»¶ç»„ç»‡ç»“æ„
```
src/views/business/attendance/exception/
â”œâ”€â”€ index.vue                        # å¼‚å¸¸ç®¡ç†ä¸»é¡µé¢
â”œâ”€â”€ leave/
â”‚   â”œâ”€â”€ index.vue                   # è¯·å‡ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ LeaveApplication.vue    # è¯·å‡ç”³è¯·ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LeaveApproval.vue       # è¯·å‡å®¡æ‰¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LeaveTypeConfig.vue     # è¯·å‡ç±»å‹é…ç½®
â”‚   â”‚   â””â”€â”€ LeaveStatistics.vue     # è¯·å‡ç»Ÿè®¡åˆ†æ
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ leave-api.js            # è¯·å‡API
â”œâ”€â”€ overtime/
â”‚   â”œâ”€â”€ index.vue                   # åŠ ç­ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ OvertimeApplication.vue # åŠ ç­ç”³è¯·ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ OvertimeApproval.vue    # åŠ ç­å®¡æ‰¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ OvertimeRuleConfig.vue  # åŠ ç­è§„åˆ™é…ç½®
â”‚   â”‚   â””â”€â”€ OvertimeStatistics.vue  # åŠ ç­ç»Ÿè®¡åˆ†æ
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ overtime-api.js         # åŠ ç­API
â”œâ”€â”€ supplement/
â”‚   â”œâ”€â”€ index.vue                   # è¡¥ç­¾ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ SupplementApplication.vue # è¡¥ç­¾ç”³è¯·ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SupplementApproval.vue    # è¡¥ç­¾å®¡æ‰¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SupplementRuleConfig.vue  # è¡¥ç­¾è§„åˆ™é…ç½®
â”‚   â”‚   â””â”€â”€ SupplementStatistics.vue  # è¡¥ç­¾ç»Ÿè®¡åˆ†æ
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ supplement-api.js       # è¡¥ç­¾API
â”œâ”€â”€ shift-change/
â”‚   â”œâ”€â”€ index.vue                   # è°ƒç­ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ShiftChangeApplication.vue # è°ƒç­ç”³è¯·ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ShiftChangeApproval.vue    # è°ƒç­å®¡æ‰¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ShiftChangeRuleConfig.vue  # è°ƒç­è§„åˆ™é…ç½®
â”‚   â”‚   â””â”€â”€ ShiftChangeStatistics.vue  # è°ƒç­ç»Ÿè®¡åˆ†æ
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ shift-change-api.js      # è°ƒç­API
â”œâ”€â”€ processing/
â”‚   â”œâ”€â”€ index.vue                   # å¼‚å¸¸å¤„ç†é¡µé¢
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ExceptionList.vue       # å¼‚å¸¸åˆ—è¡¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ExceptionDetail.vue     # å¼‚å¸¸è¯¦æƒ…ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ExceptionAnalyzer.vue   # å¼‚å¸¸åˆ†æç»„ä»¶
â”‚   â”‚   â””â”€â”€ ExceptionStatistics.vue # å¼‚å¸¸ç»Ÿè®¡åˆ†æ
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ processing-api.js       # å¼‚å¸¸å¤„ç†API
â”œâ”€â”€ mock/
â”‚   â””â”€â”€ exception-mock.js           # æ¨¡æ‹Ÿæ•°æ®
â”œâ”€â”€ api/
â”‚   â””â”€â”€ exception-api.js            # ç»Ÿä¸€APIæ¥å£
â””â”€â”€ utils/
    â”œâ”€â”€ workflow-utils.js           # å·¥ä½œæµå·¥å…·å‡½æ•°
    â”œâ”€â”€ approval-utils.js           # å®¡æ‰¹å·¥å…·å‡½æ•°
    â””â”€â”€ notification-utils.js       # é€šçŸ¥å·¥å…·å‡½æ•°
```

### APIæ¥å£è®¾è®¡
```javascript
// src/api/business/attendance/exception/leave-api.js
import { postRequest, getRequest, putRequest, deleteRequest } from '/@/lib/axios';

export const leaveApi = {
  // è¯·å‡ç”³è¯·
  getLeaveApplications: (params) => getRequest('/attendance/exception/leave/applications', params),
  createLeaveApplication: (params) => postRequest('/attendance/exception/leave/apply', params),
  updateLeaveApplication: (id, params) => putRequest(`/attendance/exception/leave/application/${id}`, params),
  deleteLeaveApplication: (id) => deleteRequest(`/attendance/exception/leave/application/${id}`),

  // è¯·å‡å®¡æ‰¹
  getLeaveApprovals: (params) => getRequest('/attendance/exception/leave/approvals', params),
  approveLeaveApplication: (id, params) => postRequest(`/attendance/exception/leave/approve/${id}`, params),
  rejectLeaveApplication: (id, params) => postRequest(`/attendance/exception/leave/reject/${id}`, params),

  // è¯·å‡ç±»å‹
  getLeaveTypes: () => getRequest('/attendance/exception/leave/types'),
  createLeaveType: (params) => postRequest('/attendance/exception/leave/types/create', params),
  updateLeaveType: (id, params) => putRequest(`/attendance/exception/leave/types/${id}`, params),

  // è¯·å‡ç»Ÿè®¡
  getLeaveStatistics: (params) => getRequest('/attendance/exception/leave/statistics', params),
  getLeaveBalance: (employeeId) => getRequest(`/attendance/exception/leave/balance/${employeeId}`),
};

// src/api/business/attendance/exception/overtime-api.js
export const overtimeApi = {
  // åŠ ç­ç”³è¯·
  getOvertimeApplications: (params) => getRequest('/attendance/exception/overtime/applications', params),
  createOvertimeApplication: (params) => postRequest('/attendance/exception/overtime/apply', params),
  updateOvertimeApplication: (id, params) => putRequest(`/attendance/exception/overtime/application/${id}`, params),

  // åŠ ç­å®¡æ‰¹
  getOvertimeApprovals: (params) => getRequest('/attendance/exception/overtime/approvals', params),
  approveOvertimeApplication: (id, params) => postRequest(`/attendance/exception/overtime/approve/${id}`, params),

  // åŠ ç­è§„åˆ™
  getOvertimeRules: () => getRequest('/attendance/exception/overtime/rules'),
  updateOvertimeRule: (id, params) => putRequest(`/attendance/exception/overtime/rule/${id}`, params),

  // åŠ ç­ç»Ÿè®¡
  getOvertimeStatistics: (params) => getRequest('/attendance/exception/overtime/statistics', params),
};
```

## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
## ğŸ“‹ IOE-DREAMä¸ƒå¾®æœåŠ¡æ¶æ„

**æ ¸å¿ƒæ¶æ„ç»„æˆ**:
- **Gateway Service (8080)**: APIç½‘å…³
- **Common Service (8088)**: å…¬å…±æ¨¡å—å¾®æœåŠ¡
- **DeviceComm Service (8087)**: è®¾å¤‡é€šè®¯å¾®æœåŠ¡
- **OA Service (8089)**: OAå¾®æœåŠ¡
- **Access Service (8090)**: é—¨ç¦æœåŠ¡
- **Attendance Service (8091)**: è€ƒå‹¤æœåŠ¡
- **Video Service (8092)**: è§†é¢‘æœåŠ¡
- **Consume Service (8094)**: æ¶ˆè´¹æœåŠ¡
- **Visitor Service (8095)**: è®¿å®¢æœåŠ¡

**æ¶æ„ç‰¹ç‚¹**:
- åŸºäºSpring Boot 3.5.8 + Java 17
- ä¸¥æ ¼éµå¾ªä¼ä¸šçº§å¾®æœåŠ¡è§„èŒƒ
- æ”¯æŒé«˜å¹¶å‘ã€é«˜å¯ç”¨ã€æ°´å¹³æ‰©å±•

**æŠ€æœ¯æ ˆæ ‡å‡†**:
- **æ•°æ®åº“**: MySQL 8.0 + Druidè¿æ¥æ± 
- **ç¼“å­˜**: Redis + Caffeineå¤šçº§ç¼“å­˜
- **æ³¨å†Œä¸­å¿ƒ**: Nacos
- **é…ç½®ä¸­å¿ƒ**: Nacos Config
- **è®¤è¯æˆæƒ**: Sa-Token

## ğŸ—ï¸ å››å±‚æ¶æ„è§„èŒƒ

**æ ‡å‡†æ¶æ„æ¨¡å¼**:
```
Controller (æ¥å£æ§åˆ¶å±‚)
    â†“
Service (æ ¸å¿ƒä¸šåŠ¡å±‚)
    â†“
Manager (æµç¨‹ç®¡ç†å±‚)
    â†“
DAO (æ•°æ®è®¿é—®å±‚)
```

**å±‚çº§èŒè´£**:
- **Controllerå±‚**: HTTPè¯·æ±‚å¤„ç†ã€å‚æ•°éªŒè¯ã€æƒé™æ§åˆ¶
- **Serviceå±‚**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€äº‹åŠ¡ç®¡ç†ã€ä¸šåŠ¡è§„åˆ™éªŒè¯
- **Managerå±‚**: å¤æ‚æµç¨‹ç¼–æ’ã€å¤šæ•°æ®ç»„è£…ã€ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ
- **DAOå±‚**: æ•°æ®åº“CRUDæ“ä½œã€SQLæŸ¥è¯¢å®ç°ã€æ•°æ®è®¿é—®è¾¹ç•Œ

**ä¸¥æ ¼ç¦æ­¢è·¨å±‚è®¿é—®**: Controllerä¸èƒ½ç›´æ¥è°ƒç”¨Manager/DAOï¼
### 1. è¯·å‡ç”³è¯·ç»„ä»¶
## âš ï¸ IOE-DREAMé›¶å®¹å¿è§„åˆ™ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰

**å¿…é¡»éµå®ˆçš„æ¶æ„è§„åˆ™**:
- âœ… **å¿…é¡»ä½¿ç”¨ @Resource æ³¨å…¥ä¾èµ–**
- âœ… **å¿…é¡»ä½¿ç”¨ @Mapper æ³¨è§£** (ç¦æ­¢@Repository)
- âœ… **å¿…é¡»ä½¿ç”¨ Dao åç¼€** (ç¦æ­¢Repository)
- âœ… **å¿…é¡»ä½¿ç”¨ @RestController æ³¨è§£**
- âœ… **å¿…é¡»ä½¿ç”¨ @Valid å‚æ•°æ ¡éªŒ**
- âœ… **å¿…é¡»è¿”å›ç»Ÿä¸€ResponseDTOæ ¼å¼**
- âœ… **å¿…é¡»éµå¾ªå››å±‚æ¶æ„è¾¹ç•Œ**

**ä¸¥æ ¼ç¦æ­¢äº‹é¡¹**:
- âŒ **ç¦æ­¢ä½¿ç”¨ @Autowired æ³¨å…¥**
- âŒ **ç¦æ­¢ä½¿ç”¨ @Repository æ³¨è§£**
- âŒ **ç¦æ­¢ä½¿ç”¨ Repository åç¼€å‘½å**
- âŒ **ç¦æ­¢è·¨å±‚è®¿é—®**
- âŒ **ç¦æ­¢åœ¨Controllerä¸­åŒ…å«ä¸šåŠ¡é€»è¾‘**
- âŒ **ç¦æ­¢ç›´æ¥è®¿é—®æ•°æ®åº“**

**è¿è§„åæœ**: P0çº§é—®é¢˜ï¼Œç«‹å³ä¿®å¤ï¼Œç¦æ­¢åˆå¹¶ï¼

```vue
<!-- src/views/business/attendance/exception/leave/components/LeaveApplication.vue -->
<template>
  <div class="leave-application">
    <a-form
      ref="formRef"
      :model="formData"
      :rules="formRules"
      layout="vertical"
    >
      <a-row :gutter="16">
        <a-col :span="12">
          <a-form-item label="è¯·å‡ç±»å‹" name="leaveType">
            <a-select
              v-model:value="formData.leaveType"
              placeholder="è¯·é€‰æ‹©è¯·å‡ç±»å‹"
              @change="handleLeaveTypeChange"
            >
              <a-select-option
                v-for="type in leaveTypes"
                :key="type.id"
                :value="type.id"
                :disabled="!checkLeaveBalance(type.id)"
              >
                <div class="leave-type-option">
                  <span>{{ type.name }}</span>
                  <span class="balance-info">ä½™é¢: {{ getLeaveBalance(type.id) }}{{ type.unit }}</span>
                </div>
              </a-select-option>
            </a-select>
          </a-form-item>
        </a-col>
        <a-col :span="12">
          <a-form-item label="è¯·å‡äº‹ç”±" name="reason">
            <a-select
              v-model:value="formData.reasonCategory"
              placeholder="è¯·é€‰æ‹©è¯·å‡äº‹ç”±"
              @change="handleReasonChange"
            >
              <a-select-option
                v-for="reason in reasonOptions"
                :key="reason.value"
                :value="reason.value"
              >
                {{ reason.label }}
              </a-select-option>
            </a-select>
          </a-form-item>
        </a-col>
      </a-row>

      <a-row :gutter="16">
        <a-col :span="8">
          <a-form-item label="å¼€å§‹æ—¶é—´" name="startTime">
            <a-date-picker
              v-model:value="formData.startTime"
              show-time
              format="YYYY-MM-DD HH:mm"
              placeholder="é€‰æ‹©å¼€å§‹æ—¶é—´"
              style="width: 100%"
              :disabled-date="disabledStartDate"
              @change="handleDateChange"
            />
          </a-form-item>
        </a-col>
        <a-col :span="8">
          <a-form-item label="ç»“æŸæ—¶é—´" name="endTime">
            <a-date-picker
              v-model:value="formData.endTime"
              show-time
              format="YYYY-MM-DD HH:mm"
              placeholder="é€‰æ‹©ç»“æŸæ—¶é—´"
              style="width: 100%"
              :disabled-date="disabledEndDate"
              @change="handleDateChange"
            />
          </a-form-item>
        </a-col>
        <a-col :span="8">
          <a-form-item label="è¯·å‡æ—¶é•¿">
            <a-input-group compact>
              <a-input-number
                v-model:value="formData.duration"
                :min="0.5"
                :step="0.5"
                style="width: 70%"
                placeholder="æ—¶é•¿"
                :disabled="true"
              />
              <a-input
                style="width: 30%; text-align: center; border-left: 0; pointer-events: none"
                placeholder="å¤©"
                disabled
              />
            </a-input-group>
          </a-form-item>
        </a-col>
      </a-row>

      <a-form-item label="è¯·å‡åŸå› " name="description">
        <a-textarea
          v-model:value="formData.description"
          placeholder="è¯·è¯¦ç»†æè¿°è¯·å‡åŸå› "
          :rows="4"
          show-count
          :maxlength="500"
        />
      </a-form-item>

      <a-form-item label="è¯æ˜æ–‡ä»¶" name="attachments">
        <a-upload
          v-model:file-list="formData.attachments"
          :before-upload="beforeUpload"
          :custom-request="handleUpload"
          :remove="handleRemove"
          multiple
          :max-count="5"
        >
          <a-button>
            <template #icon><UploadOutlined /></template>
            ä¸Šä¼ æ–‡ä»¶
          </a-button>
          <div class="upload-tip">
            æ”¯æŒjpgã€pngã€pdfæ ¼å¼ï¼Œå•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡10MB
          </div>
        </a-upload>
      </a-form-item>

      <a-form-item label="ç´§æ€¥è”ç³»äºº" name="emergencyContact">
        <a-input
          v-model:value="formData.emergencyContact"
          placeholder="ç´§æ€¥è”ç³»äººå§“ååŠç”µè¯"
        />
      </a-form-item>

      <a-form-item label="å·¥ä½œäº¤æ¥">
        <a-switch
          v-model:checked="formData.needsHandover"
          checked-children="éœ€è¦"
          un-checked-children="ä¸éœ€è¦"
        />
      </a-form-item>

      <a-form-item name="handoverInfo" v-if="formData.needsHandover">
        <a-textarea
          v-model:value="formData.handoverInfo"
          placeholder="è¯·æè¿°å·¥ä½œäº¤æ¥å®‰æ’"
          :rows="3"
        />
      </a-form-item>

      <a-form-item>
        <a-space>
          <a-button type="primary" @click="handleSubmit" :loading="submitting">
            æäº¤ç”³è¯·
          </a-button>
          <a-button @click="handleSaveDraft" :loading="saving">
            ä¿å­˜è‰ç¨¿
          </a-button>
          <a-button @click="handleReset">
            é‡ç½®
          </a-button>
        </a-space>
      </a-form-item>
    </a-form>

    <!-- è¯·å‡ä½™é¢æç¤º -->
    <a-modal
      v-model:open="balanceWarningVisible"
      title="ä½™é¢ä¸è¶³æé†’"
      @ok="balanceWarningVisible = false"
    >
      <div class="balance-warning">
        <a-alert
          message="å‡æœŸä½™é¢ä¸è¶³"
          :description="balanceWarningMessage"
          type="warning"
          show-icon
        />
        <div class="balance-details" v-if="currentLeaveType">
          <a-descriptions title="å‡æœŸè¯¦æƒ…" :column="2" size="small">
            <a-descriptions-item label="å‡æœŸç±»å‹">
              {{ currentLeaveType.name }}
            </a-descriptions-item>
            <a-descriptions-item label="å½“å‰ä½™é¢">
              {{ currentLeaveBalance }}{{ currentLeaveType.unit }}
            </a-descriptions-item>
            <a-descriptions-item label="ç”³è¯·æ—¶é•¿">
              {{ formData.duration }}{{ currentLeaveType.unit }}
            </a-descriptions-item>
            <a-descriptions-item label="å·®é¢">
              <span :class="{ 'negative': balanceDiff < 0 }">
                {{ Math.abs(balanceDiff) }}{{ currentLeaveType.unit }}
                {{ balanceDiff < 0 ? '(ä¸è¶³)' : '(å‰©ä½™)' }}
              </span>
            </a-descriptions-item>
          </a-descriptions>
        </div>
      </div>
    </a-modal>
  </div>
</template>

<script setup>
import { ref, reactive, computed, onMounted } from 'vue';
import { message } from 'ant-design-vue';
import { UploadOutlined } from '@ant-design/icons-vue';
import { leaveApi } from '/@/api/business/attendance/exception/leave-api';
import dayjs from 'dayjs';

const props = defineProps({
  employeeId: {
    type: String,
    required: true
  },
  initialData: {
    type: Object,
    default: () => ({})
  }
});

const emit = defineEmits(['submit-success', 'save-draft']);

const formRef = ref();
const submitting = ref(false);
const saving = ref(false);
const balanceWarningVisible = ref(false);
const balanceWarningMessage = ref('');

const leaveTypes = ref([]);
const leaveBalances = ref({});
const reasonOptions = ref([]);
const currentLeaveType = ref(null);
const currentLeaveBalance = ref(0);
const balanceDiff = ref(0);

const formData = reactive({
  leaveType: '',
  reasonCategory: '',
  startTime: null,
  endTime: null,
  duration: 0,
  description: '',
  attachments: [],
  emergencyContact: '',
  needsHandover: false,
  handoverInfo: ''
});

const formRules = {
  leaveType: [
    { required: true, message: 'è¯·é€‰æ‹©è¯·å‡ç±»å‹', trigger: 'change' }
  ],
  reasonCategory: [
    { required: true, message: 'è¯·é€‰æ‹©è¯·å‡äº‹ç”±', trigger: 'change' }
  ],
  startTime: [
    { required: true, message: 'è¯·é€‰æ‹©å¼€å§‹æ—¶é—´', trigger: 'change' }
  ],
  endTime: [
    { required: true, message: 'è¯·é€‰æ‹©ç»“æŸæ—¶é—´', trigger: 'change' }
  ],
  description: [
    { required: true, message: 'è¯·è¾“å…¥è¯·å‡åŸå› ', trigger: 'blur' },
    { min: 10, message: 'è¯·å‡åŸå› è‡³å°‘10ä¸ªå­—ç¬¦', trigger: 'blur' }
  ]
};

// åŠ è½½è¯·å‡ç±»å‹
const loadLeaveTypes = async () => {
  try {
    const response = await leaveApi.getLeaveTypes();
    leaveTypes.value = response.data;
  } catch (error) {
    console.error('åŠ è½½è¯·å‡ç±»å‹å¤±è´¥:', error);
  }
};

// åŠ è½½å‡æœŸä½™é¢
const loadLeaveBalances = async () => {
  try {
    const response = await leaveApi.getLeaveBalance(props.employeeId);
    leaveBalances.value = response.data;
  } catch (error) {
    console.error('åŠ è½½å‡æœŸä½™é¢å¤±è´¥:', error);
  }
};

// æ£€æŸ¥å‡æœŸä½™é¢
const checkLeaveBalance = (leaveTypeId) => {
  const balance = leaveBalances.value[leaveTypeId] || 0;
  return balance > 0;
};

// è·å–å‡æœŸä½™é¢
const getLeaveBalance = (leaveTypeId) => {
  return leaveBalances.value[leaveTypeId] || 0;
};

// è¯·å‡ç±»å‹å˜åŒ–
const handleLeaveTypeChange = (value) => {
  const leaveType = leaveTypes.value.find(type => type.id === value);
  currentLeaveType.value = leaveType;
  currentLeaveBalance.value = getLeaveBalance(value);

  // æ ¹æ®è¯·å‡ç±»å‹è®¾ç½®äº‹ç”±é€‰é¡¹
  updateReasonOptions(value);
};

// æ›´æ–°äº‹ç”±é€‰é¡¹
const updateReasonOptions = (leaveTypeId) => {
  const leaveType = leaveTypes.value.find(type => type.id === leaveTypeId);
  if (leaveType && leaveType.reasonOptions) {
    reasonOptions.value = leaveType.reasonOptions;
  } else {
    reasonOptions.value = [
      { label: 'ä¸ªäººäº‹åŠ¡', value: 'personal' },
      { label: 'èº«ä½“ä¸é€‚', value: 'health' },
      { label: 'å®¶åº­äº‹åŠ¡', value: 'family' },
      { label: 'å…¶ä»–åŸå› ', value: 'other' }
    ];
  }
};

// äº‹ç”±å˜åŒ–
const handleReasonChange = (value) => {
  // æ ¹æ®äº‹ç”±è®¾ç½®é»˜è®¤æè¿°
  const reason = reasonOptions.value.find(r => r.value === value);
  if (reason && reason.template) {
    formData.description = reason.template;
  }
};

// æ—¥æœŸå˜åŒ–
const handleDateChange = () => {
  if (formData.startTime && formData.endTime) {
    calculateDuration();
    checkBalance();
  }
};

// è®¡ç®—è¯·å‡æ—¶é•¿
const calculateDuration = () => {
  const start = formData.startTime;
  const end = formData.endTime;

  if (start && end) {
    // è®¡ç®—å·¥ä½œæ—¥æ—¶é•¿ï¼ˆè€ƒè™‘å·¥ä½œæ—¶é—´å’Œä¼‘æ¯æ—¶é—´ï¼‰
    const duration = calculateWorkDays(start, end);
    formData.duration = duration;
  }
};

// è®¡ç®—å·¥ä½œæ—¥æ—¶é•¿
const calculateWorkDays = (startDate, endDate) => {
  // ç®€åŒ–è®¡ç®—ï¼Œå®é™…åº”è€ƒè™‘å·¥ä½œæ—¶é—´å’ŒèŠ‚å‡æ—¥
  const days = endDate.diff(startDate, 'day', true);
  return Math.ceil(days * 10) / 10; // ä¿ç•™ä¸€ä½å°æ•°
};

// æ£€æŸ¥ä½™é¢
const checkBalance = () => {
  if (!currentLeaveType.value || !formData.duration) return;

  const balance = currentLeaveBalance.value;
  const requested = formData.duration;
  balanceDiff.value = balance - requested;

  if (balanceDiff.value < 0) {
    balanceWarningMessage.value = `æ‚¨çš„${currentLeaveType.value.name}ä½™é¢ä¸è¶³ï¼Œå½“å‰ä½™é¢${balance}å¤©ï¼Œç”³è¯·æ—¶é•¿${requested}å¤©ï¼Œè¿˜éœ€${Math.abs(balanceDiff)}å¤©ã€‚`;
    balanceWarningVisible.value = true;
  }
};

// ç¦ç”¨å¼€å§‹æ—¥æœŸ
const disabledStartDate = (current) => {
  return current && current < dayjs().startOf('day');
};

// ç¦ç”¨ç»“æŸæ—¥æœŸ
const disabledEndDate = (current) => {
  if (!formData.startTime) return false;
  return current && current < formData.startTime.startOf('day');
};

// æ–‡ä»¶ä¸Šä¼ å‰æ£€æŸ¥
const beforeUpload = (file) => {
  const isValidType = ['image/jpeg', 'image/png', 'application/pdf'].includes(file.type);
  if (!isValidType) {
    message.error('åªèƒ½ä¸Šä¼ jpgã€pngã€pdfæ ¼å¼çš„æ–‡ä»¶');
    return false;
  }

  const isLt10M = file.size / 1024 / 1024 < 10;
  if (!isLt10M) {
    message.error('æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡10MB');
    return false;
  }

  return false; // é˜»æ­¢è‡ªåŠ¨ä¸Šä¼ 
};

// è‡ªå®šä¹‰ä¸Šä¼ 
const handleUpload = ({ file, onSuccess, onError }) => {
  // è¿™é‡Œåº”è¯¥è°ƒç”¨ä¸Šä¼ API
  setTimeout(() => {
    onSuccess({ url: `mock-url-${file.name}` });
  }, 1000);
};

// ç§»é™¤æ–‡ä»¶
const handleRemove = (file) => {
  // è¿™é‡Œåº”è¯¥è°ƒç”¨åˆ é™¤API
  return true;
};

// æäº¤ç”³è¯·
const handleSubmit = async () => {
  try {
    await formRef.value.validate();

    if (balanceDiff.value < 0) {
      message.warning('å‡æœŸä½™é¢ä¸è¶³ï¼Œè¯·ç¡®è®¤æ˜¯å¦ç»§ç»­æäº¤');
    }

    submitting.value = true;

    const submitData = {
      ...formData,
      startTime: formData.startTime.format('YYYY-MM-DD HH:mm:ss'),
      endTime: formData.endTime.format('YYYY-MM-DD HH:mm:ss'),
      attachments: formData.attachments.map(file => ({
        name: file.name,
        url: file.url || file.response?.url
      }))
    };

    await leaveApi.createLeaveApplication(submitData);
    message.success('è¯·å‡ç”³è¯·æäº¤æˆåŠŸ');
    emit('submit-success', submitData);
    handleReset();
  } catch (error) {
    if (error.errorFields) {
      message.error('è¯·æ£€æŸ¥è¡¨å•å¡«å†™æ˜¯å¦æ­£ç¡®');
    } else {
      message.error('æäº¤å¤±è´¥');
    }
  } finally {
    submitting.value = false;
  }
};

// ä¿å­˜è‰ç¨¿
const handleSaveDraft = async () => {
  try {
    saving.value = true;

    const draftData = {
      ...formData,
      startTime: formData.startTime?.format('YYYY-MM-DD HH:mm:ss'),
      endTime: formData.endTime?.format('YYYY-MM-DD HH:mm:ss')
    };

    // è¿™é‡Œåº”è¯¥è°ƒç”¨ä¿å­˜è‰ç¨¿API
    console.log('ä¿å­˜è‰ç¨¿:', draftData);

    message.success('è‰ç¨¿ä¿å­˜æˆåŠŸ');
    emit('save-draft', draftData);
  } catch (error) {
    message.error('ä¿å­˜è‰ç¨¿å¤±è´¥');
  } finally {
    saving.value = false;
  }
};

// é‡ç½®è¡¨å•
const handleReset = () => {
  formRef.value?.resetFields();
  Object.assign(formData, {
    leaveType: '',
    reasonCategory: '',
    startTime: null,
    endTime: null,
    duration: 0,
    description: '',
    attachments: [],
    emergencyContact: '',
    needsHandover: false,
    handoverInfo: ''
  });
};

onMounted(() => {
  loadLeaveTypes();
  loadLeaveBalances();

  // å¦‚æœæœ‰åˆå§‹æ•°æ®ï¼Œå¡«å……è¡¨å•
  if (props.initialData && Object.keys(props.initialData).length > 0) {
    Object.assign(formData, props.initialData);
  }
});
</script>

<style scoped lang="less">
.leave-application {
  .leave-type-option {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;

    .balance-info {
      color: #999;
      font-size: 12px;
    }
  }

  .upload-tip {
    color: #999;
    font-size: 12px;
    margin-top: 4px;
  }

  .balance-warning {
    .balance-details {
      margin-top: 16px;

      .negative {
        color: #ff4d4f;
        font-weight: 600;
      }
    }
  }
}
</style>
```

### 2. å¼‚å¸¸å¤„ç†ç»„ä»¶

```vue
<!-- src/views/business/attendance/exception/processing/components/ExceptionAnalyzer.vue -->
<template>
  <div class="exception-analyzer">
    <div class="analyzer-header">
      <h3>å¼‚å¸¸åˆ†æå™¨</h3>
      <div class="analyzer-actions">
        <a-button @click="refreshAnalysis">
          <template #icon><ReloadOutlined /></template>
          åˆ·æ–°åˆ†æ
        </a-button>
        <a-button type="primary" @click="startAnalysis" :loading="analyzing">
          <template #icon><ThunderboltOutlined /></template>
          å¼€å§‹åˆ†æ
        </a-button>
      </div>
    </div>

    <!-- åˆ†æé…ç½® -->
    <div class="analysis-config">
      <a-card title="åˆ†æé…ç½®" :bordered="false">
        <a-form layout="inline">
          <a-form-item label="åˆ†æå‘¨æœŸ">
            <a-range-picker
              v-model:value="analysisConfig.dateRange"
              :shortcuts="dateShortcuts"
            />
          </a-form-item>
          <a-form-item label="å¼‚å¸¸ç±»å‹">
            <a-select
              v-model:value="analysisConfig.exceptionTypes"
              mode="multiple"
              placeholder="é€‰æ‹©å¼‚å¸¸ç±»å‹"
              style="width: 200px"
            >
              <a-select-option value="late">è¿Ÿåˆ°</a-select-option>
              <a-select-option value="early">æ—©é€€</a-select-option>
              <a-select-option value="absent">ç¼ºå‹¤</a-select-option>
              <a-select-option value="forgot">å¿˜æ‰“å¡</a-select-option>
            </a-select>
          </a-form-item>
          <a-form-item label="éƒ¨é—¨èŒƒå›´">
            <a-tree-select
              v-model:value="analysisConfig.departments"
              :tree-data="departmentTree"
              placeholder="é€‰æ‹©éƒ¨é—¨"
              multiple
              tree-checkable
              style="width: 200px"
            />
          </a-form-item>
        </a-form>
      </a-card>
    </div>

    <!-- åˆ†æç»“æœ -->
    <div class="analysis-results" v-if="analysisResults">
      <a-row :gutter="16">
        <a-col :span="6">
          <a-card title="å¼‚å¸¸æ€»è§ˆ" :bordered="false">
            <div class="overview-stats">
              <div class="stat-item">
                <div class="stat-number">{{ analysisResults.totalExceptions }}</div>
                <div class="stat-label">æ€»å¼‚å¸¸æ•°</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">{{ analysisResults.affectedEmployees }}</div>
                <div class="stat-label">æ¶‰åŠå‘˜å·¥</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">{{ analysisResults.avgExceptionsPerEmployee }}</div>
                <div class="stat-label">äººå‡å¼‚å¸¸</div>
              </div>
            </div>
          </a-card>
        </a-col>
        <a-col :span="12">
          <a-card title="å¼‚å¸¸è¶‹åŠ¿" :bordered="false">
            <ExceptionTrendChart :data="analysisResults.trendData" />
          </a-card>
        </a-col>
        <a-col :span="6">
          <a-card title="å¼‚å¸¸åˆ†å¸ƒ" :bordered="false">
            <ExceptionDistributionChart :data="analysisResults.distributionData" />
          </a-card>
        </a-col>
      </a-row>

      <!-- è¯¦ç»†åˆ†æ -->
      <a-card title="è¯¦ç»†åˆ†æ" :bordered="false" style="margin-top: 16px;">
        <a-tabs>
          <a-tab-pane key="patterns" tab="å¼‚å¸¸æ¨¡å¼åˆ†æ">
            <PatternAnalysis :patterns="analysisResults.patterns" />
          </a-tab-pane>
          <a-tab-pane key="causes" tab="åŸå› åˆ†æ">
            <CauseAnalysis :causes="analysisResults.causes" />
          </a-tab-pane>
          <a-tab-pane key="suggestions" tab="æ”¹è¿›å»ºè®®">
            <ImprovementSuggestions :suggestions="analysisResults.suggestions" />
          </a-tab-pane>
          <a-tab-pane key="predictions" tab="é¢„æµ‹åˆ†æ">
            <PredictionAnalysis :predictions="analysisResults.predictions" />
          </a-tab-pane>
        </a-tabs>
      </a-card>
    </div>

    <!-- å¤„ç†å»ºè®® -->
    <div class="processing-suggestions" v-if="analysisResults">
      <a-card title="å¤„ç†å»ºè®®" :bordered="false">
        <a-table
          :columns="suggestionColumns"
          :data-source="analysisResults.processingSuggestions"
          :pagination="false"
          size="small"
        >
          <template #bodyCell="{ column, record }">
            <template v-if="column.key === 'priority'">
              <a-tag :color="getPriorityColor(record.priority)">
                {{ getPriorityText(record.priority) }}
              </a-tag>
            </template>
            <template v-else-if="column.key === 'action'">
              <a-space>
                <a-button type="link" size="small" @click="handleApplySuggestion(record)">
                  åº”ç”¨å»ºè®®
                </a-button>
                <a-button type="link" size="small" @click="handleViewDetail(record)">
                  æŸ¥çœ‹è¯¦æƒ…
                </a-button>
              </a-space>
            </template>
          </template>
        </a-table>
      </a-card>
    </div>
  </div>
</template>

<script setup>
import { ref, reactive, onMounted } from 'vue';
import { message } from 'ant-design-vue';
import {
  ReloadOutlined,
  ThunderboltOutlined
} from '@ant-design/icons-vue';
import { processingApi } from '/@/api/business/attendance/exception/processing-api';
import dayjs from 'dayjs';
import ExceptionTrendChart from './ExceptionTrendChart.vue';
import ExceptionDistributionChart from './ExceptionDistributionChart.vue';
import PatternAnalysis from './PatternAnalysis.vue';
import CauseAnalysis from './CauseAnalysis.vue';
import ImprovementSuggestions from './ImprovementSuggestions.vue';
import PredictionAnalysis from './PredictionAnalysis.vue';

const emit = defineEmits(['analysis-complete', 'suggestion-applied']);

const analyzing = ref(false);
const analysisResults = ref(null);
const departmentTree = ref([]);

const analysisConfig = reactive({
  dateRange: [
    dayjs().subtract(30, 'day'),
    dayjs()
  ],
  exceptionTypes: ['late', 'early', 'absent', 'forgot'],
  departments: []
});

const dateShortcuts = [
  {
    text: 'æœ€è¿‘7å¤©',
    value: () => [dayjs().subtract(7, 'day'), dayjs()],
  },
  {
    text: 'æœ€è¿‘30å¤©',
    value: () => [dayjs().subtract(30, 'day'), dayjs()],
  },
  {
    text: 'æœ€è¿‘90å¤©',
    value: () => [dayjs().subtract(90, 'day'), dayjs()],
  },
];

const suggestionColumns = [
  {
    title: 'å»ºè®®ç±»å‹',
    dataIndex: 'type',
    key: 'type',
    width: 120,
  },
  {
    title: 'ä¼˜å…ˆçº§',
    dataIndex: 'priority',
    key: 'priority',
    width: 80,
  },
  {
    title: 'å»ºè®®å†…å®¹',
    dataIndex: 'content',
    key: 'content',
  },
  {
    title: 'é¢„æœŸæ•ˆæœ',
    dataIndex: 'expectedEffect',
    key: 'expectedEffect',
    width: 150,
  },
  {
    title: 'æ“ä½œ',
    key: 'action',
    width: 150,
  },
];

// åŠ è½½éƒ¨é—¨æ ‘
const loadDepartmentTree = async () => {
  try {
    const response = await processingApi.getDepartmentTree();
    departmentTree.value = response.data;
  } catch (error) {
    console.error('åŠ è½½éƒ¨é—¨æ ‘å¤±è´¥:', error);
  }
};

// å¼€å§‹åˆ†æ
const startAnalysis = async () => {
  analyzing.value = true;
  try {
    const params = {
      ...analysisConfig,
      startDate: analysisConfig.dateRange[0].format('YYYY-MM-DD'),
      endDate: analysisConfig.dateRange[1].format('YYYY-MM-DD')
    };

    const response = await processingApi.analyzeExceptions(params);
    analysisResults.value = response.data;

    message.success('å¼‚å¸¸åˆ†æå®Œæˆ');
    emit('analysis-complete', response.data);
  } catch (error) {
    console.error('å¼‚å¸¸åˆ†æå¤±è´¥:', error);
    message.error('å¼‚å¸¸åˆ†æå¤±è´¥');
  } finally {
    analyzing.value = false;
  }
};

// åˆ·æ–°åˆ†æ
const refreshAnalysis = () => {
  if (analysisResults.value) {
    startAnalysis();
  } else {
    message.info('è¯·å…ˆè¿›è¡Œåˆ†æ');
  }
};

// è·å–ä¼˜å…ˆçº§é¢œè‰²
const getPriorityColor = (priority) => {
  const colorMap = {
    high: 'red',
    medium: 'orange',
    low: 'green'
  };
  return colorMap[priority] || 'default';
};

// è·å–ä¼˜å…ˆçº§æ–‡æœ¬
const getPriorityText = (priority) => {
  const textMap = {
    high: 'é«˜',
    medium: 'ä¸­',
    low: 'ä½'
  };
  return textMap[priority] || 'æœªçŸ¥';
};

// åº”ç”¨å»ºè®®
const handleApplySuggestion = (suggestion) => {
  // åº”ç”¨å¤„ç†å»ºè®®
  emit('suggestion-applied', suggestion);
};

// æŸ¥çœ‹è¯¦æƒ…
const handleViewDetail = (suggestion) => {
  // æŸ¥çœ‹å»ºè®®è¯¦æƒ…
  console.log('æŸ¥çœ‹å»ºè®®è¯¦æƒ…:', suggestion);
};

onMounted(() => {
  loadDepartmentTree();
});
</script>

<style scoped lang="less">
.exception-analyzer {
  .analyzer-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;

    h3 {
      margin: 0;
      font-size: 18px;
      font-weight: 600;
    }
  }

  .analysis-config {
    margin-bottom: 16px;
  }

  .analysis-results {
    .overview-stats {
      display: flex;
      justify-content: space-around;
      text-align: center;

      .stat-item {
        .stat-number {
          font-size: 24px;
          font-weight: 600;
          color: #1890ff;
          line-height: 1;
        }

        .stat-label {
          font-size: 12px;
          color: #666;
          margin-top: 4px;
        }
      }
    }
  }

  .processing-suggestions {
    margin-top: 16px;
  }
}
</style>
```

## Mockæ•°æ®ç¤ºä¾‹

```javascript
// src/mock/exception-mock.js
export const mockLeaveApplications = [
  {
    id: 'leave001',
    employeeId: 'emp001',
    employeeName: 'å¼ ä¸‰',
    leaveType: 'annual',
    leaveTypeName: 'å¹´å‡',
    reasonCategory: 'personal',
    startTime: '2024-01-15 09:00:00',
    endTime: '2024-01-17 18:00:00',
    duration: 3,
    description: 'ä¸ªäººäº‹åŠ¡å¤„ç†ï¼Œéœ€è¦è¯·å‡3å¤©',
    status: 'pending',
    attachments: [],
    emergencyContact: 'æå›› 13800138001',
    needsHandover: true,
    handoverInfo: 'å·¥ä½œå·²äº¤æ¥ç»™ç‹äº”'
  }
];

export const mockOvertimeApplications = [
  {
    id: 'overtime001',
    employeeId: 'emp002',
    employeeName: 'æå››',
    startTime: '2024-01-15 18:00:00',
    endTime: '2024-01-15 22:00:00',
    duration: 4,
    reason: 'é¡¹ç›®ç´§æ€¥ï¼Œéœ€è¦åŠ ç­å®Œæˆ',
    status: 'approved',
    approverId: 'manager001',
    approverName: 'ç‹ç»ç†',
    approveTime: '2024-01-15 10:00:00'
  }
];

export const mockExceptionAnalysis = {
  totalExceptions: 125,
  affectedEmployees: 45,
  avgExceptionsPerEmployee: 2.8,
  trendData: [
    { date: '2024-01-01', count: 12 },
    { date: '2024-01-02', count: 15 },
    { date: '2024-01-03', count: 8 }
  ],
  distributionData: [
    { type: 'è¿Ÿåˆ°', count: 45, percentage: 36 },
    { type: 'æ—©é€€', count: 30, percentage: 24 },
    { type: 'ç¼ºå‹¤', count: 25, percentage: 20 },
    { type: 'å¿˜æ‰“å¡', count: 25, percentage: 20 }
  ],
  patterns: [
    {
      pattern: 'å‘¨ä¸€è¿Ÿåˆ°ç°è±¡ä¸¥é‡',
      frequency: 'é«˜é¢‘',
      description: 'å‘¨ä¸€æ—©ä¸Šè¿Ÿåˆ°ç‡æ¯”å…¶ä»–å·¥ä½œæ—¥é«˜30%'
    }
  ],
  causes: [
    {
      cause: 'äº¤é€šæ‹¥å µ',
      impact: 'é«˜',
      percentage: 40,
      description: 'æ—©é«˜å³°äº¤é€šæ‹¥å µæ˜¯ä¸»è¦åŸå› '
    }
  ],
  suggestions: [
    {
      type: 'åˆ¶åº¦è°ƒæ•´',
      priority: 'high',
      content: 'å»ºè®®è°ƒæ•´å¼¹æ€§å·¥ä½œæ—¶é—´ï¼Œé¿å…é«˜å³°æœŸ',
      expectedEffect: 'é¢„è®¡å‡å°‘è¿Ÿåˆ°ç‡20%'
    }
  ]
};

export default {
  mockLeaveApplications,
  mockOvertimeApplications,
  mockExceptionAnalysis
};
```

## å¼€å‘æ³¨æ„äº‹é¡¹æ€»ç»“

### æ ¸å¿ƒåŠŸèƒ½è¦ç‚¹
1. **ç”³è¯·æµç¨‹** - å®Œæ•´çš„å¼‚å¸¸ç”³è¯·å’Œå®¡æ‰¹æµç¨‹
2. **ç±»å‹ç®¡ç†** - çµæ´»çš„å¼‚å¸¸ç±»å‹é…ç½®
3. **ä½™é¢ç®¡ç†** - å‡†ç¡®çš„å‡æœŸä½™é¢è®¡ç®—å’Œæ§åˆ¶
4. **æ™ºèƒ½åˆ†æ** - å¼‚å¸¸æ•°æ®çš„æ·±åº¦åˆ†æå’Œé¢„æµ‹
5. **æµç¨‹è‡ªåŠ¨åŒ–** - è‡ªåŠ¨åŒ–çš„å®¡æ‰¹å’Œå¤„ç†æµç¨‹
6. **é€šçŸ¥æœºåˆ¶** - åŠæ—¶çš„äº‹åŠ¡é€šçŸ¥å’Œæé†’

### æ€§èƒ½ä¼˜åŒ–å»ºè®®
1. å¼‚å¸¸æ•°æ®åˆ†é¡µåŠ è½½
2. åˆ†æç»“æœç¼“å­˜æœºåˆ¶
3. æ–‡ä»¶ä¸Šä¼ å¼‚æ­¥å¤„ç†
4. å®¡æ‰¹æµç¨‹çŠ¶æ€å®æ—¶æ›´æ–°

### ç”¨æˆ·ä½“éªŒä¼˜åŒ–
1. ç®€åŒ–çš„ç”³è¯·è¡¨å•
2. æ™ºèƒ½çš„è¡¨å•éªŒè¯
3. å®æ—¶çš„ä½™é¢æç¤º
4. ç§»åŠ¨ç«¯å‹å¥½çš„ç•Œé¢

## æ€»ç»“

å¼‚å¸¸ç®¡ç†æ¨¡å—ä½œä¸ºè€ƒå‹¤ç³»ç»Ÿçš„å¼‚å¸¸å¤„ç†æ ¸å¿ƒï¼Œéœ€è¦é‡ç‚¹å…³æ³¨ï¼š

- ç”³è¯·æµç¨‹çš„ä¾¿æ·æ€§å’Œè§„èŒƒæ€§
- å®¡æ‰¹æµç¨‹çš„æ•ˆç‡å’Œé€æ˜åº¦
- æ•°æ®åˆ†æçš„å‡†ç¡®æ€§å’Œæ·±åº¦
- ä½™é¢ç®¡ç†çš„ç²¾ç¡®æ€§å’Œå®æ—¶æ€§
- ç”¨æˆ·ä½“éªŒçš„å‹å¥½æ€§å’Œä¸€è‡´æ€§

é€šè¿‡éµå¾ªæœ¬æ–‡æ¡£çš„æŠ€æœ¯è§„èŒƒï¼Œå¯ä»¥æ„å»ºå‡ºåŠŸèƒ½å®Œå–„ã€æµç¨‹æ¸…æ™°çš„å¼‚å¸¸ç®¡ç†æ¨¡å—ã€‚