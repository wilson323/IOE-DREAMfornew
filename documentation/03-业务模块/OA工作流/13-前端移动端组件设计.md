# OAå·¥ä½œæµæ¨¡å—ç§»åŠ¨ç«¯ç»„ä»¶è®¾è®¡

## ğŸ“± ç§»åŠ¨ç«¯æ¶æ„è®¾è®¡

### æŠ€æœ¯æ ˆé€‰æ‹©
- **å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript
- **ç§»åŠ¨ç«¯æ¡†æ¶**: Vant 4ï¼ˆæˆ–uni-appï¼‰
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±ç®¡ç†**: Vue Router 4
- **HTTPå®¢æˆ·ç«¯**: Axios
- **WebSocket**: Socket.io-client
- **UIç»„ä»¶**: Vant 4 + è‡ªå®šä¹‰ç»„ä»¶
- **æ„å»ºå·¥å…·**: Vite
- **åŒ…ç®¡ç†**: npm/yarn

### é¡¹ç›®ç»“æ„
```
src/
â”œâ”€â”€ components/           # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ common/           # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ mobile/           # ç§»åŠ¨ç«¯ä¸“ç”¨ç»„ä»¶
â”‚   â””â”€â”€ workflow/         # å·¥ä½œæµä¸“ç”¨ç»„ä»¶
â”œâ”€â”€ views/               # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ WorkflowTask/    # ä»»åŠ¡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ PendingTaskList.vue    # å¾…åŠä»»åŠ¡åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ CompletedTaskList.vue  # å·²åŠä»»åŠ¡åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ TaskDetail.vue          # ä»»åŠ¡è¯¦æƒ…
â”‚   â”‚   â””â”€â”€ TaskApproval.vue       # ä»»åŠ¡å®¡æ‰¹
â”‚   â”œâ”€â”€ WorkflowInstance/ # æµç¨‹å®ä¾‹
â”‚   â”‚   â”œâ”€â”€ InstanceList.vue        # æµç¨‹å®ä¾‹åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ InstanceDetail.vue      # æµç¨‹å®ä¾‹è¯¦æƒ…
â”‚   â”‚   â””â”€â”€ InstanceHistory.vue     # æµç¨‹å†å²
â”‚   â””â”€â”€ WorkflowDefinition/ # æµç¨‹å®šä¹‰
â”‚       â”œâ”€â”€ DefinitionList.vue      # æµç¨‹å®šä¹‰åˆ—è¡¨
â”‚       â””â”€â”€ DefinitionDetail.vue    # æµç¨‹å®šä¹‰è¯¦æƒ…
â”œâ”€â”€ store/               # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ workflow.ts       # å·¥ä½œæµçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ task.ts          # ä»»åŠ¡çŠ¶æ€ç®¡ç†
â”œâ”€â”€ api/                 # APIæ¥å£
â”‚   â””â”€â”€ workflow.ts      # å·¥ä½œæµAPI
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â””â”€â”€ assets/              # é™æ€èµ„æº
```

## ğŸ¯ æ ¸å¿ƒé¡µé¢è®¾è®¡

### 1. å¾…åŠä»»åŠ¡åˆ—è¡¨é¡µ (PendingTaskList)

#### é¡µé¢å¸ƒå±€
```vue
<template>
  <div class="pending-task-list">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <van-nav-bar
      title="å¾…åŠä»»åŠ¡"
      :fixed="true"
      :placeholder="true"
      left-arrow
      @click-left="goBack"
    >
      <template #right>
        <van-icon name="search" @click="showSearch" />
        <van-icon name="filter-o" @click="showFilter" />
      </template>
    </van-nav-bar>

    <!-- ç»Ÿè®¡å¡ç‰‡ -->
    <div class="stats-card">
      <van-grid :column-num="4" :gutter="10" :border="false">
        <van-grid-item>
          <div class="stat-item">
            <div class="stat-value urgent">{{ urgentCount }}</div>
            <div class="stat-label">ç´§æ€¥</div>
          </div>
        </van-grid-item>
        <van-grid-item>
          <div class="stat-item">
            <div class="stat-value high">{{ highCount }}</div>
            <div class="stat-label">é«˜</div>
          </div>
        </van-grid-item>
        <van-grid-item>
          <div class="stat-item">
            <div class="stat-value overdue">{{ overdueCount }}</div>
            <div class="stat-label">å·²è¿‡æœŸ</div>
          </div>
        </van-grid-item>
        <van-grid-item>
          <div class="stat-item">
            <div class="stat-value total">{{ totalCount }}</div>
            <div class="stat-label">å…¨éƒ¨</div>
          </div>
        </van-grid-item>
      </van-grid>
    </div>

    <!-- ç­›é€‰æ ‡ç­¾ -->
    <div class="filter-tags">
      <van-tag
        v-for="tag in filterTags"
        :key="tag.value"
        :type="activeFilter === tag.value ? 'primary' : 'default'"
        @click="handleFilter(tag.value)"
      >
        {{ tag.label }}
      </van-tag>
    </div>

    <!-- ä»»åŠ¡åˆ—è¡¨ -->
    <van-pull-refresh v-model="refreshing" @refresh="onRefresh">
      <van-list
        v-model:loading="loading"
        :finished="finished"
        finished-text="æ²¡æœ‰æ›´å¤šäº†"
        @load="onLoad"
      >
        <van-swipe-cell
          v-for="task in taskList"
          :key="task.taskId"
          :right-width="80"
        >
          <van-cell
            :title="task.taskName"
            :label="`${task.processName} - ${task.title}`"
            :value="formatTime(task.dueTime)"
            @click="viewTaskDetail(task.taskId)"
          >
            <template #icon>
              <van-badge
                :content="getPriorityBadge(task.priority)"
                :color="getPriorityColor(task.priority)"
              >
                <van-icon name="orders-o" size="24" />
              </van-badge>
            </template>
            <template #label>
              <div class="task-label">
                <span>å‘èµ·äºº: {{ task.initiatorName }}</span>
                <van-tag
                  :type="getStatusType(task.status)"
                  size="mini"
                >
                  {{ task.statusDesc }}
                </van-tag>
                <van-tag
                  v-if="task.isOverdue"
                  type="danger"
                  size="mini"
                >
                  å·²è¿‡æœŸ
                </van-tag>
              </div>
            </template>
          </van-cell>
          <template #right>
            <van-button
              square
              type="primary"
              text="åŒæ„"
              @click="quickApprove(task.taskId)"
            />
          </template>
        </van-swipe-cell>
      </van-list>
    </van-pull-refresh>

    <!-- åº•éƒ¨æ“ä½œæ  -->
    <div class="bottom-actions">
      <van-button
        type="primary"
        block
        @click="showBatchActions"
      >
        æ‰¹é‡æ“ä½œ
      </van-button>
    </div>
  </div>
</template>
```

**è®¾è®¡è¦ç‚¹**:
- é¡¶éƒ¨å¯¼èˆªæ ï¼šæ ‡é¢˜ã€æœç´¢ã€ç­›é€‰
- ç»Ÿè®¡å¡ç‰‡ï¼šç´§æ€¥ã€é«˜ã€å·²è¿‡æœŸã€å…¨éƒ¨æ•°é‡
- ç­›é€‰æ ‡ç­¾ï¼šå¿«é€Ÿç­›é€‰ï¼ˆå…¨éƒ¨ã€ç´§æ€¥ã€é«˜ã€å·²è¿‡æœŸï¼‰
- ä»»åŠ¡åˆ—è¡¨ï¼šæ”¯æŒä¸‹æ‹‰åˆ·æ–°å’Œä¸Šæ‹‰åŠ è½½
- æ»‘åŠ¨æ“ä½œï¼šå·¦æ»‘å¿«é€ŸåŒæ„
- åº•éƒ¨æ“ä½œæ ï¼šæ‰¹é‡æ“ä½œæŒ‰é’®

**UIç»„ä»¶**:
- ä½¿ç”¨Vantçš„NavBarã€Listã€Cardã€Tagã€Badgeã€SwipeCellã€PullRefreshç»„ä»¶

#### æ ·å¼è®¾è®¡
```scss
.pending-task-list {
  padding-bottom: 60px;
  
  .stats-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 16px;
    margin: 8px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    
    .stat-item {
      text-align: center;
      color: #fff;
      
      .stat-value {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 4px;
        
        &.urgent { color: #ff4d4f; }
        &.high { color: #ff7a45; }
        &.overdue { color: #ff4d4f; }
        &.total { color: #fff; }
      }
      
      .stat-label {
        font-size: 12px;
        opacity: 0.9;
      }
    }
  }
  
  .filter-tags {
    padding: 12px;
    display: flex;
    gap: 8px;
    overflow-x: auto;
    white-space: nowrap;
  }
  
  .task-label {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 4px;
  }
}
```

### 2. ä»»åŠ¡è¯¦æƒ…é¡µ (TaskDetail)

#### é¡µé¢å¸ƒå±€
```vue
<template>
  <div class="task-detail">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <van-nav-bar
      title="ä»»åŠ¡è¯¦æƒ…"
      :fixed="true"
      :placeholder="true"
      left-arrow
      @click-left="goBack"
    >
      <template #right>
        <van-icon name="share-o" @click="shareTask" />
      </template>
    </van-nav-bar>

    <!-- ä»»åŠ¡åŸºæœ¬ä¿¡æ¯ -->
    <van-card>
      <template #title>
        <div class="task-title">
          <van-tag :type="getPriorityType(task.priority)" size="large">
            {{ task.priorityDesc }}
          </van-tag>
          <span>{{ task.taskName }}</span>
        </div>
      </template>
      <template #desc>
        <div class="task-info">
          <div class="info-item">
            <van-icon name="user-o" />
            <span>å‘èµ·äºº: {{ task.initiatorName }}</span>
          </div>
          <div class="info-item">
            <van-icon name="clock-o" />
            <span>æˆªæ­¢æ—¶é—´: {{ formatDateTime(task.dueTime) }}</span>
          </div>
          <div class="info-item">
            <van-icon name="orders-o" />
            <span>æµç¨‹: {{ task.processName }}</span>
          </div>
        </div>
      </template>
    </van-card>

    <!-- æµç¨‹è¿›åº¦ -->
    <van-card title="æµç¨‹è¿›åº¦">
      <van-steps
        :active="currentStep"
        direction="vertical"
        active-color="#1890ff"
      >
        <van-step
          v-for="(step, index) in processSteps"
          :key="index"
        >
          <div class="step-content">
            <div class="step-title">{{ step.name }}</div>
            <div class="step-info">
              <span>{{ step.assignee }}</span>
              <span v-if="step.time">{{ formatDateTime(step.time) }}</span>
            </div>
            <div v-if="step.comment" class="step-comment">
              {{ step.comment }}
            </div>
          </div>
        </van-step>
      </van-steps>
    </van-card>

    <!-- ç”³è¯·å†…å®¹ -->
    <van-card title="ç”³è¯·å†…å®¹">
      <div class="form-content" v-html="formatFormData(task.formData)"></div>
    </van-card>

    <!-- å†å²è®°å½• -->
    <van-card title="å®¡æ‰¹å†å²">
      <van-timeline>
        <van-timeline-item
          v-for="(record, index) in historyRecords"
          :key="index"
          :color="getRecordColor(record.status)"
        >
          <div class="history-item">
            <div class="history-header">
              <span class="history-name">{{ record.name }}</span>
              <van-tag :type="getStatusType(record.status)" size="mini">
                {{ record.statusDesc }}
              </van-tag>
            </div>
            <div class="history-info">
              <span>{{ record.assignee }}</span>
              <span>{{ formatDateTime(record.time) }}</span>
            </div>
            <div v-if="record.comment" class="history-comment">
              {{ record.comment }}
            </div>
          </div>
        </van-timeline-item>
      </van-timeline>
    </van-card>

    <!-- åº•éƒ¨æ“ä½œæ  -->
    <div class="bottom-actions">
      <van-action-bar>
        <van-action-bar-button
          type="warning"
          text="è½¬åŠ"
          @click="showTransferDialog"
        />
        <van-action-bar-button
          type="default"
          text="å§”æ´¾"
          @click="showDelegateDialog"
        />
        <van-action-bar-button
          type="danger"
          text="é©³å›"
          @click="showRejectDialog"
        />
        <van-action-bar-button
          type="primary"
          text="åŒæ„"
          @click="showApproveDialog"
        />
      </van-action-bar>
    </div>

    <!-- å®¡æ‰¹å¯¹è¯æ¡† -->
    <van-dialog
      v-model:show="showApprove"
      title="å®¡æ‰¹æ„è§"
      show-cancel-button
      @confirm="handleApprove"
    >
      <van-field
        v-model="approveComment"
        type="textarea"
        placeholder="è¯·è¾“å…¥å®¡æ‰¹æ„è§ï¼ˆå¯é€‰ï¼‰"
        rows="4"
      />
    </van-dialog>

    <!-- é©³å›å¯¹è¯æ¡† -->
    <van-dialog
      v-model:show="showReject"
      title="é©³å›æ„è§"
      show-cancel-button
      @confirm="handleReject"
    >
      <van-field
        v-model="rejectComment"
        type="textarea"
        placeholder="è¯·è¾“å…¥é©³å›æ„è§ï¼ˆå¿…å¡«ï¼‰"
        rows="4"
        :rules="[{ required: true, message: 'é©³å›æ„è§ä¸èƒ½ä¸ºç©º' }]"
      />
    </van-dialog>
  </div>
</template>
```

**è®¾è®¡è¦ç‚¹**:
- é¡¶éƒ¨å¯¼èˆªæ ï¼šæ ‡é¢˜ã€åˆ†äº«
- ä»»åŠ¡åŸºæœ¬ä¿¡æ¯ï¼šä¼˜å…ˆçº§ã€å‘èµ·äººã€æˆªæ­¢æ—¶é—´
- æµç¨‹è¿›åº¦ï¼šæ—¶é—´è½´å½¢å¼å±•ç¤º
- ç”³è¯·å†…å®¹ï¼šè¡¨å•æ•°æ®å±•ç¤º
- å®¡æ‰¹å†å²ï¼šæ—¶é—´è½´å±•ç¤º
- åº•éƒ¨æ“ä½œæ ï¼šè½¬åŠã€å§”æ´¾ã€é©³å›ã€åŒæ„
- å®¡æ‰¹å¯¹è¯æ¡†ï¼šæ„è§è¾“å…¥

**UIç»„ä»¶**:
- ä½¿ç”¨Vantçš„NavBarã€Cardã€Stepsã€Timelineã€ActionBarã€Dialogã€Fieldç»„ä»¶

### 3. ä»»åŠ¡å®¡æ‰¹é¡µ (TaskApproval)

#### é¡µé¢å¸ƒå±€
```vue
<template>
  <div class="task-approval">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <van-nav-bar
      title="ä»»åŠ¡å®¡æ‰¹"
      :fixed="true"
      :placeholder="true"
      left-arrow
      @click-left="goBack"
    />

    <!-- å¿«é€Ÿå®¡æ‰¹ -->
    <div class="quick-approval">
      <van-button
        type="success"
        size="large"
        block
        @click="quickApprove"
      >
        <van-icon name="success" />
        å¿«é€ŸåŒæ„
      </van-button>
      <van-button
        type="danger"
        size="large"
        block
        @click="showRejectDialog"
      >
        <van-icon name="cross" />
        å¿«é€Ÿé©³å›
      </van-button>
    </div>

    <!-- å®¡æ‰¹è¡¨å• -->
    <van-form @submit="handleSubmit">
      <van-cell-group title="å®¡æ‰¹æ„è§">
        <van-field
          v-model="form.comment"
          type="textarea"
          placeholder="è¯·è¾“å…¥å®¡æ‰¹æ„è§"
          rows="4"
          maxlength="500"
          show-word-limit
        />
      </van-cell-group>

      <van-cell-group title="è¯­éŸ³è¾“å…¥">
        <van-button
          type="primary"
          plain
          block
          @click="startVoiceInput"
        >
          <van-icon name="volume-o" />
          {{ isRecording ? 'æ­£åœ¨å½•éŸ³...' : 'è¯­éŸ³è¾“å…¥' }}
        </van-button>
      </van-cell-group>

      <van-cell-group title="é™„ä»¶">
        <van-uploader
          v-model="form.attachments"
          :max-count="5"
          :after-read="afterRead"
        />
      </van-cell-group>

      <van-cell-group>
        <van-button
          type="primary"
          block
          native-type="submit"
          :loading="submitting"
        >
          æäº¤å®¡æ‰¹
        </van-button>
      </van-cell-group>
    </van-form>
  </div>
</template>
```

**è®¾è®¡è¦ç‚¹**:
- å¿«é€Ÿå®¡æ‰¹æŒ‰é’®ï¼šä¸€é”®åŒæ„/é©³å›
- å®¡æ‰¹æ„è§è¾“å…¥ï¼šæ”¯æŒæ–‡æœ¬å’Œè¯­éŸ³è¾“å…¥
- é™„ä»¶ä¸Šä¼ ï¼šæ”¯æŒä¸Šä¼ å®¡æ‰¹é™„ä»¶
- æäº¤æŒ‰é’®ï¼šå¸¦åŠ è½½çŠ¶æ€

**UIç»„ä»¶**:
- ä½¿ç”¨Vantçš„Formã€Fieldã€Buttonã€Uploaderç»„ä»¶

### 4. æµç¨‹å®ä¾‹åˆ—è¡¨é¡µ (InstanceList)

#### é¡µé¢å¸ƒå±€
```vue
<template>
  <div class="instance-list">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <van-nav-bar
      title="æˆ‘çš„æµç¨‹"
      :fixed="true"
      :placeholder="true"
      left-arrow
      @click-left="goBack"
    >
      <template #right>
        <van-icon name="plus" @click="createInstance" />
      </template>
    </van-nav-bar>

    <!-- çŠ¶æ€ç­›é€‰ -->
    <van-tabs v-model:active="activeTab" @change="handleTabChange">
      <van-tab title="å…¨éƒ¨" name="all" />
      <van-tab title="è¿›è¡Œä¸­" name="running" />
      <van-tab title="å·²å®Œæˆ" name="completed" />
      <van-tab title="å·²ç»ˆæ­¢" name="terminated" />
    </van-tabs>

    <!-- æµç¨‹åˆ—è¡¨ -->
    <van-pull-refresh v-model="refreshing" @refresh="onRefresh">
      <van-list
        v-model:loading="loading"
        :finished="finished"
        finished-text="æ²¡æœ‰æ›´å¤šäº†"
        @load="onLoad"
      >
        <van-card
          v-for="instance in instanceList"
          :key="instance.instanceId"
          @click="viewInstanceDetail(instance.instanceId)"
        >
          <template #title>
            <div class="instance-title">
              <van-tag :type="getStatusType(instance.status)" size="medium">
                {{ instance.statusDesc }}
              </van-tag>
              <span>{{ instance.title }}</span>
            </div>
          </template>
          <template #desc>
            <div class="instance-info">
              <div class="info-item">
                <van-icon name="orders-o" />
                <span>{{ instance.processName }}</span>
              </div>
              <div class="info-item">
                <van-icon name="clock-o" />
                <span>{{ formatDateTime(instance.startTime) }}</span>
              </div>
              <div class="info-item">
                <van-icon name="location-o" />
                <span>å½“å‰èŠ‚ç‚¹: {{ instance.currentNodeName }}</span>
              </div>
            </div>
          </template>
          <template #footer>
            <van-button
              size="small"
              type="primary"
              plain
              @click.stop="viewInstanceDetail(instance.instanceId)"
            >
              æŸ¥çœ‹è¯¦æƒ…
            </van-button>
            <van-button
              v-if="instance.status === 1"
              size="small"
              type="warning"
              plain
              @click.stop="suspendInstance(instance.instanceId)"
            >
              æŒ‚èµ·
            </van-button>
            <van-button
              v-if="instance.status === 1"
              size="small"
              type="danger"
              plain
              @click.stop="terminateInstance(instance.instanceId)"
            >
              ç»ˆæ­¢
            </van-button>
          </template>
        </van-card>
      </van-list>
    </van-pull-refresh>
  </div>
</template>
```

**è®¾è®¡è¦ç‚¹**:
- é¡¶éƒ¨å¯¼èˆªæ ï¼šæ ‡é¢˜ã€æ–°å»ºæŒ‰é’®
- çŠ¶æ€ç­›é€‰ï¼šTabåˆ‡æ¢ï¼ˆå…¨éƒ¨ã€è¿›è¡Œä¸­ã€å·²å®Œæˆã€å·²ç»ˆæ­¢ï¼‰
- æµç¨‹åˆ—è¡¨ï¼šå¡ç‰‡å¼å±•ç¤º
- å¿«é€Ÿæ“ä½œï¼šæŸ¥çœ‹è¯¦æƒ…ã€æŒ‚èµ·ã€ç»ˆæ­¢

**UIç»„ä»¶**:
- ä½¿ç”¨Vantçš„NavBarã€Tabsã€Listã€Cardã€Buttonã€Tagç»„ä»¶

### 5. æµç¨‹å®ä¾‹è¯¦æƒ…é¡µ (InstanceDetail)

#### é¡µé¢å¸ƒå±€
```vue
<template>
  <div class="instance-detail">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <van-nav-bar
      title="æµç¨‹è¯¦æƒ…"
      :fixed="true"
      :placeholder="true"
      left-arrow
      @click-left="goBack"
    >
      <template #right>
        <van-icon name="share-o" @click="shareInstance" />
      </template>
    </van-nav-bar>

    <!-- æµç¨‹åŸºæœ¬ä¿¡æ¯ -->
    <van-card>
      <template #title>
        <div class="instance-title">
          <van-tag :type="getStatusType(instance.status)" size="large">
            {{ instance.statusDesc }}
          </van-tag>
          <span>{{ instance.title }}</span>
        </div>
      </template>
      <template #desc>
        <div class="instance-info">
          <div class="info-item">
            <van-icon name="user-o" />
            <span>å‘èµ·äºº: {{ instance.initiatorName }}</span>
          </div>
          <div class="info-item">
            <van-icon name="clock-o" />
            <span>å¼€å§‹æ—¶é—´: {{ formatDateTime(instance.startTime) }}</span>
          </div>
          <div class="info-item" v-if="instance.endTime">
            <van-icon name="checked" />
            <span>ç»“æŸæ—¶é—´: {{ formatDateTime(instance.endTime) }}</span>
          </div>
          <div class="info-item">
            <van-icon name="location-o" />
            <span>å½“å‰èŠ‚ç‚¹: {{ instance.currentNodeName }}</span>
          </div>
        </div>
      </template>
    </van-card>

    <!-- æµç¨‹å›¾ -->
    <van-card title="æµç¨‹å›¾">
      <div class="process-diagram">
        <img
          :src="diagramUrl"
          alt="æµç¨‹å›¾"
          @click="viewFullDiagram"
        />
      </div>
    </van-card>

    <!-- æµç¨‹å†å² -->
    <van-card title="æµç¨‹å†å²">
      <van-timeline>
        <van-timeline-item
          v-for="(record, index) in historyRecords"
          :key="index"
          :color="getRecordColor(record.status)"
        >
          <div class="history-item">
            <div class="history-header">
              <span class="history-name">{{ record.name }}</span>
              <van-tag :type="getStatusType(record.status)" size="mini">
                {{ record.statusDesc }}
              </van-tag>
            </div>
            <div class="history-info">
              <span>{{ record.assignee }}</span>
              <span>{{ formatDateTime(record.time) }}</span>
            </div>
            <div v-if="record.comment" class="history-comment">
              {{ record.comment }}
            </div>
          </div>
        </van-timeline-item>
      </van-timeline>
    </van-card>

    <!-- æ“ä½œæŒ‰é’® -->
    <div class="action-buttons">
      <van-button
        v-if="instance.status === 1"
        type="warning"
        block
        @click="suspendInstance"
      >
        æŒ‚èµ·æµç¨‹
      </van-button>
      <van-button
        v-if="instance.status === 4"
        type="primary"
        block
        @click="activateInstance"
      >
        æ¿€æ´»æµç¨‹
      </van-button>
      <van-button
        v-if="instance.status === 1"
        type="danger"
        block
        @click="terminateInstance"
      >
        ç»ˆæ­¢æµç¨‹
      </van-button>
    </div>
  </div>
</template>
```

**è®¾è®¡è¦ç‚¹**:
- æµç¨‹åŸºæœ¬ä¿¡æ¯å±•ç¤º
- æµç¨‹å›¾å¯è§†åŒ–ï¼ˆæ”¯æŒç‚¹å‡»æŸ¥çœ‹å¤§å›¾ï¼‰
- æµç¨‹å†å²æ—¶é—´è½´
- æ“ä½œæŒ‰é’®ï¼ˆæŒ‚èµ·ã€æ¿€æ´»ã€ç»ˆæ­¢ï¼‰

**UIç»„ä»¶**:
- ä½¿ç”¨Vantçš„NavBarã€Cardã€Timelineã€Buttonã€ImagePreviewç»„ä»¶

## ğŸ¨ ç§»åŠ¨ç«¯UIè®¾è®¡è§„èŒƒ

### è®¾è®¡åŸåˆ™
- **ç®€æ´**: ç•Œé¢ç®€æ´ï¼Œçªå‡ºæ ¸å¿ƒåŠŸèƒ½
- **å¿«é€Ÿ**: æ“ä½œå¿«é€Ÿï¼Œå‡å°‘ç‚¹å‡»æ¬¡æ•°
- **ç›´è§‚**: ä¿¡æ¯å±•ç¤ºç›´è§‚ï¼Œæ˜“äºç†è§£
- **ç¾è§‚**: ç¬¦åˆç§»åŠ¨ç«¯è®¾è®¡è§„èŒƒ

### è‰²å½©ç³»ç»Ÿ
```scss
// ä¸»è‰²è°ƒ
$primary-color: #1890ff;      // ä¸»è‰²ï¼ˆè“è‰²ï¼‰
$success-color: #52c41a;      // æˆåŠŸï¼ˆç»¿è‰²ï¼‰
$warning-color: #faad14;      // è­¦å‘Šï¼ˆæ©™è‰²ï¼‰
$danger-color: #f5222d;       // é”™è¯¯ï¼ˆçº¢è‰²ï¼‰

// çŠ¶æ€é¢œè‰²
$status-pending: #1890ff;      // å¾…å¤„ç†ï¼ˆè“è‰²ï¼‰
$status-processing: #faad14;   // å¤„ç†ä¸­ï¼ˆæ©™è‰²ï¼‰
$status-completed: #52c41a;    // å·²å®Œæˆï¼ˆç»¿è‰²ï¼‰
$status-rejected: #f5222d;     // å·²é©³å›ï¼ˆçº¢è‰²ï¼‰

// ä¼˜å…ˆçº§é¢œè‰²
$priority-low: #8c8c8c;        // ä½ï¼ˆç°è‰²ï¼‰
$priority-normal: #1890ff;      // æ™®é€šï¼ˆè“è‰²ï¼‰
$priority-high: #faad14;        // é«˜ï¼ˆæ©™è‰²ï¼‰
$priority-urgent: #f5222d;      // ç´§æ€¥ï¼ˆçº¢è‰²ï¼‰
```

### å­—ä½“è§„èŒƒ
```scss
// å­—ä½“å¤§å°
$font-size-xs: 10px;    // è¾…åŠ©ä¿¡æ¯
$font-size-sm: 12px;    // æ¬¡è¦ä¿¡æ¯
$font-size-md: 14px;    // æ­£æ–‡
$font-size-lg: 16px;    // æ ‡é¢˜
$font-size-xl: 18px;    // å¤§æ ‡é¢˜
$font-size-xxl: 20px;   // è¶…å¤§æ ‡é¢˜

// å­—ä½“ç²—ç»†
$font-weight-normal: 400;
$font-weight-medium: 500;
$font-weight-bold: 600;
```

### é—´è·è§„èŒƒ
```scss
// é—´è·
$spacing-xs: 4px;
$spacing-sm: 8px;
$spacing-md: 12px;
$spacing-lg: 16px;
$spacing-xl: 24px;
$spacing-xxl: 32px;
```

### åœ†è§’è§„èŒƒ
```scss
// åœ†è§’
$border-radius-sm: 4px;
$border-radius-md: 8px;
$border-radius-lg: 12px;
$border-radius-xl: 16px;
$border-radius-round: 50%;
```

## ğŸ¯ ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### 1. æ€§èƒ½ä¼˜åŒ–
- **åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨**: ä¼˜åŒ–å¤§æ•°æ®é‡åˆ—è¡¨æ€§èƒ½
- **å›¾ç‰‡æ‡’åŠ è½½**: æµç¨‹å›¾ç‰‡å’Œé™„ä»¶æ”¯æŒæ‡’åŠ è½½
- **æ¥å£ç¼“å­˜**: åˆç†ä½¿ç”¨ç¼“å­˜ï¼Œå‡å°‘é‡å¤è¯·æ±‚
- **é¢„åŠ è½½**: æå‰åŠ è½½ä¸‹ä¸€é¡µæ•°æ®

### 2. äº¤äº’ä¼˜åŒ–
- **ä¸‹æ‹‰åˆ·æ–°**: æ”¯æŒä¸‹æ‹‰åˆ·æ–°åˆ—è¡¨
- **ä¸Šæ‹‰åŠ è½½**: æ”¯æŒä¸Šæ‹‰åŠ è½½æ›´å¤š
- **æ»‘åŠ¨æ“ä½œ**: æ”¯æŒå·¦æ»‘å¿«é€Ÿæ“ä½œ
- **æ‰‹åŠ¿æ“ä½œ**: æ”¯æŒæ‰‹åŠ¿è¿”å›ã€æ»‘åŠ¨åˆ é™¤ç­‰
- **æ“ä½œåé¦ˆ**: æ‰€æœ‰æ“ä½œéƒ½æœ‰æ˜ç¡®çš„åé¦ˆ
- **åŠ è½½çŠ¶æ€**: æ‰€æœ‰å¼‚æ­¥æ“ä½œæ˜¾ç¤ºåŠ è½½çŠ¶æ€

### 3. è§†è§‰ä¼˜åŒ–
- **åŠ¨ç”»æ•ˆæœ**: é€‚åº¦çš„åŠ¨ç”»æ•ˆæœï¼Œæå‡ä½“éªŒ
  - é¡µé¢åˆ‡æ¢åŠ¨ç”»
  - åˆ—è¡¨é¡¹åŠ¨ç”»
  - æŒ‰é’®ç‚¹å‡»åé¦ˆ
- **å›¾æ ‡ç³»ç»Ÿ**: ç»Ÿä¸€çš„å›¾æ ‡åº“ï¼ˆVant Iconsï¼‰
- **å›¾ç‰‡ä¼˜åŒ–**: å›¾ç‰‡å‹ç¼©å’ŒCDNåŠ é€Ÿ
- **æš—é»‘æ¨¡å¼**: æ”¯æŒæš—é»‘æ¨¡å¼åˆ‡æ¢

### 4. åŠŸèƒ½å¢å¼º
- **è¯­éŸ³è¾“å…¥**: æ”¯æŒè¯­éŸ³è¾“å…¥å®¡æ‰¹æ„è§
- **å¿«é€Ÿå®¡æ‰¹**: æ”¯æŒä¸€é”®åŒæ„/é©³å›
- **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡å®¡æ‰¹
- **ç¦»çº¿æ”¯æŒ**: æ”¯æŒç¦»çº¿æŸ¥çœ‹ï¼ˆå·²ç¼“å­˜æ•°æ®ï¼‰
- **æ¨é€é€šçŸ¥**: æ”¯æŒæ¨é€ä»»åŠ¡é€šçŸ¥

## ğŸ“± ç§»åŠ¨ç«¯é€‚é…

### å±å¹•é€‚é…
- **å°å±æ‰‹æœº**: 320px - 375px
- **æ ‡å‡†æ‰‹æœº**: 375px - 414px
- **å¤§å±æ‰‹æœº**: 414px - 480px
- **å¹³æ¿**: 768px+

### å“åº”å¼è®¾è®¡
```scss
// åª’ä½“æŸ¥è¯¢
@media (max-width: 375px) {
  // å°å±é€‚é…
}

@media (min-width: 768px) {
  // å¹³æ¿é€‚é…
}
```

### æ¨ªå±é€‚é…
- æ”¯æŒæ¨ªå±æŸ¥çœ‹æµç¨‹å›¾
- æ¨ªå±æ—¶ä¼˜åŒ–å¸ƒå±€
- æ”¯æŒæ¨ªç«–å±åˆ‡æ¢

## ğŸ”” ç§»åŠ¨ç«¯å®æ—¶é€šä¿¡

### WebSocketè¿æ¥
```javascript
// å»ºç«‹WebSocketè¿æ¥
const ws = new WebSocket('ws://api.ioedream.com/oa/v1/workflow/ws');

// ç›‘å¬æ¶ˆæ¯
ws.onmessage = (event) => {
  const message = JSON.parse(event.data);
  handleMessage(message);
};

// å¤„ç†æ¶ˆæ¯
function handleMessage(message) {
  switch (message.type) {
    case 'NEW_TASK':
      // æ˜¾ç¤ºæ–°ä»»åŠ¡é€šçŸ¥
      showNotification(message.data);
      // æ›´æ–°å¾…åŠä»»åŠ¡æ•°é‡
      updateTaskCount();
      break;
    case 'TASK_STATUS_CHANGED':
      // æ›´æ–°ä»»åŠ¡çŠ¶æ€
      updateTaskStatus(message.data);
      break;
    case 'INSTANCE_STATUS_CHANGED':
      // æ›´æ–°æµç¨‹å®ä¾‹çŠ¶æ€
      updateInstanceStatus(message.data);
      break;
  }
}
```

### æ¨é€é€šçŸ¥
- **æ–°ä»»åŠ¡é€šçŸ¥**: æ”¶åˆ°æ–°ä»»åŠ¡æ—¶æ¨é€é€šçŸ¥
- **ä»»åŠ¡æé†’**: ä»»åŠ¡å³å°†åˆ°æœŸæ—¶æ¨é€æé†’
- **çŠ¶æ€å˜æ›´**: æµç¨‹çŠ¶æ€å˜æ›´æ—¶æ¨é€é€šçŸ¥

## ğŸ“Š ç§»åŠ¨ç«¯æ•°æ®å­—å…¸

### ä»»åŠ¡çŠ¶æ€ï¼ˆç§»åŠ¨ç«¯æ˜¾ç¤ºï¼‰
| å€¼ | è¯´æ˜ | é¢œè‰² | å›¾æ ‡ |
|---|------|------|------|
| 1 | å¾…å¤„ç† | è“è‰² | clock-o |
| 2 | å¤„ç†ä¸­ | æ©™è‰² | loading |
| 3 | å·²å®Œæˆ | ç»¿è‰² | success |
| 4 | å·²è½¬åŠ | ç´«è‰² | swap |
| 5 | å·²å§”æ´¾ | é’è‰² | friends-o |
| 6 | å·²é©³å› | çº¢è‰² | close |

### æµç¨‹å®ä¾‹çŠ¶æ€ï¼ˆç§»åŠ¨ç«¯æ˜¾ç¤ºï¼‰
| å€¼ | è¯´æ˜ | é¢œè‰² | å›¾æ ‡ |
|---|------|------|------|
| 1 | è¿›è¡Œä¸­ | è“è‰² | play-circle-o |
| 2 | å·²å®Œæˆ | ç»¿è‰² | success |
| 3 | å·²ç»ˆæ­¢ | çº¢è‰² | stop-circle-o |
| 4 | å·²æŒ‚èµ· | ç°è‰² | pause-circle-o |

## âœ… ç§»åŠ¨ç«¯æµ‹è¯•

### æµ‹è¯•è®¾å¤‡
- iOSè®¾å¤‡ï¼ˆiPhone 12/13/14/15ï¼‰
- Androidè®¾å¤‡ï¼ˆä¸»æµå“ç‰Œå’Œå‹å·ï¼‰
- å¹³æ¿è®¾å¤‡ï¼ˆiPadã€Androidå¹³æ¿ï¼‰

### æµ‹è¯•ç”¨ä¾‹
1. **ä»»åŠ¡åˆ—è¡¨æµ‹è¯•**
   - ä¸‹æ‹‰åˆ·æ–°
   - ä¸Šæ‹‰åŠ è½½
   - æ»‘åŠ¨æ“ä½œ
   - ç­›é€‰åŠŸèƒ½

2. **ä»»åŠ¡è¯¦æƒ…æµ‹è¯•**
   - ä¿¡æ¯å±•ç¤º
   - æµç¨‹è¿›åº¦
   - å®¡æ‰¹æ“ä½œ

3. **æµç¨‹å®ä¾‹æµ‹è¯•**
   - åˆ—è¡¨å±•ç¤º
   - è¯¦æƒ…æŸ¥çœ‹
   - æ“ä½œåŠŸèƒ½

4. **æ€§èƒ½æµ‹è¯•**
   - åˆ—è¡¨æ»šåŠ¨æ€§èƒ½
   - å›¾ç‰‡åŠ è½½æ€§èƒ½
   - æ¥å£å“åº”æ€§èƒ½

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2025-01-30  
**ç»´æŠ¤äºº**: ç§»åŠ¨ç«¯å›¢é˜Ÿ
