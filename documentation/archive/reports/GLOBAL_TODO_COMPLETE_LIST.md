# IOE-DREAM 待办事项完整清单

**生成时间**: 2025-12-23
**项目**: IOE-DREAM智能管理系统
**总待办数**: 56个
**文档版本**: v1.0.0

---

## 🚨 重要声明：强制手动修复原则

**本文档中所有待办事项的修复都必须遵循以下核心原则：**

> **❌ 禁止脚本代码（强制执行）**
> - 禁止使用脚本批量修改代码
> - 禁止正则表达式批量替换
> - 禁止PowerShell/Shell脚本批量修改
> - 所有修复必须手动逐个文件完成
>
> **✅ 正确修复方式**
> - 使用IDE手动修改每个文件
> - 使用IDE的智能提示和重构功能
> - 逐文件进行代码审查和优化
> - 建立完善的单元测试覆盖
>
> **📖 详细标准**: 请参考 `MANUAL_FIX_MANDATORY_STANDARD.md`

**违反此原则的代码将被拒绝合并！**

---

## 📊 统计概览

| 模块 | P0 | P1 | P2 | 合计 |
|------|----|----|----|----|
| 安全认证 (Security) | 8 | 0 | 0 | 8 |
| 考勤服务 (Attendance) | 2 | 6 | 4 | 12 |
| 视频服务 (Video) | 0 | 8 | 2 | 10 |
| 消费服务 (Consume) | 0 | 2 | 6 | 8 |
| 生物识别 (Biometric) | 0 | 5 | 2 | 7 |
| 设备通讯 (Device Comm) | 0 | 3 | 2 | 5 |
| 门禁服务 (Access) | 0 | 2 | 2 | 4 |
| 访客服务 (Visitor) | 0 | 2 | 2 | 4 |
| 公共模块 (Common) | 0 | 2 | 2 | 4 |
| OA工作流 (OA) | 0 | 2 | 0 | 2 |
| **合计** | **10** | **32** | **14** | **56** |

---

## 🔴 P0级待办事项 (10个)

### 1. 安全认证模块 (8个TODO)

| 编号 | 文件 | 行号 | TODO内容 | 业务场景 | 工作量 | 负责人 |
|------|------|------|---------|---------|--------|--------|
| SEC-001 | JwtTokenUtil.java | 474 | 实现令牌撤销逻辑,将令牌加入黑名单 | 用户退出、强制下线、密码修改 | 3人天 | 安全组 |
| SEC-002 | AuthManager.java | 22 | 实现用户锁定检查逻辑 | 登录失败次数过多锁定 | 2人天 | 安全组 |
| SEC-003 | AuthManager.java | 33 | 实现并发登录检查逻辑 | 限制同一用户多处登录 | 2人天 | 安全组 |
| SEC-004 | AuthManager.java | 45 | 实现用户会话管理逻辑 | 会话创建、查询、删除 | 3人天 | 安全组 |
| SEC-005 | AuthManager.java | 54 | 实现清除登录失败记录逻辑 | 登录成功后清除失败计数 | 1人天 | 安全组 |
| SEC-006 | AuthManager.java | 63 | 实现记录登录失败逻辑 | 记录失败次数和时间 | 2人天 | 安全组 |
| SEC-007 | AuthManager.java | 72 | 实现令牌黑名单逻辑 | 撤销的令牌加入黑名单 | 2人天 | 安全组 |
| SEC-008 | AuthManager.java | 82 | 实现令牌黑名单检查逻辑 | 验证令牌是否被撤销 | 2人天 | 安全组 |

### 2. 考勤服务 (2个TODO)

| 编号 | 文件 | 行号 | TODO内容 | 业务场景 | 工作量 | 负责人 |
|------|------|------|---------|---------|--------|--------|
| ATT-001 | SmartSchedulingEngine.java | 282 | 实现员工数据获取逻辑,通过专门的员工查询API | 智能排班获取部门员工 | 2人天 | 考勤组 |
| ATT-002 | SmartSchedulingEngine.java | 406 | 实现员工数据获取逻辑,可以通过专门的员工查询API | 排班模板应用获取员工 | 2人天 | 考勤组 |

---

## 🟡 P1级待办事项 (32个)

### 3. 考勤服务 - 智能排班 (6个TODO)

| 编号 | 文件 | 行号 | TODO内容 | 业务场景 | 工作量 | 负责人 |
|------|------|------|---------|---------|--------|--------|
| ATT-003 | SmartSchedulingEngine.java | 214 | 优化排班算法 (遗传算法实现) | 排班优化算法增强 | 5人天 | 算法组 |
| ATT-004 | ScheduleEngineImpl.java | 156 | 实现排班冲突检测逻辑 | 检测时间冲突、人员冲突 | 3人天 | 考勤组 |
| ATT-005 | ConflictDetectorImpl.java | 89 | 实现冲突解决策略 | 自动解决排班冲突 | 3人天 | 考勤组 |
| ATT-006 | SchedulePredictorImpl.java | 67 | 实现排班需求预测算法 | 基于历史数据预测人员需求 | 4人天 | 算法组 |
| ATT-007 | ScheduleOptimizerImpl.java | 78 | 实现多目标优化算法 | 成本、覆盖率、满意度优化 | 5人天 | 算法组 |
| ATT-008 | AttendanceRuleEngineImpl.java | 134 | 完善考勤规则引擎实现 | 复杂规则配置和执行 | 4人天 | 考勤组 |

### 4. 视频服务 (8个TODO)

| 编号 | 文件 | 行号 | TODO内容 | 业务场景 | 工作量 | 负责人 |
|------|------|------|---------|---------|--------|--------|
| VID-001 | RTSPAdapter.java | 145 | 优化RTSP流连接稳定性 | 视频流断线重连 | 3人天 | 视频组 |
| VID-002 | RTMPAdapter.java | 89 | 实现RTMP流解析优化 | 低延迟直播流 | 2人天 | 视频组 |
| VID-003 | HTTPAdapter.java | 112 | 实现HTTP流认证逻辑 | 摄像头鉴权访问 | 2人天 | 视频组 |
| VID-004 | VideoAiAnalysisServiceImpl.java | 234 | 实现AI行为分析算法 | 徘徊、聚集、越界检测 | 4人天 | AI组 |
| VID-005 | VideoFaceServiceImpl.java | 178 | 优化人脸识别性能 | 实时人脸抓拍和识别 | 3人天 | AI组 |
| VID-006 | VideoBehaviorManager.java | 89 | 实现行为分析模型训练 | 自定义行为识别 | 5人天 | AI组 |
| VID-007 | VideoPTZManager.java | 156 | 实现PTZ预置位管理 | 摄像头云台预置位 | 2人天 | 视频组 |
| VID-008 | EdgeVideoProcessor.java | 201 | 实现边缘AI计算协同 | 设备端AI分析 | 4人天 | 视频组 |

### 5. 生物识别服务 (5个TODO)

| 编号 | 文件 | 行号 | TODO内容 | 业务场景 | 工作量 | 负责人 |
|------|------|------|---------|---------|--------|--------|
| BIO-001 | ImageProcessingUtil.java | 172 | 集成OpenCV实现真正的人脸检测 | 人脸识别预处理 | 3人天 | 生物组 |
| BIO-002 | ImageProcessingUtil.java | 201 | 集成OpenCV实现真正的人脸对齐 | 提升识别准确率 | 2人天 | 生物组 |
| BIO-003 | FaceFeatureExtractionStrategy.java | 89 | 优化人脸特征提取算法 | 512维特征向量提取 | 4人天 | 算法组 |
| BIO-004 | BiometricFeatureExtractionServiceImpl.java | 151 | 实现指纹特征提取 | 指纹识别支持 | 5人天 | 生物组 |
| BIO-005 | BiometricFeatureExtractionServiceImpl.java | 190 | 实现虹膜特征提取 | 虹膜识别支持 | 5人天 | 生物组 |

### 6. 设备通讯服务 (3个TODO)

| 编号 | 文件 | 行号 | TODO内容 | 业务场景 | 工作量 | 负责人 |
|------|------|------|---------|---------|--------|--------|
| DEV-001 | ProtocolAdapterFactory.java | 67 | 实现协议自动发现机制 | 设备自动识别和配置 | 3人天 | 设备组 |
| DEV-002 | RS485ProtocolManager.java | 134 | 实现RS485设备并发控制 | 多设备同时访问 | 2人天 | 设备组 |
| DEV-003 | ProtocolDiscoveryServiceImpl.java | 89 | 实现设备协议兼容性检查 | 设备接入前验证 | 2人天 | 设备组 |

### 7. 其他模块 (10个TODO)

| 编号 | 模块 | 文件 | TODO内容 | 工作量 | 负责人 |
|------|------|------|---------|--------|--------|
| CON-001 | 消费 | ConsumeSubsidyServiceImpl.java:89 | 优化补贴发放批量处理性能 | 3人天 | 消费组 |
| CON-002 | 消费 | ConsumeReportServiceImpl.java:234 | 实现复杂报表统计功能 | 4人天 | 消费组 |
| ACC-001 | 门禁 | MultiModalAuthenticationServiceImpl.java:178 | 实现多模态认证融合策略 | 4人天 | 门禁组 |
| ACC-002 | 门禁 | AccessMonitorServiceImpl.java:201 | 实现实时通行数据推送 | 2人天 | 门禁组 |
| VIS-001 | 访客 | TemporaryVisitorStrategy.java:89 | 实现临时访客审批流程 | 3人天 | 访客组 |
| VIS-002 | 访客 | RegularVisitorStrategy.java:112 | 实现常客权限管理 | 2人天 | 访客组 |
| OA-001 | OA | ApprovalServiceImpl.java:234 | 实现审批流程回退功能 | 3人天 | OA组 |
| OA-002 | OA | WorkflowSimulationServiceImpl.java:178 | 实现流程模拟预测功能 | 4人天 | OA组 |

---

## 🟢 P2级待办事项 (14个)

### 8. 监控和性能优化 (4个TODO)

| 编号 | 文件 | 行号 | TODO内容 | 业务场景 | 工作量 | 负责人 |
|------|------|------|---------|---------|--------|--------|
| MON-001 | EnterpriseMonitoringManager.java | 114 | 实现监控初始化逻辑 | 监控指标采集 | 2人天 | 运维组 |
| MON-002 | AlertManager.java | 111 | 实现从数据库或配置中心重新加载告警规则 | 告警规则动态刷新 | 2人天 | 运维组 |
| PERF-001 | AttendanceReportServiceImpl.java | 345 | 优化报表查询性能 (大数据量) | 报表性能提升 | 3人天 | 考勤组 |
| PERF-002 | VideoWallServiceImpl.java | 189 | 实现视频墙多画面优化 | 多视频流同时显示 | 3人天 | 视频组 |

### 9. 考勤服务 - 其他功能 (4个TODO)

| 编号 | 文件 | 行号 | TODO内容 | 业务场景 | 工作量 | 负责人 |
|------|------|------|---------|---------|--------|--------|
| ATT-009 | RealtimeCalculationEngineImpl.java | 234 | 优化实时考勤计算性能 | 实时打卡计算 | 3人天 | 考勤组 |
| ATT-010 | AttendanceMobileServiceImpl.java | 178 | 实现离线打卡数据同步 | 移动端离线打卡 | 2人天 | 考勤组 |
| ATT-011 | ShiftService.java | 89 | 实现智能排班推荐 | 基于历史数据推荐排班 | 4人天 | 算法组 |
| ATT-012 | LeaveService.java | 234 | 实现请假流程与考勤联动 | 请假后自动调整排班 | 3人天 | 考勤组 |

### 10. 消费服务 - 其他功能 (6个TODO)

| 编号 | 文件 | 行号 | TODO内容 | 业务场景 | 工作量 | 负责人 |
|------|------|------|---------|---------|--------|--------|
| CON-003 | ConsumeSubsidyManager.java | 312 | 实现补贴过期自动提醒 | 补贴到期通知 | 2人天 | 消费组 |
| CON-004 | ConsumeProductManager.java | 156 | 实现商品库存预警 | 库存不足提醒 | 2人天 | 消费组 |
| CON-005 | ConsumeRechargeManager.java | 234 | 实现充值记录导出功能 | 充值明细导出 | 2人天 | 消费组 |
| CON-006 | ConsumeTransactionManager.java | 345 | 实现交易流水自动归档 | 历史数据归档 | 3人天 | 消费组 |
| CON-007 | ConsumeAccountManager.java | 178 | 实现账户余额预警 | 余额不足提醒 | 2人天 | 消费组 |
| CON-008 | ConsumeAreaManager.java | 234 | 实现区域消费统计 | 区域消费分析 | 3人天 | 消费组 |

---

## 📋 实施计划甘特图

```
周次:  W1  W2  W3  W4  W5  W6  W7  W8
------------------------------------------------------
P0-安全
  JWT令牌撤销      ██
  用户锁定         ██
  并发控制         ████
  会话管理         ████

P1-核心功能
  智能排班         ██████████
  视频AI分析       ████████████
  生物识别         ██████████
  设备通讯         ███████

P2-优化项
  监控告警         ████
  性能优化         ████████
  报表优化         ██████
```

**说明**:
- W1-W2: P0级安全认证 (必须优先完成)
- W3-W5: P1级核心功能开发
- W6-W8: P2级优化项和完善

---

## 📊 优先级矩阵

```
高影响 │ SEC-001  SEC-002  ATT-003  ATT-007
      │ SEC-003  SEC-004  VID-004  BIO-004
      │ SEC-005  SEC-006  VID-006  BIO-005
      │ SEC-007  SEC-008
      │
中影响 │ ATT-001  ATT-002  VID-001  CON-001
      │ ATT-004  ATT-005  VID-002  CON-002
      │ ATT-006  ATT-008  VID-003  OA-001
      │                 VID-005  OA-002
      │                 VID-007
      │                 VID-008
      │
低影响 │ MON-001  MON-002  CON-003  CON-007
      │ PERF-001 PERF-002 CON-004  CON-008
      │ ATT-009  ATT-010  CON-005
      │ ATT-011  ATT-012  CON-006
      │
      └──────────────────────────────────
        低紧急度 ←───────→ 高紧急度
```

**优先级排序原则**:
1. **右上角 (高影响+高紧急)**: 立即处理 (P0)
2. **左上角 (高影响+低紧急)**: 尽快安排 (P1)
3. **右下角 (低影响+高紧急)**: 计划处理 (P1)
4. **左下角 (低影响+低紧急)**: 后续优化 (P2)

---

## 🎯 关键成功因素 (CSF)

### 技术层面

1. **架构一致性**
   - 严格遵循四层架构
   - 统一使用@Resource和@Mapper
   - 遵循日志规范 (@Slf4j)

2. **代码质量**
   - SonarQube质量门禁通过
   - 单元测试覆盖率 ≥ 80%
   - 无高危安全漏洞

3. **性能指标**
   - 接口响应时间 < 500ms (P99)
   - 并发支持 ≥ 1000用户
   - 系统可用性 ≥ 99.9%

### 管理层面

1. **团队协作**
   - 每日站会跟踪进度
   - 代码Review制度
   - 技术文档同步更新

2. **风险管理**
   - 每周风险评估
   - 关键路径监控
   - 缓冲时间预留 (20%)

3. **质量保障**
   - 持续集成 (CI/CD)
   - 自动化测试
   - 性能基准测试

---

## 📞 联系方式

**项目组**:
- 项目经理: pm@ioe-dream.com
- 架构师: architect@ioe-dream.com
- 技术支持: tech-support@ioe-dream.com

**紧急联系**:
- 24小时值班: +86-xxx-xxxx-xxxx
- 企业微信群: IOE-DREAM开发组

---

**文档版本**: v1.0.0
**最后更新**: 2025-12-23
**下次审查**: 2025-12-30
