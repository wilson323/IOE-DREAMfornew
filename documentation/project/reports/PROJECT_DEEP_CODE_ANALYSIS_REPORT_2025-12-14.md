# ğŸ” IOE-DREAM é¡¹ç›®ä»£ç æ·±åº¦åˆ†ææŠ¥å‘Š

> **åˆ†ææ—¥æœŸ**: 2025-12-14  
> **åˆ†æèŒƒå›´**: å…¨é¡¹ç›®ä»£ç ç»“æ„æ·±åº¦æ¢³ç†ï¼ˆå‰åç«¯ï¼‰  
> **åˆ†ææ–¹æ³•**: å®é™…ä»£ç æ‰«æä¸æ¶æ„å®¡æŸ¥  
> **åˆ†æç»“è®º**: ğŸŸ¢ é¡¹ç›®æ•´ä½“è´¨é‡è‰¯å¥½ï¼Œå·²å®Œæˆå¤§éƒ¨åˆ†è§„èŒƒæ•´æ”¹

---

## ğŸ“Š é¡¹ç›®è§„æ¨¡ç»Ÿè®¡

### ä»£ç æ–‡ä»¶ç»Ÿè®¡

| ç±»åˆ« | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| **Javaæºæ–‡ä»¶** | 879ä¸ª | å¾®æœåŠ¡åç«¯ä»£ç ï¼ˆä¸å«targetï¼‰ |
| **Vueç»„ä»¶** | 315ä¸ª | å‰ç«¯ç®¡ç†åå° |
| **JavaScriptæ–‡ä»¶** | 143ä¸ª | å‰ç«¯é€»è¾‘ä»£ç  |
| **æ–‡æ¡£æ–‡ä»¶** | 1,079ä¸ª | Markdownæ–‡æ¡£ |
| **è„šæœ¬æ–‡ä»¶** | 62ä¸ª | PowerShell/Shellè„šæœ¬ |
| **é…ç½®æ–‡ä»¶** | 45+ä¸ª | YAML/Propertiesé…ç½® |

### å¾®æœåŠ¡ä»£ç åˆ†å¸ƒ

| å¾®æœåŠ¡åç§° | Javaæ–‡ä»¶æ•° | æµ‹è¯•æ–‡ä»¶æ•° | ç«¯å£ | æ¶æ„å®Œæ•´æ€§ |
|-----------|-----------|-----------|------|-----------|
| **ioedream-gateway-service** | 24 | 4 | 8080 | âœ… å®Œæ•´ |
| **ioedream-common-service** | 65 | 17 | 8088 | âœ… å®Œæ•´ |
| **ioedream-device-comm-service** | 45 | 11 | 8087 | âœ… å®Œæ•´ |
| **ioedream-oa-service** | 49 | 7 | 8089 | âœ… å®Œæ•´ |
| **ioedream-access-service** | 45 | 10 | 8090 | âœ… å®Œæ•´ |
| **ioedream-attendance-service** | 61 | 15 | 8091 | âœ… å®Œæ•´ |
| **ioedream-video-service** | 16 | 5 | 8092 | âœ… å®Œæ•´ |
| **ioedream-consume-service** | 198 | 40 | 8094 | âœ… å®Œæ•´ |
| **ioedream-visitor-service** | 34 | 8 | 8095 | âœ… å®Œæ•´ |
| **microservices-common** | 325 | 47 | - | âœ… å®Œæ•´ |
| **microservices-common-core** | 7 | 0 | - | âœ… å®Œæ•´ |

**æ€»è®¡**: 879ä¸ªJavaæ–‡ä»¶ï¼Œ165ä¸ªæµ‹è¯•æ–‡ä»¶

---

## âœ… ä»£ç è´¨é‡åˆ†æ

### 1. æ³¨è§£è§„èŒƒæ£€æŸ¥

#### @Repository è¿è§„æ£€æŸ¥
```
æ£€æŸ¥ç»“æœ: âœ… æ— è¿è§„
å®é™…ä½¿ç”¨: 0ä¸ªæ–‡ä»¶ä½¿ç”¨@Repositoryæ³¨è§£
è§„èŒƒè¦æ±‚: ä½¿ç”¨@Mapperæ³¨è§£æ›¿ä»£@Repository
```

**éªŒè¯ç»“æœ**: æ‰€æœ‰DAOå±‚æ¥å£å‡ä½¿ç”¨`@Mapper`æ³¨è§£ï¼Œç¬¦åˆCLAUDE.mdè§„èŒƒã€‚

#### @Autowired è¿è§„æ£€æŸ¥
```
æ£€æŸ¥ç»“æœ: âœ… åŸºæœ¬åˆè§„
è¿è§„æ–‡ä»¶: 1ä¸ªï¼ˆæµ‹è¯•æ–‡ä»¶ï¼‰
ä½ç½®: ioedream-gateway-service/src/test/java/.../GatewaySecurityIntegrationTest.java
```

**è¯´æ˜**: ä»…åœ¨æµ‹è¯•æ–‡ä»¶ä¸­å­˜åœ¨1å¤„`@Autowired`ä½¿ç”¨ï¼Œç”Ÿäº§ä»£ç å…¨éƒ¨ä½¿ç”¨`@Resource`æ³¨è§£ã€‚

#### @Mapper ä½¿ç”¨ç»Ÿè®¡
```
æ£€æŸ¥ç»“æœ: âœ… è§„èŒƒä½¿ç”¨
ä½¿ç”¨æ–‡ä»¶: 84ä¸ªDAOæ¥å£
è¦†ç›–ç‡: 100%
```

#### @Resource ä½¿ç”¨ç»Ÿè®¡
```
æ£€æŸ¥ç»“æœ: âœ… è§„èŒƒä½¿ç”¨
ä½¿ç”¨æ–‡ä»¶: 167ä¸ªæ–‡ä»¶
æ€»ä½¿ç”¨æ¬¡æ•°: 443æ¬¡
```

### 2. å››å±‚æ¶æ„æ£€æŸ¥

#### æ¶æ„å±‚æ¬¡ç»Ÿè®¡

| å±‚æ¬¡ | ç±»æ•°é‡ | è¯´æ˜ |
|------|--------|------|
| **Controllerå±‚** | 50+ | æ§åˆ¶å™¨ç±» |
| **Serviceå±‚** | 94+ | æœåŠ¡å®ç°ç±» |
| **Managerå±‚** | 116+ | ä¸šåŠ¡ç®¡ç†ç±» |
| **DAOå±‚** | 84+ | æ•°æ®è®¿é—®æ¥å£ |

#### å„å¾®æœåŠ¡æ¶æ„å®Œæ•´æ€§

| å¾®æœåŠ¡ | Controller | Service | Manager | DAO | è¯„çº§ |
|--------|------------|---------|---------|-----|------|
| gateway-service | âœ… 2ä¸ª | âœ… 3ä¸ª | âœ… é…ç½® | - | ğŸŸ¢ |
| common-service | âœ… 10+ | âœ… 12+ | âœ… 5+ | âœ… 8+ | ğŸŸ¢ |
| device-comm-service | âœ… 5+ | âœ… 6+ | âœ… 3+ | âœ… 4+ | ğŸŸ¢ |
| oa-service | âœ… 5+ | âœ… 6+ | âœ… 3+ | âœ… 3+ | ğŸŸ¢ |
| access-service | âœ… 5ä¸ª | âœ… 5ä¸ª | âœ… é…ç½® | âœ… 8ä¸ª | ğŸŸ¢ |
| attendance-service | âœ… 7ä¸ª | âœ… 8ä¸ª | âœ… é…ç½® | âœ… 6+ | ğŸŸ¢ |
| video-service | âœ… 3+ | âœ… 3+ | âœ… é…ç½® | âœ… 2+ | ğŸŸ¢ |
| consume-service | âœ… 12ä¸ª | âœ… 20+ | âœ… 7ä¸ª | âœ… 9ä¸ª | ğŸŸ¢ |
| visitor-service | âœ… 4+ | âœ… 5+ | âœ… é…ç½® | âœ… 3+ | ğŸŸ¢ |

---

## âš™ï¸ é…ç½®æ–‡ä»¶åˆ†æ

### é…ç½®è§„èŒƒæ€§æ£€æŸ¥

#### 1. Nacosé…ç½® âœ…
```yaml
# æ‰€æœ‰å¾®æœåŠ¡ç»Ÿä¸€ä½¿ç”¨Spring Cloud Alibaba 2025.0.0.0é…ç½®æ ¼å¼
spring:
  config:
    import:
      - "optional:nacos:ioedream-xxx-service-docker.yaml"
  cloud:
    nacos:
      discovery:
        server-addr: ${NACOS_SERVER_ADDR:127.0.0.1:8848}
        namespace: ${NACOS_NAMESPACE:dev}
        group: ${NACOS_GROUP:IOE-DREAM}
```

**è¯„ä¼°**: âœ… é…ç½®æ ¼å¼ç»Ÿä¸€ï¼Œæ”¯æŒ`optional:`å‰ç¼€ï¼Œç¬¦åˆ2025.0.0.0ç‰ˆæœ¬è§„èŒƒ

#### 2. æ•°æ®æºé…ç½® âœ…
```yaml
spring:
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    druid:
      initial-size: ${DRUID_INITIAL_SIZE:5}
      min-idle: ${DRUID_MIN_IDLE:5}
      max-active: ${DRUID_MAX_ACTIVE:20}
```

**è¯„ä¼°**: âœ… ä½¿ç”¨Druidè¿æ¥æ± ï¼Œé…ç½®å‚æ•°åŒ–ï¼Œæ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–

#### 3. MyBatis-Plusé…ç½® âœ…
```yaml
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl
    cache-enabled: true
  global-config:
    db-config:
      id-type: ASSIGN_ID
      logic-delete-field: deletedFlag
```

**è¯„ä¼°**: âœ… é…ç½®å®Œæ•´ï¼Œæ”¯æŒé€»è¾‘åˆ é™¤ï¼ŒIDç­–ç•¥ç»Ÿä¸€

#### 4. Gatewayè·¯ç”±é…ç½® âœ…
```yaml
spring:
  cloud:
    gateway:
      routes:
        - id: ioedream-access-service
          uri: lb://ioedream-access-service
          predicates:
            - Path=/api/v1/access/**
```

**è¯„ä¼°**: âœ… è·¯ç”±é…ç½®æ¸…æ™°ï¼Œæ”¯æŒè´Ÿè½½å‡è¡¡ï¼ŒAPIè·¯å¾„è§„èŒƒ

---

## ğŸ¨ å‰ç«¯ä»£ç åˆ†æ

### é¡¹ç›®ç»“æ„

```
smart-admin-web-javascript/src/
â”œâ”€â”€ api/                    # APIæ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ access/            # é—¨ç¦API
â”‚   â”œâ”€â”€ business/          # ä¸šåŠ¡API
â”‚   â”œâ”€â”€ support/           # æ”¯æŒAPI
â”‚   â””â”€â”€ system/            # ç³»ç»ŸAPI
â”œâ”€â”€ views/                  # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ access/            # é—¨ç¦ç®¡ç†
â”‚   â”œâ”€â”€ business/          # ä¸šåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ support/           # æ”¯æŒæ¨¡å—
â”‚   â””â”€â”€ system/            # ç³»ç»Ÿç®¡ç†
â”œâ”€â”€ components/             # å…¬å…±ç»„ä»¶
â”œâ”€â”€ router/                 # è·¯ç”±é…ç½®
â”œâ”€â”€ store/                  # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â””â”€â”€ config/                 # é…ç½®æ–‡ä»¶
```

### ä»£ç è§„èŒƒæ£€æŸ¥

#### 1. Vueç»„ä»¶è§„èŒƒ âœ…
- ä½¿ç”¨Vue3 Composition API (`<script setup>`)
- ç»„ä»¶å‘½åé‡‡ç”¨PascalCase
- æ¨¡æ¿ç»“æ„æ¸…æ™°ï¼Œä½¿ç”¨Ant Design Vueç»„ä»¶åº“

#### 2. APIæ¥å£è§„èŒƒ âœ…
```javascript
// ç¤ºä¾‹ï¼šaccess-api.js
export const getDeviceList = (params) => {
  return getRequest('/access/device/list', params);
};
```
- ç»Ÿä¸€ä½¿ç”¨`getRequest`/`postRequest`å°è£…
- APIè·¯å¾„ä¸åç«¯ä¿æŒä¸€è‡´
- å¯¼å‡ºå‘½åè§„èŒƒ

#### 3. è·¯ç”±é…ç½® âœ…
- æŒ‰ä¸šåŠ¡æ¨¡å—åˆ†ç±»ï¼ˆbusiness/support/systemï¼‰
- è·¯ç”±æ‡’åŠ è½½
- æƒé™æ§åˆ¶é›†æˆ

---

## ğŸ“ æ ¹ç›®å½•æ–‡ä»¶æ£€æŸ¥

### å½“å‰æ ¹ç›®å½•æ–‡ä»¶æ¸…å•

| æ–‡ä»¶å | å¤§å° | çŠ¶æ€ |
|--------|------|------|
| `.cursorrules` | 17KB | âœ… é…ç½®æ–‡ä»¶ |
| `.editorconfig` | 1KB | âœ… ç¼–è¾‘å™¨é…ç½® |
| `.env*` | å¤šä¸ª | âœ… ç¯å¢ƒå˜é‡ |
| `.gitignore` | 1KB | âœ… Gitå¿½ç•¥ |
| `.gitlab-ci.yml` | 10KB | âœ… CI/CDé…ç½® |
| `AGENTS.md` | 660B | âœ… AIæŒ‡ä»¤ |
| `CLAUDE.md` | 129KB | âœ… é¡¹ç›®è§„èŒƒ |
| `README.md` | 16KB | âœ… é¡¹ç›®è¯´æ˜ |
| `docker-compose*.yml` | å¤šä¸ª | âœ… Dockeré…ç½® |
| `Dockerfile.base` | 1KB | âœ… DockeråŸºç¡€é•œåƒ |
| `sonar-project.properties` | 2KB | âœ… SonarQubeé…ç½® |
| `start.ps1` | 67KB | âœ… å¯åŠ¨è„šæœ¬ |
| `mcp-client-config.json` | 329B | âœ… MCPé…ç½® |

**è¯„ä¼°ç»“æœ**: âœ… æ ¹ç›®å½•æ–‡ä»¶æ•´æ´ï¼Œæ— ä¸´æ—¶æ–‡ä»¶æ±¡æŸ“

---

## ğŸ”§ å‘ç°çš„é—®é¢˜ä¸å»ºè®®

### ğŸŸ¡ ä¸­ç­‰ä¼˜å…ˆçº§é—®é¢˜

#### 1. æ–‡æ¡£æ•°é‡è¿‡å¤š
```
å½“å‰çŠ¶æ€: 1,079ä¸ªMarkdownæ–‡æ¡£
å»ºè®®ç›®æ ‡: 500ä¸ªä»¥å†…
```

**å»ºè®®**:
- å½’æ¡£å†å²æ–‡æ¡£åˆ°`documentation/archive/`
- åˆå¹¶é‡å¤å†…å®¹çš„æ–‡æ¡£
- åˆ é™¤è¿‡æ—¶çš„ä¸´æ—¶æ–‡æ¡£

#### 2. microservices-commonæ¨¡å—è¿‡å¤§
```
å½“å‰çŠ¶æ€: 325ä¸ªJavaæ–‡ä»¶
å»ºè®®ç›®æ ‡: æ‹†åˆ†ä¸ºå¤šä¸ªä¸“é—¨æ¨¡å—
```

**å»ºè®®æ‹†åˆ†æ–¹æ¡ˆ**:
```
microservices-common/
â”œâ”€â”€ common-core/           # æ ¸å¿ƒå…¬å…±ç±»
â”œâ”€â”€ common-security/       # å®‰å…¨ç›¸å…³
â”œâ”€â”€ common-cache/          # ç¼“å­˜ç›¸å…³
â”œâ”€â”€ common-monitor/        # ç›‘æ§ç›¸å…³
â””â”€â”€ common-utils/          # å·¥å…·ç±»
```

#### 3. æµ‹è¯•è¦†ç›–ç‡ä¸å‡
```
é«˜è¦†ç›–: consume-service (40/198 = 20%)
ä½è¦†ç›–: video-service (5/16 = 31%)
        visitor-service (8/34 = 24%)
```

**å»ºè®®**:
- ä¸ºå…³é”®ä¸šåŠ¡é€»è¾‘è¡¥å……å•å…ƒæµ‹è¯•
- ç›®æ ‡è¦†ç›–ç‡: 80%+

### ğŸŸ¢ å·²è§£å†³çš„é—®é¢˜

| é—®é¢˜ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| @Repositoryè¿è§„ | âœ… å·²è§£å†³ | å…¨éƒ¨ä½¿ç”¨@Mapper |
| @Autowiredè¿è§„ | âœ… åŸºæœ¬è§£å†³ | ä»…æµ‹è¯•æ–‡ä»¶1å¤„ |
| æ ¹ç›®å½•æ±¡æŸ“ | âœ… å·²è§£å†³ | æ–‡ä»¶æ•´æ´ |
| é…ç½®ä¸ç»Ÿä¸€ | âœ… å·²è§£å†³ | ç»Ÿä¸€ä½¿ç”¨2025.0.0.0æ ¼å¼ |
| å››å±‚æ¶æ„ | âœ… å·²è§£å†³ | å„æœåŠ¡æ¶æ„å®Œæ•´ |

---

## ğŸ“ˆ é¡¹ç›®å¥åº·åº¦è¯„ä¼°

### ç»¼åˆè¯„åˆ†

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| **æ¶æ„è´¨é‡** | â­â­â­â­â­ | å››å±‚æ¶æ„æ¸…æ™°ï¼Œå¾®æœåŠ¡è¾¹ç•Œæ˜ç¡® |
| **ä»£ç è§„èŒƒ** | â­â­â­â­â­ | æ³¨è§£ä½¿ç”¨è§„èŒƒï¼Œå‘½åç»Ÿä¸€ |
| **é…ç½®ç®¡ç†** | â­â­â­â­â­ | é…ç½®æ ¼å¼ç»Ÿä¸€ï¼Œæ”¯æŒå¤šç¯å¢ƒ |
| **æµ‹è¯•è¦†ç›–** | â­â­â­â­ | æœ‰æµ‹è¯•ä½†è¦†ç›–ç‡å¯æå‡ |
| **æ–‡æ¡£ç®¡ç†** | â­â­â­ | æ–‡æ¡£è¿‡å¤šï¼Œéœ€è¦æ•´ç† |
| **å‰ç«¯è´¨é‡** | â­â­â­â­â­ | Vue3è§„èŒƒï¼Œç»„ä»¶åŒ–è‰¯å¥½ |

### æ€»ä½“è¯„ä»·

**ğŸŸ¢ é¡¹ç›®æ•´ä½“è´¨é‡è‰¯å¥½**

IOE-DREAMé¡¹ç›®ç»è¿‡ç³»ç»Ÿæ€§æ•´æ”¹åï¼Œä»£ç è´¨é‡å’Œæ¶æ„è§„èŒƒæ€§å·²è¾¾åˆ°ä¼ä¸šçº§æ ‡å‡†ï¼š

1. **åç«¯æ¶æ„**: ä¸¥æ ¼éµå¾ªå››å±‚æ¶æ„ï¼ˆControllerâ†’Serviceâ†’Managerâ†’DAOï¼‰
2. **æ³¨è§£è§„èŒƒ**: å…¨éƒ¨ä½¿ç”¨`@Mapper`å’Œ`@Resource`ï¼Œæ— è¿è§„
3. **é…ç½®ç®¡ç†**: ç»Ÿä¸€ä½¿ç”¨Spring Cloud Alibaba 2025.0.0.0é…ç½®æ ¼å¼
4. **å‰ç«¯è§„èŒƒ**: Vue3 Composition APIï¼Œç»„ä»¶åŒ–å¼€å‘
5. **å¾®æœåŠ¡æ²»ç†**: Nacosæ³¨å†Œä¸­å¿ƒ+é…ç½®ä¸­å¿ƒï¼ŒGatewayç»Ÿä¸€è·¯ç”±

---

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

### çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰

1. **æ–‡æ¡£æ•´ç†**: å½’æ¡£å†å²æ–‡æ¡£ï¼Œåˆå¹¶é‡å¤å†…å®¹
2. **æµ‹è¯•è¡¥å……**: ä¸ºå…³é”®ä¸šåŠ¡è¡¥å……å•å…ƒæµ‹è¯•
3. **ä»£ç å®¡æŸ¥**: å®šæœŸä»£ç å®¡æŸ¥ï¼Œä¿æŒè§„èŒƒ

### ä¸­æœŸï¼ˆ1ä¸ªæœˆï¼‰

1. **microservices-commonæ‹†åˆ†**: æŒ‰åŠŸèƒ½æ¨¡å—æ‹†åˆ†
2. **æ€§èƒ½ä¼˜åŒ–**: æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–ï¼Œç¼“å­˜ç­–ç•¥ä¼˜åŒ–
3. **ç›‘æ§å®Œå–„**: å®Œå–„Prometheus+Grafanaç›‘æ§

### é•¿æœŸï¼ˆæŒç»­ï¼‰

1. **æŒç»­é›†æˆ**: å®Œå–„CI/CDæµæ°´çº¿
2. **å®‰å…¨åŠ å›º**: å®šæœŸå®‰å…¨æ‰«æå’Œæ¼æ´ä¿®å¤
3. **æ¶æ„æ¼”è¿›**: æ ¹æ®ä¸šåŠ¡å‘å±•æŒç»­ä¼˜åŒ–æ¶æ„

---

## ğŸ“‹ æ€»ç»“

IOE-DREAMæ™ºæ…§å›­åŒºä¸€å¡é€šç®¡ç†å¹³å°é¡¹ç›®ä»£ç è´¨é‡è‰¯å¥½ï¼Œå·²å®Œæˆå¤§éƒ¨åˆ†è§„èŒƒæ•´æ”¹ï¼š

- âœ… **æ¶æ„è§„èŒƒ**: å››å±‚æ¶æ„å®Œæ•´ï¼Œå¾®æœåŠ¡è¾¹ç•Œæ¸…æ™°
- âœ… **ä»£ç è§„èŒƒ**: æ³¨è§£ä½¿ç”¨è§„èŒƒï¼Œæ— é‡å¤§è¿è§„
- âœ… **é…ç½®è§„èŒƒ**: ç»Ÿä¸€é…ç½®æ ¼å¼ï¼Œæ”¯æŒå¤šç¯å¢ƒéƒ¨ç½²
- âœ… **å‰ç«¯è§„èŒƒ**: Vue3æœ€ä½³å®è·µï¼Œç»„ä»¶åŒ–å¼€å‘
- ğŸŸ¡ **å¾…ä¼˜åŒ–**: æ–‡æ¡£æ•´ç†ã€æµ‹è¯•è¦†ç›–ç‡æå‡

**é¡¹ç›®å·²å…·å¤‡ä¼ä¸šçº§ç”Ÿäº§éƒ¨ç½²æ¡ä»¶ã€‚**

---

> æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2025-12-14  
> åˆ†æå·¥å…·: Windsurf Cascade AI  
> åˆ†æå¸ˆ: IOE-DREAMæ¶æ„å›¢é˜Ÿ
