# å‰ç«¯ç»„ä»¶å¼€å‘è§„èŒƒ

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£è§„å®šSmartAdminå‰ç«¯é¡¹ç›®ï¼ˆVue 3 + JavaScriptï¼‰ä¸­ç»„ä»¶å¼€å‘çš„ç»Ÿä¸€è§„èŒƒã€‚

**å¼ºåˆ¶æ‰§è¡Œ**ï¼šæ‰€æœ‰å‰ç«¯ç»„ä»¶å¼€å‘å¿…é¡»éµå®ˆæœ¬è§„èŒƒã€‚

---

## ğŸ“‚ ç›®å½•ç»“æ„è§„èŒƒ

### æ ‡å‡†ç›®å½•ç»“æ„
```
smart-admin-web-javascript/
â””â”€â”€ src/
    â”œâ”€â”€ api/                    # APIæ¥å£å°è£…
    â”‚   â”œâ”€â”€ system/            # ç³»ç»Ÿæ¨¡å—API
    â”‚   â”‚   â”œâ”€â”€ area-api.js
    â”‚   â”‚   â”œâ”€â”€ menu-api.js
    â”‚   â”‚   â””â”€â”€ employee-api.js
    â”‚   â””â”€â”€ support/           # æ”¯æŒæ¨¡å—API
    â”‚       â”œâ”€â”€ dict-api.js
    â”‚       â””â”€â”€ config-api.js
    â”œâ”€â”€ views/                  # é¡µé¢ç»„ä»¶
    â”‚   â”œâ”€â”€ system/            # ç³»ç»Ÿæ¨¡å—é¡µé¢
    â”‚   â”‚   â”œâ”€â”€ area/
    â”‚   â”‚   â”‚   â”œâ”€â”€ index.vue        # ä¸»é¡µé¢
    â”‚   â”‚   â”‚   â””â”€â”€ area-modal.vue   # å¼¹çª—ç»„ä»¶
    â”‚   â”‚   â”œâ”€â”€ menu/
    â”‚   â”‚   â”‚   â””â”€â”€ menu-list.vue    # ä¸»é¡µé¢ï¼ˆå†å²å‘½åï¼‰
    â”‚   â”‚   â””â”€â”€ employee/
    â”‚   â”‚       â”œâ”€â”€ index.vue
    â”‚   â”‚       â””â”€â”€ employee-form.vue
    â”‚   â””â”€â”€ support/           # æ”¯æŒæ¨¡å—é¡µé¢
    â”‚       â””â”€â”€ dict/
    â”‚           â”œâ”€â”€ index.vue
    â”‚           â””â”€â”€ dict-data-modal.vue
    â”œâ”€â”€ components/            # å…¬å…±ç»„ä»¶
    â”œâ”€â”€ store/                 # PiniaçŠ¶æ€ç®¡ç†
    â””â”€â”€ utils/                 # å·¥å…·å‡½æ•°
```

---

## ğŸ“ æ–‡ä»¶å‘½åè§„èŒƒ
## ğŸ“‹ IOE-DREAMä¸ƒå¾®æœåŠ¡æ¶æ„

**æ ¸å¿ƒæ¶æ„ç»„æˆ**:
- **Gateway Service (8080)**: APIç½‘å…³
- **Common Service (8088)**: å…¬å…±æ¨¡å—å¾®æœåŠ¡
- **DeviceComm Service (8087)**: è®¾å¤‡é€šè®¯å¾®æœåŠ¡
- **OA Service (8089)**: OAå¾®æœåŠ¡
- **Access Service (8090)**: é—¨ç¦æœåŠ¡
- **Attendance Service (8091)**: è€ƒå‹¤æœåŠ¡
- **Video Service (8092)**: è§†é¢‘æœåŠ¡
- **Consume Service (8094)**: æ¶ˆè´¹æœåŠ¡
- **Visitor Service (8095)**: è®¿å®¢æœåŠ¡

**æ¶æ„ç‰¹ç‚¹**:
- åŸºäºSpring Boot 3.5.8 + Java 17
- ä¸¥æ ¼éµå¾ªä¼ä¸šçº§å¾®æœåŠ¡è§„èŒƒ
- æ”¯æŒé«˜å¹¶å‘ã€é«˜å¯ç”¨ã€æ°´å¹³æ‰©å±•

**æŠ€æœ¯æ ˆæ ‡å‡†**:
- **æ•°æ®åº“**: MySQL 8.0 + Druidè¿æ¥æ± 
- **ç¼“å­˜**: Redis + Caffeineå¤šçº§ç¼“å­˜
- **æ³¨å†Œä¸­å¿ƒ**: Nacos
- **é…ç½®ä¸­å¿ƒ**: Nacos Config
- **è®¤è¯æˆæƒ**: Sa-Token

## ğŸ—ï¸ å››å±‚æ¶æ„è§„èŒƒ

**æ ‡å‡†æ¶æ„æ¨¡å¼**:
```
Controller (æ¥å£æ§åˆ¶å±‚)
    â†“
Service (æ ¸å¿ƒä¸šåŠ¡å±‚)
    â†“
Manager (æµç¨‹ç®¡ç†å±‚)
    â†“
DAO (æ•°æ®è®¿é—®å±‚)
```

**å±‚çº§èŒè´£**:
- **Controllerå±‚**: HTTPè¯·æ±‚å¤„ç†ã€å‚æ•°éªŒè¯ã€æƒé™æ§åˆ¶
- **Serviceå±‚**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€äº‹åŠ¡ç®¡ç†ã€ä¸šåŠ¡è§„åˆ™éªŒè¯
- **Managerå±‚**: å¤æ‚æµç¨‹ç¼–æ’ã€å¤šæ•°æ®ç»„è£…ã€ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ
- **DAOå±‚**: æ•°æ®åº“CRUDæ“ä½œã€SQLæŸ¥è¯¢å®ç°ã€æ•°æ®è®¿é—®è¾¹ç•Œ

**ä¸¥æ ¼ç¦æ­¢è·¨å±‚è®¿é—®**: Controllerä¸èƒ½ç›´æ¥è°ƒç”¨Manager/DAOï¼
### ä¸»åˆ—è¡¨é¡µé¢
## âš ï¸ IOE-DREAMé›¶å®¹å¿è§„åˆ™ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰

**å¿…é¡»éµå®ˆçš„æ¶æ„è§„åˆ™**:
- âœ… **å¿…é¡»ä½¿ç”¨ @Resource æ³¨å…¥ä¾èµ–**
- âœ… **å¿…é¡»ä½¿ç”¨ @Mapper æ³¨è§£** (ç¦æ­¢@Repository)
- âœ… **å¿…é¡»ä½¿ç”¨ Dao åç¼€** (ç¦æ­¢Repository)
- âœ… **å¿…é¡»ä½¿ç”¨ @RestController æ³¨è§£**
- âœ… **å¿…é¡»ä½¿ç”¨ @Valid å‚æ•°æ ¡éªŒ**
- âœ… **å¿…é¡»è¿”å›ç»Ÿä¸€ResponseDTOæ ¼å¼**
- âœ… **å¿…é¡»éµå¾ªå››å±‚æ¶æ„è¾¹ç•Œ**

**ä¸¥æ ¼ç¦æ­¢äº‹é¡¹**:
- âŒ **ç¦æ­¢ä½¿ç”¨ @Autowired æ³¨å…¥**
- âŒ **ç¦æ­¢ä½¿ç”¨ @Repository æ³¨è§£**
- âŒ **ç¦æ­¢ä½¿ç”¨ Repository åç¼€å‘½å**
- âŒ **ç¦æ­¢è·¨å±‚è®¿é—®**
- âŒ **ç¦æ­¢åœ¨Controllerä¸­åŒ…å«ä¸šåŠ¡é€»è¾‘**
- âŒ **ç¦æ­¢ç›´æ¥è®¿é—®æ•°æ®åº“**

**è¿è§„åæœ**: P0çº§é—®é¢˜ï¼Œç«‹å³ä¿®å¤ï¼Œç¦æ­¢åˆå¹¶ï¼

#### æ¨èå‘½åï¼š`index.vue`
```
âœ… æ¨èï¼ˆæ–°å¼€å‘ç»Ÿä¸€ä½¿ç”¨ï¼‰
/views/system/area/index.vue
/views/system/employee/index.vue
/views/support/dict/index.vue
```

**ä¼˜ç‚¹**ï¼š
- è·¯å¾„ç®€æ´ï¼š`/views/system/area/`å³å¯å®šä½
- ç¬¦åˆVueç”Ÿæ€æƒ¯ä¾‹
- ä¾¿äºç»Ÿä¸€ç®¡ç†

#### å¤‡é€‰å‘½åï¼š`æ¨¡å—å-list.vue`
```
âœ… å¯æ¥å—ï¼ˆå†å²é—ç•™ï¼‰
/views/system/menu/menu-list.vue
/views/system/role/role-list.vue
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- ä»…ç”¨äºå…¼å®¹å†å²ä»£ç 
- æ–°å¼€å‘ä¸æ¨èä½¿ç”¨
- ä¸€ä¸ªç›®å½•ä¸‹æœ‰å¤šä¸ªåˆ—è¡¨é¡µé¢æ—¶å¯ä½¿ç”¨

### å¼¹çª—ç»„ä»¶

**æ ¼å¼**ï¼š`{module}-modal.vue`

```
âœ… æ­£ç¡®
/views/system/area/area-modal.vue
/views/system/employee/employee-modal.vue
/views/support/dict/dict-data-modal.vue
```

**å‘½åè§„åˆ™**ï¼š
- ä½¿ç”¨ `-modal` åç¼€
- ä¸åŠŸèƒ½æ¨¡å—åç§°ä¿æŒä¸€è‡´
- å°å†™å­—æ¯ï¼Œç”¨è¿å­—ç¬¦åˆ†éš”

### è¡¨å•ç»„ä»¶

**æ ¼å¼**ï¼š`{module}-form.vue`

```
âœ… æ­£ç¡®
/views/system/employee/employee-form.vue
/views/system/department/department-form.vue
```

### è¯¦æƒ…é¡µé¢

**æ ¼å¼**ï¼š`{module}-detail.vue`

```
âœ… æ­£ç¡®
/views/system/order/order-detail.vue
/views/system/employee/employee-detail.vue
```

---

## ğŸ—‚ï¸ APIå°è£…è§„èŒƒ

### APIæ–‡ä»¶å‘½å

**æ ¼å¼**ï¼š`{module}-api.js`

```
âœ… æ­£ç¡®
/api/system/area-api.js
/api/system/employee-api.js
/api/support/dict-api.js
```

### APIæ¥å£å®šä¹‰

**æ ‡å‡†æ¨¡æ¿**ï¼š
```javascript
/*
 * {æ¨¡å—}ç®¡ç†API
 *
 * @Author:    å¼€å‘è€…
 * @Date:      2025-01-10
 * @Copyright  SmartAdmin
 */
import { getRequest, postRequest } from '/@/lib/axios';

export const {module}Api = {
  /**
   * åˆ†é¡µæŸ¥è¯¢
   */
  queryPage: (param) => {
    return postRequest('/{module}/query', param);
  },

  /**
   * è·å–è¯¦æƒ…
   */
  getDetail: (id) => {
    return getRequest(`/{module}/detail/${id}`);
  },

  /**
   * æ–°å¢
   */
  add: (param) => {
    return postRequest('/{module}/add', param);
  },

  /**
   * æ›´æ–°
   */
  update: (param) => {
    return postRequest('/{module}/update', param);
  },

  /**
   * åˆ é™¤
   */
  delete: (id) => {
    return postRequest(`/{module}/delete/${id}`);
  },

  /**
   * æ‰¹é‡åˆ é™¤
   */
  batchDelete: (ids) => {
    return postRequest('/{module}/batchDelete', ids);
  },
};
```

**è¦ç‚¹è¯´æ˜**ï¼š
- å¯¼å‡ºå¯¹è±¡å‘½åï¼š`{module}Api`
- æ¯ä¸ªæ–¹æ³•æ·»åŠ æ³¨é‡Šè¯´æ˜
- è·¯å¾„ä¸åç«¯Controllerä¿æŒä¸€è‡´
- ä½¿ç”¨åˆé€‚çš„HTTPæ–¹æ³•ï¼ˆgetRequest/postRequestï¼‰

---

## ğŸ¨ ç»„ä»¶å¼€å‘è§„èŒƒ

### ä¸»åˆ—è¡¨é¡µé¢ç»“æ„

**æ ‡å‡†æ¨¡æ¿**ï¼ˆindex.vueï¼‰ï¼š
```vue
<!--
  * {æ¨¡å—}ç®¡ç†
  *
  * @Author:    å¼€å‘è€…
  * @Date:      2025-01-10
  * @Copyright  SmartAdmin
-->
<template>
  <div class="{module}-manage">
    <!-- 1. æœç´¢åŒºåŸŸ -->
    <a-card :bordered="false" size="small" class="search-card">
      <a-form layout="inline" :model="queryForm">
        <a-form-item label="å…³é”®å­—">
          <a-input v-model:value="queryForm.keywords" placeholder="è¯·è¾“å…¥å…³é”®å­—" />
        </a-form-item>
        <a-form-item>
          <a-space>
            <a-button type="primary" @click="handleSearch">æŸ¥è¯¢</a-button>
            <a-button @click="handleReset">é‡ç½®</a-button>
          </a-space>
        </a-form-item>
      </a-form>
    </a-card>

    <!-- 2. æ“ä½œæŒ‰é’®åŒºåŸŸ -->
    <a-card :bordered="false" size="small" class="table-card">
      <div class="table-header">
        <a-space>
          <a-button type="primary" @click="handleAdd" v-privilege="'system:{module}:add'">
            <template #icon><PlusOutlined /></template>
            æ–°å¢
          </a-button>
        </a-space>
      </div>

      <!-- 3. æ•°æ®è¡¨æ ¼ -->
      <a-table
        :columns="columns"
        :data-source="tableData"
        :loading="loading"
        :pagination="false"
        row-key="id"
      >
        <template #bodyCell="{ column, record }">
          <!-- æ“ä½œåˆ— -->
          <template v-if="column.key === 'action'">
            <a-space>
              <a-button type="link" size="small" @click="handleEdit(record)" v-privilege="'system:{module}:update'">
                ç¼–è¾‘
              </a-button>
              <a-popconfirm title="ç¡®å®šåˆ é™¤ï¼Ÿ" @confirm="handleDelete(record.id)" v-privilege="'system:{module}:delete'">
                <a-button type="link" size="small" danger>åˆ é™¤</a-button>
              </a-popconfirm>
            </a-space>
          </template>
        </template>
      </a-table>

      <!-- 4. åˆ†é¡µ -->
      <div class="smart-query-table-page">
        <a-pagination
          v-model:current="queryForm.pageNum"
          v-model:pageSize="queryForm.pageSize"
          :total="total"
          @change="loadData"
        />
      </div>
    </a-card>

    <!-- 5. å¼¹çª—ç»„ä»¶ -->
    <XxxModal
      v-model:visible="modalVisible"
      :data="currentData"
      @success="handleModalSuccess"
    />
  </div>
</template>

<script setup>
import { ref, reactive, onMounted } from 'vue';
import { message } from 'ant-design-vue';
import { PlusOutlined } from '@ant-design/icons-vue';
import { {module}Api } from '/@/api/system/{module}-api';
import XxxModal from './{module}-modal.vue';

// å“åº”å¼æ•°æ®
const loading = ref(false);
const tableData = ref([]);
const total = ref(0);
const modalVisible = ref(false);
const currentData = ref(null);

// æŸ¥è¯¢è¡¨å•
const queryForm = reactive({
  keywords: '',
  pageNum: 1,
  pageSize: 10,
});

// è¡¨æ ¼åˆ—å®šä¹‰
const columns = [
  { title: 'åç§°', dataIndex: 'name', key: 'name' },
  { title: 'æ“ä½œ', key: 'action', width: 200, fixed: 'right' },
];

// æ–¹æ³•å®šä¹‰
const loadData = async () => {
  try {
    loading.value = true;
    const res = await {module}Api.queryPage(queryForm);
    if (res.data) {
      tableData.value = res.data.list;
      total.value = res.data.total;
    }
  } catch (error) {
    message.error('åŠ è½½å¤±è´¥');
  } finally {
    loading.value = false;
  }
};

const handleSearch = () => {
  queryForm.pageNum = 1;
  loadData();
};

const handleReset = () => {
  queryForm.keywords = '';
  queryForm.pageNum = 1;
  loadData();
};

const handleAdd = () => {
  currentData.value = null;
  modalVisible.value = true;
};

const handleEdit = (record) => {
  currentData.value = { ...record };
  modalVisible.value = true;
};

const handleDelete = async (id) => {
  try {
    await {module}Api.delete(id);
    message.success('åˆ é™¤æˆåŠŸ');
    loadData();
  } catch (error) {
    message.error(error.msg || 'åˆ é™¤å¤±è´¥');
  }
};

const handleModalSuccess = () => {
  modalVisible.value = false;
  loadData();
};

// ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {
  loadData();
});
</script>

<style lang="less" scoped>
.{module}-manage {
  padding: 16px;

  .search-card {
    margin-bottom: 16px;
  }

  .table-card {
    .table-header {
      margin-bottom: 16px;
    }
  }
}
</style>
```

---

### å¼¹çª—ç»„ä»¶ç»“æ„

**æ ‡å‡†æ¨¡æ¿**ï¼ˆ{module}-modal.vueï¼‰ï¼š
```vue
<!--
  * {æ¨¡å—}æ–°å¢/ç¼–è¾‘å¼¹çª—
  *
  * @Author:    å¼€å‘è€…
  * @Date:      2025-01-10
  * @Copyright  SmartAdmin
-->
<template>
  <a-modal
    :visible="visible"
    :title="modalTitle"
    :width="800"
    :confirm-loading="confirmLoading"
    @ok="handleSubmit"
    @cancel="handleCancel"
  >
    <a-form
      ref="formRef"
      :model="formData"
      :rules="formRules"
      :label-col="{ span: 6 }"
      :wrapper-col="{ span: 16 }"
    >
      <a-form-item label="åç§°" name="name">
        <a-input v-model:value="formData.name" placeholder="è¯·è¾“å…¥åç§°" />
      </a-form-item>
      <!-- å…¶ä»–è¡¨å•é¡¹ -->
    </a-form>
  </a-modal>
</template>

<script setup>
import { ref, reactive, computed, watch } from 'vue';
import { message } from 'ant-design-vue';
import { {module}Api } from '/@/api/system/{module}-api';

// Props
const props = defineProps({
  visible: {
    type: Boolean,
    default: false,
  },
  data: {
    type: Object,
    default: null,
  },
});

// Emits
const emit = defineEmits(['update:visible', 'success']);

// å“åº”å¼æ•°æ®
const formRef = ref();
const confirmLoading = ref(false);

const formData = reactive({
  id: undefined,
  name: '',
});

// è¡¨å•éªŒè¯è§„åˆ™
const formRules = {
  name: [
    { required: true, message: 'è¯·è¾“å…¥åç§°', trigger: 'blur' },
  ],
};

// è®¡ç®—å±æ€§
const modalTitle = computed(() => {
  return formData.id ? 'ç¼–è¾‘' : 'æ–°å¢';
});

// æ–¹æ³•å®šä¹‰ï¼ˆåœ¨watchä¹‹å‰ï¼‰
const resetForm = () => {
  Object.assign(formData, {
    id: undefined,
    name: '',
  });
  formRef.value?.clearValidate();
};

// ç›‘å¬æ•°æ®å˜åŒ–
watch(
  () => props.data,
  (newVal) => {
    if (newVal) {
      Object.assign(formData, { ...newVal });
    } else {
      resetForm();
    }
  },
  { immediate: true }
);

const handleSubmit = async () => {
  try {
    await formRef.value.validate();
    confirmLoading.value = true;

    if (formData.id) {
      await {module}Api.update(formData);
      message.success('æ›´æ–°æˆåŠŸ');
    } else {
      await {module}Api.add(formData);
      message.success('æ–°å¢æˆåŠŸ');
    }

    emit('success');
    handleCancel();
  } catch (error) {
    if (error.errorFields) return;
    message.error(error.msg || 'æ“ä½œå¤±è´¥');
  } finally {
    confirmLoading.value = false;
  }
};

const handleCancel = () => {
  emit('update:visible', false);
  resetForm();
};
</script>
```

---

## ğŸ”‘ æƒé™æ§åˆ¶è§„èŒƒ

### ä½¿ç”¨v-privilegeæŒ‡ä»¤

**æ ¼å¼**ï¼š`v-privilege="'system:{module}:{action}'"`

```vue
<!-- âœ… æ­£ç¡®ï¼šå®Œæ•´çš„æƒé™æ ¼å¼ -->
<a-button type="primary" v-privilege="'system:area:add'">æ–°å¢</a-button>
<a-button v-privilege="'system:area:update'">ç¼–è¾‘</a-button>
<a-button v-privilege="'system:area:delete'">åˆ é™¤</a-button>

<!-- âŒ é”™è¯¯ï¼šç¼ºå°‘domainå‰ç¼€ -->
<a-button v-privilege="'area:add'">æ–°å¢</a-button>

<!-- âŒ é”™è¯¯ï¼šä½¿ç”¨ä¸­æ–‡ -->
<a-button v-privilege="'system:åŒºåŸŸ:æ–°å¢'">æ–°å¢</a-button>
```

### æƒé™ä¸åç«¯ä¸€è‡´æ€§

**åç«¯Controller**ï¼š
```java
@SaCheckPermission("system:area:add")
```

**å‰ç«¯ç»„ä»¶**ï¼š
```vue
v-privilege="'system:area:add'"
```

**æ•°æ®åº“é…ç½®**ï¼š
```sql
api_perms = 'system:area:add'
web_perms = 'system:area:add'
```

---

## ğŸ—„ï¸ æ•°æ®åº“èœå•é…ç½®

### èœå•è¡¨é…ç½®è§„èŒƒ

```sql
INSERT INTO t_menu (
  menu_name,
  menu_type,
  parent_id,
  path,
  component,
  perms_type,
  api_perms,
  web_perms,
  icon,
  sort,
  cache_flag,
  visible_flag,
  disabled_flag,
  deleted_flag,
  create_user_id,
  create_time
) VALUES (
  'åŒºåŸŸè®¾ç½®',           -- èœå•åç§°
  2,                   -- èœå•ç±»å‹ï¼š1=ç›®å½• 2=èœå• 3=æŒ‰é’®
  50,                  -- çˆ¶èœå•ID
  '/setting/area',     -- è·¯ç”±è·¯å¾„
  '/system/area/index.vue',  -- âœ… ç»„ä»¶è·¯å¾„å¿…é¡»ä¸å®é™…æ–‡ä»¶ä¸€è‡´
  1,                   -- æƒé™ç±»å‹
  NULL,                -- APIæƒé™ï¼ˆèœå•çº§åˆ«ä¸ºNULLï¼‰
  NULL,                -- WEBæƒé™ï¼ˆèœå•çº§åˆ«ä¸ºNULLï¼‰
  'EnvironmentOutlined',  -- å›¾æ ‡
  2,                   -- æ’åº
  1,                   -- ç¼“å­˜æ ‡è¯†
  1,                   -- å¯è§æ ‡è¯†
  0,                   -- ç¦ç”¨æ ‡è¯†
  0,                   -- åˆ é™¤æ ‡è¯†
  1,                   -- åˆ›å»ºäºº
  NOW()                -- åˆ›å»ºæ—¶é—´
);
```

### ç»„ä»¶è·¯å¾„æ ¼å¼

**è§„èŒƒ**ï¼š`/{domain}/{module}/index.vue` æˆ– `/{domain}/{module}/{module}-list.vue`

```sql
-- âœ… æ­£ç¡®ï¼šè·¯å¾„ä¸å®é™…æ–‡ä»¶ä¸€è‡´
component = '/system/area/index.vue'         -- æ–‡ä»¶ï¼š/views/system/area/index.vue
component = '/system/menu/menu-list.vue'     -- æ–‡ä»¶ï¼š/views/system/menu/menu-list.vue
component = '/support/dict/index.vue'        -- æ–‡ä»¶ï¼š/views/support/dict/index.vue

-- âŒ é”™è¯¯ï¼šè·¯å¾„ä¸å®é™…æ–‡ä»¶ä¸ä¸€è‡´
component = '/system/area/area-list.vue'     -- å®é™…æ–‡ä»¶æ˜¯index.vue
component = '/system/area.vue'               -- ç¼ºå°‘ç›®å½•å±‚çº§
```

---

## âš ï¸ å¸¸è§é”™è¯¯ä¸ä¿®æ­£

### é”™è¯¯1ï¼šç»„ä»¶è·¯å¾„é…ç½®é”™è¯¯

```sql
-- âŒ é”™è¯¯ï¼šæ•°æ®åº“é…ç½®çš„ç»„ä»¶è·¯å¾„ä¸å­˜åœ¨
INSERT INTO t_menu (component) VALUES ('/system/area/area-list.vue');
-- å®é™…æ–‡ä»¶ï¼š/views/system/area/index.vue

-- âœ… ä¿®æ­£ï¼šç¡®ä¿è·¯å¾„ä¸å®é™…æ–‡ä»¶ä¸€è‡´
INSERT INTO t_menu (component) VALUES ('/system/area/index.vue');
```

### é”™è¯¯2ï¼šæƒé™æŒ‡ä»¤æ ¼å¼é”™è¯¯

```vue
<!-- âŒ é”™è¯¯ï¼šç¼ºå°‘domainå‰ç¼€ -->
<a-button v-privilege="'area:add'">æ–°å¢</a-button>

<!-- âœ… ä¿®æ­£ï¼šä½¿ç”¨å®Œæ•´æ ¼å¼ -->
<a-button v-privilege="'system:area:add'">æ–°å¢</a-button>
```

### é”™è¯¯3ï¼šAPIè·¯å¾„ä¸åç«¯ä¸ä¸€è‡´

```javascript
// åç«¯ï¼š/area/query
// âŒ é”™è¯¯ï¼šå‰ç«¯è·¯å¾„ä¸ä¸€è‡´
export const areaApi = {
  queryPage: (param) => postRequest('/system/area/page', param),
};

// âœ… ä¿®æ­£ï¼šä¸åç«¯ä¿æŒä¸€è‡´
export const areaApi = {
  queryPage: (param) => postRequest('/area/query', param),
};
```

### é”™è¯¯4ï¼šVue 3å£°æ˜é¡ºåºé”™è¯¯

```vue
<script setup>
// âŒ é”™è¯¯ï¼šwatchåœ¨å‡½æ•°ä¹‹å‰æ‰§è¡Œ
watch(() => props.data, () => {
  resetForm();  // ReferenceError
}, { immediate: true });

const resetForm = () => { ... };

// âœ… ä¿®æ­£ï¼šå‡½æ•°åœ¨watchä¹‹å‰å£°æ˜
const resetForm = () => { ... };

watch(() => props.data, () => {
  resetForm();  // âœ… æ­£ç¡®
}, { immediate: true });
</script>
```

---

## ğŸ“ æœ€ä½³å®è·µå»ºè®®

1. **ç»Ÿä¸€ä½¿ç”¨index.vue**
   - æ–°å¼€å‘çš„æ¨¡å—ç»Ÿä¸€ä½¿ç”¨`index.vue`ä½œä¸ºä¸»é¡µé¢
   - ä¿æŒä»£ç é£æ ¼ä¸€è‡´

2. **æƒé™æŒ‡ä»¤å¿…é¡»å®Œæ•´**
   - å§‹ç»ˆä½¿ç”¨`system:{module}:{action}`æ ¼å¼
   - ä¸åç«¯Controllerä¿æŒä¸€è‡´

3. **APIå°è£…ç‹¬ç«‹ç®¡ç†**
   - æ¯ä¸ªæ¨¡å—ç‹¬ç«‹APIæ–‡ä»¶
   - æ–¹æ³•å‘½åæ¸…æ™°ã€æ³¨é‡Šå®Œæ•´

4. **ç»„ä»¶èŒè´£å•ä¸€**
   - ä¸»åˆ—è¡¨é¡µé¢ï¼šè´Ÿè´£æ•°æ®å±•ç¤ºå’Œæ“ä½œ
   - å¼¹çª—ç»„ä»¶ï¼šè´Ÿè´£è¡¨å•å½•å…¥
   - é¿å…ä¸€ä¸ªç»„ä»¶æ‰¿æ‹…è¿‡å¤šèŒè´£

5. **æ ·å¼ä½¿ç”¨scoped**
   - æ‰€æœ‰ç»„ä»¶æ ·å¼ä½¿ç”¨`<style scoped>`
   - é¿å…æ ·å¼æ±¡æŸ“

6. **å‚è€ƒç°æœ‰ç»„ä»¶**
   - æ–°å¼€å‘åŠŸèƒ½å‰ï¼Œå…ˆæŸ¥æ‰¾ç±»ä¼¼åŠŸèƒ½
   - å¤åˆ¶å‚è€ƒç»„ä»¶ç»“æ„ï¼Œä¿æŒä¸€è‡´æ€§

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [æƒé™å‘½åè§„èŒƒ](./æƒé™å‘½åè§„èŒƒ.md)
- [APIè·¯å¾„è§„èŒƒ](./APIè·¯å¾„è§„èŒƒ.md)
- [Vue3 Composition APIæœ€ä½³å®è·µ](./Vue3_Composition_APIæœ€ä½³å®è·µ.md)
- [AIè¾…åŠ©å¼€å‘æ£€æŸ¥æ¸…å•](../AI_DEV_CHECKLIST.md)

---

**ç‰ˆæœ¬**ï¼šv1.0
**æ›´æ–°æ—¶é—´**ï¼š2025-11-11
**ç»´æŠ¤äºº**ï¼šå¼€å‘å›¢é˜Ÿ
