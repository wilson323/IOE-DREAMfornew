# IOE-DREAMç³»ç»Ÿæ¦‚è¿°

<cite>
**æœ¬æ–‡æ¡£å¼•ç”¨çš„æ–‡ä»¶**
- [README.md](file://README.md)
- [AdminApplication.java](file://smart-admin-api-java17-springboot3/sa-admin/src/main/java/net/lab1024/sa/admin/AdminApplication.java)
- [package.json](file://smart-admin-web-javascript/package.json)
- [package.json](file://smart-app/package.json)
- [pom.xml](file://smart-admin-api-java17-springboot3/pom.xml)
- [SwaggerConfig.java](file://smart-admin-api-java17-springboot3/sa-base/src/main/java/net/lab1024/sa/base/config/SwaggerConfig.java)
- [consumption-api.js](file://smart-admin-web-javascript/src/api/business/consumption/consumption-api.js)
- [consumption-const.js](file://smart-admin-web-javascript/src/constants/business/consumption/consumption-const.js)
- [login-fail-api.js](file://smart-admin-web-javascript/src/api/support/login-fail-api.js)
- [Level3ProtectConfigForm.java](file://smart-admin-api-java17-springboot3/sa-base/src/main/java/net/lab1024/sa/base/module/support/securityprotect/domain/Level3ProtectConfigForm.java)
- [AdminDataMaskingDemoController.java](file://smart-admin-api-java17-springboot3/sa-admin/src/main/java/net/lab1024/sa/admin/module/system/support/AdminDataMaskingDemoController.java)
</cite>

## ç›®å½•
1. [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
2. [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
3. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
4. [ä¸šåŠ¡æ¨¡å—](#ä¸šåŠ¡æ¨¡å—)
5. [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
6. [å®‰å…¨ä½“ç³»](#å®‰å…¨ä½“ç³»)
7. [å¼€å‘è§„èŒƒ](#å¼€å‘è§„èŒƒ)
8. [éƒ¨ç½²ç¯å¢ƒ](#éƒ¨ç½²ç¯å¢ƒ)
9. [é¡¹ç›®å‘å±•å†ç¨‹](#é¡¹ç›®å‘å±•å†ç¨‹)
10. [æ€»ç»“](#æ€»ç»“)

## é¡¹ç›®ç®€ä»‹

IOE-DREAMï¼ˆæ™ºèƒ½ä¼ä¸šæ•°å­—åŒ–è¿è¥ç®¡ç†ç³»ç»Ÿï¼‰æ˜¯ç”±ä¸­å›½Â·æ´›é˜³1024åˆ›æ–°å®éªŒå®¤åŸºäºSpringBoot3+Sa-Token+Mybatis-Pluså’ŒVue3+Ant Design Vue+Uni-Appæ„å»ºçš„ä¼ä¸šçº§å…¨æ ˆç®¡ç†å¹³å°ã€‚è¯¥é¡¹ç›®æ˜¯å›½å†…é¦–ä¸ªæ»¡è¶³ã€Šç½‘ç»œå®‰å…¨-ä¸‰çº§ç­‰ä¿ã€‹ã€ã€Šæ•°æ®å®‰å…¨ã€‹åŠŸèƒ½è¦æ±‚çš„å¼€æºé¡¹ç›®ï¼Œæ”¯æŒç™»å½•é™åˆ¶ã€æ¥å£å›½äº§åŠ è§£å¯†ã€æ•°æ®è„±æ•ç­‰ä¸€ç³»åˆ—å®‰å…¨è¦æ±‚ã€‚

### é¡¹ç›®å®šä½
- **ä¼ä¸šçº§å…¨æ ˆç®¡ç†å¹³å°**ï¼šæä¾›å®Œæ•´çš„æ•°å­—åŒ–è¿è¥è§£å†³æ–¹æ¡ˆ
- **é«˜å®‰å…¨æ€§**ï¼šæ»¡è¶³å›½å®¶ä¸‰çº§ç­‰ä¿è¦æ±‚ï¼Œå…·å¤‡å®Œå–„çš„å®‰å…¨é˜²æŠ¤ä½“ç³»
- **é«˜æ€§èƒ½**ï¼šæ”¯æŒåƒä¸‡çº§æ•°æ®å¤„ç†èƒ½åŠ›ï¼Œå…·å¤‡è‰¯å¥½çš„æ‰©å±•æ€§
- **æ˜“ç»´æŠ¤**ï¼šé‡‡ç”¨æ ‡å‡†åŒ–çš„å¼€å‘è§„èŒƒï¼Œé™ä½ç»´æŠ¤æˆæœ¬

### ç›®æ ‡ç”¨æˆ·
- ä¸­å¤§å‹ä¼ä¸šçš„ä¿¡æ¯åŒ–ç®¡ç†éƒ¨é—¨
- éœ€è¦å»ºè®¾æ•°å­—åŒ–è¿è¥å¹³å°çš„ä¼ä¸š
- å¯¹æ•°æ®å®‰å…¨å’Œç³»ç»Ÿç¨³å®šæ€§æœ‰è¾ƒé«˜è¦æ±‚çš„ç»„ç»‡

## æ ¸å¿ƒç‰¹æ€§

### å®‰å…¨ä½“ç³»
- **ä¸‰çº§ç­‰ä¿åˆè§„**ï¼šå®Œå…¨æ»¡è¶³å›½å®¶ç½‘ç»œå®‰å…¨ä¸‰çº§ç­‰ä¿è¦æ±‚
- **åŒå› å­è®¤è¯**ï¼šæ”¯æŒç”¨æˆ·åå¯†ç +çŸ­ä¿¡éªŒè¯ç çš„åŒé‡è®¤è¯
- **å¯†ç ç­–ç•¥**ï¼šå¼ºåˆ¶å¯†ç å¤æ‚åº¦ï¼Œå®šæœŸæ›´æ¢å¯†ç 
- **ç™»å½•ä¿æŠ¤**ï¼šè¿ç»­ç™»å½•å¤±è´¥é”å®šã€ç™»å½•è¶…æ—¶è‡ªåŠ¨é€€å‡º
- **æ•°æ®è„±æ•**ï¼šæ•æ„Ÿæ•°æ®è‡ªåŠ¨è„±æ•å¤„ç†

### æ¥å£å®‰å…¨
- **å›½å¯†ç®—æ³•æ”¯æŒ**ï¼šæ”¯æŒSM2/SM3/SM4ç­‰å›½äº§åŠ å¯†ç®—æ³•
- **å›½é™…åŠ å¯†ç®—æ³•**ï¼šæ”¯æŒRSAã€AESç­‰å›½é™…æ ‡å‡†ç®—æ³•
- **å‚æ•°åŠ å¯†**ï¼šè¯·æ±‚å‚æ•°å’Œå“åº”å†…å®¹è‡ªåŠ¨åŠ å¯†è§£å¯†
- **é˜²é‡æ”¾æ”»å‡»**ï¼šå…·å¤‡å®Œå–„çš„é˜²é‡æ”¾æ”»å‡»æœºåˆ¶

### åŠŸèƒ½ç‰¹è‰²
- **æ™ºèƒ½è§†é¢‘ç›‘æ§**ï¼šå®æ—¶è§†é¢‘ç›‘æ§ã€æ™ºèƒ½åˆ†æã€å‘Šè­¦è”åŠ¨
- **æ¶ˆè´¹ç®¡ç†**ï¼šä¼ä¸šæ¶ˆè´¹ç³»ç»Ÿã€è´¦æˆ·ç®¡ç†ã€æŠ¥è¡¨åˆ†æ
- **ä¼ä¸šOA**ï¼šåŠå…¬è‡ªåŠ¨åŒ–ã€é€šçŸ¥å…¬å‘Šã€å®¡æ‰¹æµç¨‹
- **ç³»ç»Ÿç®¡ç†**ï¼šç”¨æˆ·æƒé™ã€éƒ¨é—¨ç®¡ç†ã€ç³»ç»Ÿé…ç½®

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
```mermaid
graph TB
subgraph "å‰ç«¯æ¶æ„"
A[Vue3 + Vite5] --> B[PiniaçŠ¶æ€ç®¡ç†]
A --> C[Ant Design Vue 4.x]
A --> D[TypeScript/JavaScriptåŒç‰ˆæœ¬]
B --> E[è·¯ç”±ç®¡ç†]
C --> F[ç»„ä»¶åº“]
D --> G[å›½é™…åŒ–]
E --> H[ä¸šåŠ¡é¡µé¢]
F --> H
G --> H
H --> I[æ¶ˆè´¹ç®¡ç†]
H --> J[æ™ºèƒ½è§†é¢‘]
H --> K[OAåŠå…¬]
H --> L[ç³»ç»Ÿç®¡ç†]
end
```

**å‰ç«¯æŠ€æœ¯ç‰¹ç‚¹ï¼š**
- **Vue3 Composition API**ï¼šé‡‡ç”¨æœ€æ–°çš„Vue3å¼€å‘æ¨¡å¼
- **Vite5æ„å»ºå·¥å…·**ï¼šå¿«é€Ÿçš„å¼€å‘ä½“éªŒå’Œé«˜æ•ˆçš„æ„å»ºæ€§èƒ½
- **TypeScriptæ”¯æŒ**ï¼šæä¾›æ›´å¥½çš„ç±»å‹å®‰å…¨å’Œå¼€å‘ä½“éªŒ
- **ç»„ä»¶åŒ–è®¾è®¡**ï¼šé«˜åº¦æ¨¡å—åŒ–çš„ç»„ä»¶æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ (æŒ‰ç…§CLAUDE.md v4.0.0æ ‡å‡†)
```mermaid
graph TB
subgraph "åç«¯æ¶æ„ (7å¾®æœåŠ¡)"
A[Spring Boot 3.5.8] --> B[Java 17 LTS]
A --> C[Sa-Tokenæƒé™æ¡†æ¶]
A --> D[MyBatis-Plus ORM]
A --> E[NacosæœåŠ¡å‘ç°]
A --> F[Druidè¿æ¥æ± ]
B --> G[Jakarta EE 3.0+]
C --> H[RBACæƒé™æ¨¡å‹]
D --> I[BaseMapper<Entity>]
E --> J[æœåŠ¡æ³¨å†Œå‘ç°]
F --> K[æ•°æ®åº“è¿æ¥ç®¡ç†]
end
```

**åç«¯æŠ€æœ¯ç‰¹ç‚¹ï¼š**
- **Spring Boot 3.5.8**ï¼šæŒ‰ç…§CLAUDE.mdæ ‡å‡†ï¼Œç°ä»£åŒ–Springæ¡†æ¶
- **Jakarta EE 3.0+**ï¼šç¦æ­¢ä½¿ç”¨javaxåŒ…åï¼Œç»Ÿä¸€ä½¿ç”¨jakartaåŒ…å
- **å››å±‚æ¶æ„è§„èŒƒ**ï¼šä¸¥æ ¼éµå¾ªControllerâ†’Serviceâ†’Managerâ†’DAO
- **ä¾èµ–æ³¨å…¥ç»Ÿä¸€**ï¼šå¼ºåˆ¶ä½¿ç”¨@Resourceæ³¨è§£ï¼Œç¦æ­¢@Autowired
- **DAOå±‚æ ‡å‡†åŒ–**ï¼šç»Ÿä¸€ä½¿ç”¨@Mapper + Daoåç¼€ï¼Œç»§æ‰¿BaseMapper<Entity>
- **Druidè¿æ¥æ± **ï¼šå¼ºåˆ¶ä½¿ç”¨Druidæ•°æ®åº“è¿æ¥æ± 
- **Nacosç»Ÿä¸€æ²»ç†**ï¼šåŸºäºNacosçš„æœåŠ¡æ³¨å†Œå‘ç°å’Œé…ç½®ç®¡ç†

### æŠ€æœ¯æ ˆæ ‡å‡†ç‰ˆæœ¬ (CLAUDE.md v4.0.0)
| æŠ€æœ¯ç»„ä»¶ | ç‰ˆæœ¬è¦æ±‚ | è§„èŒƒè¦æ±‚ | è¯´æ˜ |
|---------|---------|---------|------|
| **Spring Boot** | 3.5.8 | å¿…é¡»ä½¿ç”¨ | æ ¸å¿ƒæ¡†æ¶ç‰ˆæœ¬ |
| **Java** | 17 LTS | å¿…é¡»ä½¿ç”¨ | JVMç‰ˆæœ¬ |
| **Jakarta EE** | 3.0+ | å¼ºåˆ¶è¿ç§» | ç¦æ­¢javaxåŒ…å |
| **MyBatis-Plus** | 3.5.x | ç»§æ‰¿BaseMapper | ORMæ¡†æ¶ |
| **Druid** | æœ€æ–°ç‰ˆ | å¼ºåˆ¶ä½¿ç”¨ | æ•°æ®åº“è¿æ¥æ±  |
| **Nacos** | 2.3.2+ | ç»Ÿä¸€ä½¿ç”¨ | æœåŠ¡æ³¨å†Œå‘ç° |
| **Redis** | 7.x | ç»Ÿä¸€ä½¿ç”¨db=0 | ç¼“å­˜æ•°æ®åº“ |

### ç§»åŠ¨ç«¯æ¶æ„
```mermaid
graph TB
subgraph "ç§»åŠ¨ç«¯æ¶æ„"
A[uni-app Vue3] --> B[è·¨å¹³å°å¼€å‘]
A --> C[uni-uiç»„ä»¶åº“]
A --> D[åŸç”Ÿåº”ç”¨æ”¯æŒ]
B --> E[APPç«¯]
B --> F[H5ç½‘é¡µ]
B --> G[å°ç¨‹åº]
C --> H[ç»Ÿä¸€UIç»„ä»¶]
D --> I[åŸç”ŸåŠŸèƒ½è°ƒç”¨]
E --> J[Android/iOS]
F --> K[Webæµè§ˆå™¨]
G --> L[å¾®ä¿¡/æ”¯ä»˜å®ç­‰]
end
```

**ç§»åŠ¨ç«¯ç‰¹ç‚¹ï¼š**
- **ä¸€å¥—ä»£ç å¤šç«¯è¿è¡Œ**ï¼šåŒæ—¶æ”¯æŒAPPã€H5ã€å°ç¨‹åº
- **åŸç”ŸåŠŸèƒ½æ”¯æŒ**ï¼šå¯è°ƒç”¨æ‘„åƒå¤´ã€GPSç­‰åŸç”ŸåŠŸèƒ½
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé’ˆå¯¹ä¸åŒå¹³å°è¿›è¡Œæ€§èƒ½ä¼˜åŒ–

## ä¸šåŠ¡æ¨¡å—

### æ™ºèƒ½è§†é¢‘ç›‘æ§æ¨¡å—
æ™ºèƒ½è§†é¢‘ç›‘æ§ç³»ç»Ÿæä¾›å®Œæ•´çš„è§†é¢‘ç›‘æ§è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ï¼š

- **å®æ—¶ç›‘æ§**ï¼šæ”¯æŒå¤šè·¯è§†é¢‘å®æ—¶é¢„è§ˆ
- **æ™ºèƒ½åˆ†æ**ï¼šäººè„¸è¯†åˆ«ã€è¡Œä¸ºåˆ†æã€å¼‚å¸¸æ£€æµ‹
- **å‘Šè­¦ç®¡ç†**ï¼šæ™ºèƒ½å‘Šè­¦ã€å‘Šè­¦è”åŠ¨ã€å†å²å‘Šè­¦æŸ¥è¯¢
- **è®¾å¤‡ç®¡ç†**ï¼šæ‘„åƒæœºç®¡ç†ã€è®¾å¤‡åˆ†ç»„ã€çŠ¶æ€ç›‘æ§

### æ¶ˆè´¹ç®¡ç†æ¨¡å—
ä¼ä¸šæ¶ˆè´¹ç®¡ç†ç³»ç»Ÿæä¾›å®Œæ•´çš„æ¶ˆè´¹è¿è¥è§£å†³æ–¹æ¡ˆï¼š

```mermaid
flowchart TD
A[æ¶ˆè´¹ç®¡ç†] --> B[è´¦æˆ·ç®¡ç†]
A --> C[æ¶ˆè´¹ç»Ÿè®¡]
A --> D[æŠ¥è¡¨åˆ†æ]
A --> E[å‚æ•°é…ç½®]
B --> F[è´¦æˆ·ç±»åˆ«]
B --> G[è´¦æˆ·æ˜ç»†]
B --> H[å……å€¼ç®¡ç†]
C --> I[äº¤æ˜“ç»Ÿè®¡]
C --> J[æ¶ˆè´¹æ’è¡Œ]
D --> K[ç»è¥æŠ¥è¡¨]
D --> L[è´¢åŠ¡æŠ¥è¡¨]
E --> M[æ¶ˆè´¹è§„åˆ™]
E --> N[ä¼˜æƒ ç­–ç•¥]
```

**æ¶ˆè´¹ç®¡ç†æ ¸å¿ƒåŠŸèƒ½ï¼š**
- **è´¦æˆ·ä½“ç³»**ï¼šæ”¯æŒå¤šç§è´¦æˆ·ç±»å‹çš„ç®¡ç†
- **æ¶ˆè´¹ç»Ÿè®¡**ï¼šå®æ—¶ç»Ÿè®¡æ¶ˆè´¹æ•°æ®å’Œè¶‹åŠ¿
- **æŠ¥è¡¨åˆ†æ**ï¼šæä¾›ä¸°å¯Œçš„æ•°æ®åˆ†ææŠ¥è¡¨
- **å‚æ•°é…ç½®**ï¼šçµæ´»çš„ç³»ç»Ÿå‚æ•°å’Œä¸šåŠ¡è§„åˆ™é…ç½®

### ä¼ä¸šOAæ¨¡å—
OAåŠå…¬ç³»ç»Ÿæä¾›å®Œæ•´çš„åŠå…¬è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆï¼š

- **é€šçŸ¥å…¬å‘Š**ï¼šä¿¡æ¯å‘å¸ƒã€é˜…è¯»ç»Ÿè®¡ã€æƒé™æ§åˆ¶
- **ä¼ä¸šä¿¡æ¯**ï¼šå‘ç¥¨ç®¡ç†ã€é“¶è¡Œè´¦æˆ·ã€å‘˜å·¥ä¿¡æ¯
- **å®¡æ‰¹æµç¨‹**ï¼šè‡ªå®šä¹‰å®¡æ‰¹æµç¨‹ã€èŠ‚ç‚¹ç®¡ç†
- **æ–‡æ¡£ç®¡ç†**ï¼šæ–‡æ¡£ä¸Šä¼ ã€ç‰ˆæœ¬æ§åˆ¶ã€æƒé™ç®¡ç†

## ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾ - ä¸ƒå¾®æœåŠ¡æ¶æ„
```mermaid
graph TB
subgraph "å®¢æˆ·ç«¯å±‚"
A[Webæµè§ˆå™¨]
B[ç§»åŠ¨APP]
C[å°ç¨‹åº]
D[å¹³æ¿è®¾å¤‡]
end
subgraph "ç½‘å…³å±‚"
E[API Gateway 8080<br/>ioedream-gateway-service]
F[è´Ÿè½½å‡è¡¡]
G[SSL/TLSåŠ å¯†]
end
subgraph "ä¸ƒå¾®æœåŠ¡æ¶æ„"
H[å…¬å…±æ¨¡å—æœåŠ¡ 8088<br/>ioedream-common-service<br/>è®¤è¯/æˆæƒ/é…ç½®/ç›‘æ§/é€šçŸ¥]
I[è®¾å¤‡é€šä¿¡æœåŠ¡ 8087<br/>ioedream-device-comm-service<br/>è®¾å¤‡åè®®é€‚é…/é€šä¿¡ç®¡ç†]
J[OAå¾®æœåŠ¡ 8089<br/>ioedream-oa-service<br/>æ–‡æ¡£ç®¡ç†/å·¥ä½œæµ/ä¼ä¸šä¿¡æ¯]
K[é—¨ç¦æœåŠ¡ 8090<br/>ioedream-access-service<br/>é—¨ç¦æ§åˆ¶/æƒé™ç®¡ç†]
L[è€ƒå‹¤æœåŠ¡ 8091<br/>ioedream-attendance-service<br/>è€ƒå‹¤ç®¡ç†/æ’ç­ç»Ÿè®¡]
M[è§†é¢‘æœåŠ¡ 8092<br/>ioedream-video-service<br/>è§†é¢‘ç›‘æ§/æ™ºèƒ½åˆ†æ]
N[æ¶ˆè´¹æœåŠ¡ 8094<br/>ioedream-consume-service<br/>æ¶ˆè´¹ç®¡ç†/æ”¯ä»˜/å•†æˆ·]
O[è®¿å®¢æœåŠ¡ 8095<br/>ioedream-visitor-service<br/>è®¿å®¢ç®¡ç†/é¢„çº¦ç™»è®°]
end
subgraph "åŸºç¡€è®¾æ–½å±‚"
P[Nacosé…ç½®ä¸­å¿ƒ 8848]
Q[MySQLæ•°æ®åº“é›†ç¾¤]
R[Redisç¼“å­˜é›†ç¾¤]
S[æ–‡ä»¶å­˜å‚¨]
end
subgraph "å®¹å™¨åŒ–å±‚"
T[Dockerå®¹å™¨]
U[Kubernetesé›†ç¾¤]
V[ç›‘æ§ç³»ç»Ÿ]
W[æ—¥å¿—ç³»ç»Ÿ]
end
A --> E
B --> E
C --> E
D --> E
E --> F
F --> G
G --> H
G --> I
G --> J
G --> K
G --> L
G --> M
G --> N
G --> O
H --> P
I --> P
J --> P
K --> P
L --> P
M --> P
N --> P
O --> P
H --> Q
I --> Q
J --> Q
K --> Q
L --> Q
M --> Q
N --> Q
O --> Q
H --> R
I --> R
J --> R
K --> R
L --> R
M --> R
N --> R
O --> R
H --> S
I --> S
J --> S
K --> S
L --> S
M --> S
N --> S
O --> S
H --> T
I --> T
J --> T
K --> T
L --> T
M --> T
N --> T
O --> T
T --> U
U --> V
U --> W
```

**æ¶æ„ç‰¹ç‚¹ï¼š**
- **ä¸ƒå¾®æœåŠ¡æ¶æ„**ï¼šä¸¥æ ¼æŒ‰ç…§CLAUDE.md v4.0.0è§„èŒƒå®ç°çš„7ä¸ªæ ¸å¿ƒå¾®æœåŠ¡
- **å››å±‚æ¶æ„è§„èŒƒ**ï¼šä¸¥æ ¼éµå¾ªControllerâ†’Serviceâ†’Managerâ†’DAOåˆ†å±‚æ¶æ„
- **ç»Ÿä¸€æœåŠ¡æ²»ç†**ï¼šåŸºäºNacosçš„ç»Ÿä¸€æœåŠ¡æ³¨å†Œå‘ç°å’Œé…ç½®ç®¡ç†
- **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šåŸºäºDockerå’ŒKubernetesçš„äº‘åŸç”Ÿéƒ¨ç½²
- **é«˜å¯ç”¨è®¾è®¡**ï¼šå¤šå®ä¾‹éƒ¨ç½²ï¼Œæ”¯æŒæ•…éšœè‡ªåŠ¨åˆ‡æ¢å’Œè´Ÿè½½å‡è¡¡
- **æ€§èƒ½ä¼˜åŒ–**ï¼šå¤šçº§ç¼“å­˜æ¶æ„ã€è¿æ¥æ± ä¼˜åŒ–ã€æ•°æ®åº“åˆ†åº“åˆ†è¡¨

### å››å±‚æ¶æ„è§„èŒƒ (å¼ºåˆ¶æ‰§è¡Œ)

æŒ‰ç…§CLAUDE.md v4.0.0è§„èŒƒï¼Œä¸¥æ ¼éµå¾ªå››å±‚æ¶æ„æ¨¡å¼ï¼š

```mermaid
graph TB
subgraph "å››å±‚æ¶æ„è§„èŒƒ (CLAUDE.md)"
A[Controllerå±‚<br/>æ¥å£æ§åˆ¶å±‚] --> B[Serviceå±‚<br/>æ ¸å¿ƒä¸šåŠ¡å±‚]
B --> C[Managerå±‚<br/>å¤æ‚æµç¨‹ç®¡ç†å±‚]
C --> D[DAOå±‚<br/>æ•°æ®è®¿é—®å±‚]
end
```

#### ğŸ¯ Controllerå±‚ - æ¥å£æ§åˆ¶å±‚
**æ ¸å¿ƒèŒè´£**ï¼š
- æ¥æ”¶HTTPè¯·æ±‚ï¼Œå‚æ•°éªŒè¯(@Valid)
- è°ƒç”¨Serviceå±‚ï¼Œæš´éœ²REST API
- å°è£…ResponseDTOï¼Œå¤„ç†HTTPçŠ¶æ€ç 
- å¼‚å¸¸ç»Ÿä¸€å¤„ç†å’Œé”™è¯¯ç è¿”å›

**æ ‡å‡†ä»£ç æ¨¡æ¿**ï¼š
```java
@RestController
@RequestMapping("/api/v1/consume")
public class ConsumeController {

    @Resource  // âœ… ç»Ÿä¸€ä½¿ç”¨@Resource
    private ConsumeService consumeService;

    @PostMapping("/consume")
    public ResponseDTO<ConsumeResultDTO> consume(@Valid @RequestBody ConsumeRequestDTO request) {
        ConsumeResultDTO result = consumeService.consume(request);
        return ResponseDTO.ok(result);
    }

    // âŒ ç¦æ­¢ä½¿ç”¨@Autowired
    // @Autowired
    // private ConsumeService consumeService;
}
```

#### âš™ï¸ Serviceå±‚ - æ ¸å¿ƒä¸šåŠ¡å±‚
**æ ¸å¿ƒèŒè´£**ï¼š
- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å®ç°
- äº‹åŠ¡ç®¡ç†(@Transactional)
- è°ƒç”¨Managerå±‚è¿›è¡Œå¤æ‚æµç¨‹ç¼–æ’
- ä¸šåŠ¡è§„åˆ™éªŒè¯å’Œæ•°æ®è½¬æ¢

**æ ‡å‡†ä»£ç æ¨¡æ¿**ï¼š
```java
@Service
@Transactional(rollbackFor = Exception.class)
public class ConsumeServiceImpl implements ConsumeService {

    @Resource
    private ConsumeManager consumeManager;

    @Override
    public ConsumeResultDTO consume(ConsumeRequestDTO request) {
        // ä¸šåŠ¡è§„åˆ™éªŒè¯
        validateConsumeRequest(request);

        // æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
        return consumeManager.executeConsumption(request);
    }
}
```

#### ğŸ”§ Managerå±‚ - å¤æ‚æµç¨‹ç®¡ç†å±‚
**æ ¸å¿ƒèŒè´£**ï¼š
- å¤æ‚ä¸šåŠ¡æµç¨‹ç¼–æ’
- å¤šDAOæ•°æ®ç»„è£…å’Œè®¡ç®—
- ç¼“å­˜ç­–ç•¥ç®¡ç†
- ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ
- SAGAåˆ†å¸ƒå¼äº‹åŠ¡åè°ƒ

**æ ‡å‡†ä»£ç æ¨¡æ¿**ï¼š
```java
@Component
public class ConsumeManagerImpl implements ConsumeManager {

    @Resource
    private AccountDao accountDao;
    @Resource
    private GatewayServiceClient gatewayServiceClient;

    @Override
    @Transactional(rollbackFor = Exception.class)
    public ConsumeResultDTO executeConsumption(ConsumeRequestDTO request) {
        // å¤šçº§ç¼“å­˜æŸ¥è¯¢
        AccountEntity account = getAccountWithCache(request.getAccountId());

        // å¤æ‚ä¸šåŠ¡æµç¨‹ç¼–æ’
        return processComplexConsumption(request, account);
    }
}
```

#### ğŸ—„ï¸ DAOå±‚ - æ•°æ®è®¿é—®å±‚
**æ ¸å¿ƒèŒè´£**ï¼š
- æ•°æ®åº“CRUDæ“ä½œ
- ç»§æ‰¿BaseMapper<Entity>
- ç»Ÿä¸€ä½¿ç”¨@Mapperæ³¨è§£
- ç»Ÿä¸€ä½¿ç”¨Daoåç¼€å‘½å

**æ ‡å‡†ä»£ç æ¨¡æ¿**ï¼š
```java
// âœ… æ­£ç¡®ç¤ºä¾‹
@Mapper
public interface AccountDao extends BaseMapper<AccountEntity> {

    @Transactional(readOnly = true)
    AccountEntity selectByUserId(@Param("userId") Long userId);

    @Transactional(rollbackFor = Exception.class)
    int updateBalance(@Param("accountId") Long accountId, @Param("amount") BigDecimal amount);
}

// âŒ é”™è¯¯ç¤ºä¾‹ - ç¦æ­¢ä½¿ç”¨
@Repository  // ç¦æ­¢ä½¿ç”¨@Repositoryæ³¨è§£
public interface AccountRepository extends JpaRepository<AccountEntity, Long> {  // ç¦æ­¢Repositoryåç¼€
}
```

#### ğŸš« ä¸¥æ ¼ç¦æ­¢äº‹é¡¹
- âŒ **ç¦æ­¢è·¨å±‚è®¿é—®**ï¼ˆå¦‚Controllerç›´æ¥è°ƒç”¨DAOï¼‰
- âŒ **ç¦æ­¢DAOåŒ…å«ä¸šåŠ¡é€»è¾‘**ï¼ˆåªå¤„ç†æ•°æ®è®¿é—®ï¼‰
- âŒ **ç¦æ­¢Controllerå¤„ç†äº‹åŠ¡**ï¼ˆäº‹åŠ¡åªåœ¨Serviceå’ŒDAOå±‚ï¼‰
- âŒ **ç¦æ­¢Serviceç›´æ¥è®¿é—®æ•°æ®åº“**ï¼ˆé€šè¿‡DAOå±‚è®¿é—®ï¼‰
- âŒ **ç¦æ­¢ä½¿ç”¨@Autowiredæ³¨è§£**ï¼ˆç»Ÿä¸€ä½¿ç”¨@Resourceï¼‰
- âŒ **ç¦æ­¢ä½¿ç”¨Repositoryåç¼€**ï¼ˆç»Ÿä¸€ä½¿ç”¨Daoåç¼€ï¼‰

### æ•°æ®æµæ¶æ„
```mermaid
sequenceDiagram
participant C as å®¢æˆ·ç«¯
participant G as ç½‘å…³
participant S as ä¸šåŠ¡æœåŠ¡
participant D as æ•°æ®åº“
participant R as Redisç¼“å­˜
C->>G : å‘é€è¯·æ±‚
G->>G : è¯·æ±‚éªŒè¯
G->>S : è½¬å‘è¯·æ±‚
S->>R : æ£€æŸ¥ç¼“å­˜
alt ç¼“å­˜å‘½ä¸­
R-->>S : è¿”å›ç¼“å­˜æ•°æ®
else ç¼“å­˜æœªå‘½ä¸­
S->>D : æŸ¥è¯¢æ•°æ®åº“
D-->>S : è¿”å›æ•°æ®
S->>R : æ›´æ–°ç¼“å­˜
end
S-->>G : è¿”å›å“åº”
G-->>C : è¿”å›ç»“æœ
```

## å®‰å…¨ä½“ç³»

### ä¸‰çº§ç­‰ä¿åˆè§„
ç³»ç»Ÿå®Œå…¨æ»¡è¶³å›½å®¶ç½‘ç»œå®‰å…¨ä¸‰çº§ç­‰ä¿è¦æ±‚ï¼š

```mermaid
graph LR
subgraph "èº«ä»½é‰´åˆ«"
A[ç”¨æˆ·åå¯†ç ]
B[çŸ­ä¿¡éªŒè¯ç ]
C[åŒå› å­è®¤è¯]
end
subgraph "è®¿é—®æ§åˆ¶"
D[æƒé™çŸ©é˜µ]
E[è§’è‰²ç®¡ç†]
F[èµ„æºæˆæƒ]
end
subgraph "å®‰å…¨å®¡è®¡"
G[æ“ä½œæ—¥å¿—]
H[ç™»å½•æ—¥å¿—]
I[å®¡è®¡æŠ¥è¡¨]
end
subgraph "å…¥ä¾µé˜²èŒƒ"
J[é˜²ç«å¢™]
K[DDoSé˜²æŠ¤]
L[æ¶æ„IPæ‹¦æˆª]
end
A --> D
B --> E
C --> F
D --> G
E --> H
F --> I
G --> J
H --> K
I --> L
```

**å®‰å…¨ç‰¹æ€§è¯¦è§£ï¼š**

1. **ç™»å½•ä¿æŠ¤æœºåˆ¶**
   - è¿ç»­ç™»å½•å¤±è´¥æ¬¡æ•°é™åˆ¶
   - ç™»å½•å¤±è´¥è‡ªåŠ¨é”å®š
   - ç™»å½•è¶…æ—¶è‡ªåŠ¨é€€å‡º
   - åŒå› å­ç™»å½•æ”¯æŒ

2. **æ•°æ®å®‰å…¨**
   - æ•æ„Ÿæ•°æ®è‡ªåŠ¨è„±æ•
   - æ•°æ®ä¼ è¾“åŠ å¯†
   - æ•°æ®å­˜å‚¨åŠ å¯†
   - æ•°æ®å¤‡ä»½æ¢å¤

3. **æ¥å£å®‰å…¨**
   - è¯·æ±‚å‚æ•°åŠ å¯†
   - å“åº”å†…å®¹åŠ å¯†
   - å›½å¯†ç®—æ³•æ”¯æŒ
   - é˜²é‡æ”¾æ”»å‡»

### å®‰å…¨é…ç½®ç¤ºä¾‹
ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„å®‰å…¨é…ç½®é€‰é¡¹ï¼š

| é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| ç™»å½•å¤±è´¥æœ€å¤§æ¬¡æ•° | 5æ¬¡ | è¿ç»­ç™»å½•å¤±è´¥è¶…è¿‡æ­¤æ¬¡æ•°å°†è¢«é”å®š |
| é”å®šæ—¶é—´ | 30åˆ†é’Ÿ | ç™»å½•å¤±è´¥é”å®šæŒç»­æ—¶é—´ |
| æœ€ä½æ´»è·ƒæ—¶é—´ | 30åˆ†é’Ÿ | ç”¨æˆ·æœ€ä½æ´»è·ƒæ—¶é—´è¦æ±‚ |
| åŒå› å­ç™»å½• | å¯ç”¨ | æ˜¯å¦å¯ç”¨åŒå› å­è®¤è¯ |
| å¯†ç å¤æ‚åº¦ | å¯ç”¨ | å¼ºåˆ¶å¯†ç å¤æ‚åº¦è¦æ±‚ |

**èŠ‚æ¥æº**
- [Level3ProtectConfigForm.java](file://smart-admin-api-java17-springboot3/sa-base/src/main/java/net/lab1024/sa/base/module/support/securityprotect/domain/Level3ProtectConfigForm.java#L1-L37)

## å¼€å‘è§„èŒƒ

### å‰ç«¯å¼€å‘è§„èŒƒ
é¡¹ç›®æä¾›äº†å®Œæ•´çš„å‰ç«¯å¼€å‘è§„èŒƒï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œä¸€è‡´æ€§ï¼š

**æ–‡ä»¶å‘½åè§„èŒƒï¼š**
- APIæ–‡ä»¶ï¼š`æ¨¡å—-api.js`
- å¸¸é‡æ–‡ä»¶ï¼š`æ¨¡å—-const.js`
- ç»„ä»¶æ–‡ä»¶ï¼š`PascalCase.vue`
- é¡µé¢æ–‡ä»¶ï¼š`kebab-case.vue`

**ä»£ç ç»„ç»‡è§„èŒƒï¼š**
- ç»Ÿä¸€çš„æ–‡ä»¶å¤´æ³¨é‡Š
- æ ‡å‡†çš„å¯¼å…¥å¯¼å‡ºæ ¼å¼
- ä¸€è‡´çš„ä»£ç ç¼©è¿›å’Œæ ¼å¼
- å®Œå–„çš„ç±»å‹å®šä¹‰

### åç«¯å¼€å‘è§„èŒƒ
åç«¯é‡‡ç”¨å››å±‚æ¶æ„æ¨¡å¼ï¼Œç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ï¼š

```mermaid
graph TB
subgraph "å››å±‚æ¶æ„"
A[Controllerå±‚] --> B[Serviceå±‚]
B --> C[Managerå±‚]
C --> D[DAOå±‚]
A --> E[è¯·æ±‚å¤„ç†]
B --> F[ä¸šåŠ¡é€»è¾‘]
C --> G[ä¸šåŠ¡åè°ƒ]
D --> H[æ•°æ®è®¿é—®]
end
```

**å¼€å‘è§„èŒƒç‰¹ç‚¹ï¼š**
- **èŒè´£åˆ†ç¦»**ï¼šæ¯å±‚èŒè´£æ˜ç¡®ï¼Œé¿å…è€¦åˆ
- **å¼‚å¸¸å¤„ç†**ï¼šç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- **æ—¥å¿—è®°å½•**ï¼šå®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•
- **å•å…ƒæµ‹è¯•**ï¼šå®Œå–„çš„å•å…ƒæµ‹è¯•è¦†ç›–

### ä»£ç ç”Ÿæˆå™¨
ç³»ç»Ÿå†…ç½®äº†å¼ºå¤§çš„ä»£ç ç”Ÿæˆå™¨ï¼Œæ”¯æŒï¼š
- åŸºäºæ•°æ®åº“è¡¨çš„ä»£ç è‡ªåŠ¨ç”Ÿæˆ
- åœ¨çº¿é¢„è§ˆå’Œä¸‹è½½
- å¤šç§ç¼–ç¨‹è¯­è¨€æ”¯æŒ
- è‡ªå®šä¹‰æ¨¡æ¿é…ç½®

## éƒ¨ç½²ç¯å¢ƒ

### å¤šç¯å¢ƒé…ç½®
ç³»ç»Ÿæ”¯æŒäº”ç§éƒ¨ç½²ç¯å¢ƒï¼š

| ç¯å¢ƒ | ç”¨é€” | é…ç½®æ–‡ä»¶ | ç‰¹ç‚¹ |
|------|------|----------|------|
| å¼€å‘ç¯å¢ƒ(dev) | æœ¬åœ°å¼€å‘ | dev/ | åŠŸèƒ½å®Œæ•´ï¼Œè°ƒè¯•å‹å¥½ |
| æµ‹è¯•ç¯å¢ƒ(test) | åŠŸèƒ½æµ‹è¯• | test/ | æ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒ |
| é¢„å‘å¸ƒç¯å¢ƒ(pre) | ä¸Šçº¿å‰æµ‹è¯• | pre/ | ç”Ÿäº§ç¯å¢ƒé•œåƒ |
| ç”Ÿäº§ç¯å¢ƒ(prod) | æ­£å¼ä¸Šçº¿ | prod/ | é«˜æ€§èƒ½ä¼˜åŒ– |

### æ•°æ®åº“æ”¯æŒ
ç³»ç»Ÿæ”¯æŒå¤šç§æ•°æ®åº“ï¼š

**ä¸»æµæ•°æ®åº“ï¼š**
- MySQL 8.0+
- PostgreSQL 12+
- MariaDB

**å›½äº§æ•°æ®åº“ï¼š**
- è¾¾æ¢¦æ•°æ®åº“
- é‡‘ä»“æ•°æ®åº“
- å—å¤§é€šç”¨
- æµ·é‡æ•°æ®
- ç¥å·é€šç”¨
- OceanBase
- GaussDBé«˜æ–¯
- é˜¿é‡ŒPolarDB
- GoldenDB

### éƒ¨ç½²æ¶æ„
```mermaid
graph TB
subgraph "éƒ¨ç½²æ¶æ„"
A[è´Ÿè½½å‡è¡¡å™¨] --> B[åº”ç”¨æœåŠ¡å™¨1]
A --> C[åº”ç”¨æœåŠ¡å™¨2]
A --> D[åº”ç”¨æœåŠ¡å™¨N]
B --> E[æ•°æ®åº“é›†ç¾¤]
C --> E
D --> E
B --> F[Redisé›†ç¾¤]
C --> F
D --> F
B --> G[æ–‡ä»¶å­˜å‚¨]
C --> G
D --> G
end
```

**éƒ¨ç½²ç‰¹ç‚¹ï¼š**
- **æ°´å¹³æ‰©å±•**ï¼šæ”¯æŒå¤šå®ä¾‹éƒ¨ç½²
- **é«˜å¯ç”¨**ï¼šæ•°æ®åº“å’Œç¼“å­˜é›†ç¾¤
- **ç¾å¤‡**ï¼šå®Œå–„çš„å¤‡ä»½å’Œæ¢å¤æœºåˆ¶
- **ç›‘æ§**ï¼šå®æ—¶ç›‘æ§å’Œå‘Šè­¦

**èŠ‚æ¥æº**
- [pom.xml](file://smart-admin-api-java17-springboot3/pom.xml#L388-L420)

## é¡¹ç›®å‘å±•å†ç¨‹

### ç‰ˆæœ¬æ¼”è¿›
IOE-DREAMé¡¹ç›®ç»å†äº†é•¿æœŸçš„å‘å±•å’Œå®Œå–„ï¼š

**ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¡†æ¶æ­å»ºï¼ˆ2012-2018ï¼‰**
- å»ºç«‹åŸºç¡€å¼€å‘æ¡†æ¶
- å®Œæˆæ ¸å¿ƒåŠŸèƒ½æ¨¡å—
- å»ºç«‹å¼€å‘è§„èŒƒ

**ç¬¬äºŒé˜¶æ®µï¼šåŠŸèƒ½å®Œå–„ï¼ˆ2019-2022ï¼‰**
- å¢å¼ºå®‰å…¨åŠŸèƒ½
- ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½
- æ‰©å±•ä¸šåŠ¡æ¨¡å—

**ç¬¬ä¸‰é˜¶æ®µï¼šç°ä»£åŒ–å‡çº§ï¼ˆ2023-è‡³ä»Šï¼‰**
- å‡çº§åˆ°Spring Boot 3
- è¿ç§»åˆ°Vue3
- å¢å¼ºç§»åŠ¨ç«¯æ”¯æŒ
- å®Œå–„ä¸‰çº§ç­‰ä¿åˆè§„

### æŠ€æœ¯åˆ›æ–°
é¡¹ç›®åœ¨å¤šä¸ªæ–¹é¢å®ç°äº†æŠ€æœ¯åˆ›æ–°ï¼š

1. **å®‰å…¨ä½“ç³»åˆ›æ–°**
   - å›½å¯†ç®—æ³•é›†æˆ
   - åŒå› å­è®¤è¯
   - æ•°æ®è„±æ•æŠ€æœ¯

2. **æ¶æ„è®¾è®¡åˆ›æ–°**
   - å¾®æœåŠ¡æ¶æ„
   - å®¹å™¨åŒ–éƒ¨ç½²
   - äº‘åŸç”Ÿæ”¯æŒ

3. **å¼€å‘æ•ˆç‡åˆ›æ–°**
   - ä»£ç ç”Ÿæˆå™¨
   - AIè¾…åŠ©å¼€å‘
   - æ ‡å‡†åŒ–è§„èŒƒ

### ç¤¾åŒºè´¡çŒ®
é¡¹ç›®è·å¾—äº†å¹¿æ³›çš„è®¤å¯å’Œåº”ç”¨ï¼š

- **ä¼ä¸šéªŒè¯**ï¼šåƒä½™å®¶ä¼ä¸šçš„å®é™…åº”ç”¨éªŒè¯
- **å¼€æºç¤¾åŒº**ï¼šæŒç»­çš„å¼€æºè´¡çŒ®å’Œç¤¾åŒºæ”¯æŒ
- **æŠ€æœ¯æ¨å¹¿**ï¼šå¤šæ¬¡æŠ€æœ¯åˆ†äº«å’ŒåŸ¹è®­æ´»åŠ¨

## æ€»ç»“

IOE-DREAMé¡¹ç›®ä½œä¸ºä¼ä¸šçº§å…¨æ ˆç®¡ç†å¹³å°ï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼š

### æŠ€æœ¯ä¼˜åŠ¿
- **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**ï¼šé‡‡ç”¨æœ€æ–°çš„Spring Boot 3ã€Vue3ç­‰æŠ€æœ¯
- **é«˜å®‰å…¨æ€§**ï¼šå®Œå…¨æ»¡è¶³ä¸‰çº§ç­‰ä¿è¦æ±‚
- **é«˜æ€§èƒ½**ï¼šæ”¯æŒå¤§è§„æ¨¡æ•°æ®å¤„ç†
- **æ˜“æ‰©å±•**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºåŠŸèƒ½æ‰©å±•

### ä¸šåŠ¡ä»·å€¼
- **é™ä½å¼€å‘æˆæœ¬**ï¼šæ ‡å‡†åŒ–çš„å¼€å‘è§„èŒƒå’Œå·¥å…·
- **æé«˜å¼€å‘æ•ˆç‡**ï¼šä»£ç ç”Ÿæˆå™¨å’ŒAIè¾…åŠ©å¼€å‘
- **ä¿è¯ç³»ç»Ÿè´¨é‡**ï¼šå®Œå–„çš„æµ‹è¯•å’Œç›‘æ§æœºåˆ¶
- **æ»¡è¶³åˆè§„è¦æ±‚**ï¼šå†…ç½®çš„ä¸‰çº§ç­‰ä¿åˆè§„åŠŸèƒ½

### åº”ç”¨å‰æ™¯
IOE-DREAMé¡¹ç›®é€‚ç”¨äºå„ç§è§„æ¨¡çš„ä¼ä¸šï¼Œç‰¹åˆ«é€‚åˆï¼š

- **ä¸­å¤§å‹ä¼ä¸š**ï¼šå¤æ‚çš„ä¸šåŠ¡æµç¨‹å’Œæ•°æ®ç®¡ç†éœ€æ±‚
- **æ”¿åºœæœºæ„**ï¼šå¯¹å®‰å…¨æ€§å’Œåˆè§„æ€§è¦æ±‚è¾ƒé«˜çš„åœºæ™¯
- **é‡‘èæœºæ„**ï¼šéœ€è¦é«˜å®‰å…¨æ€§çš„é‡‘èä¸šåŠ¡ç³»ç»Ÿ
- **åˆ¶é€ ä¸š**ï¼šéœ€è¦ç”Ÿäº§ç®¡ç†å’Œç›‘æ§çš„åœºæ™¯

é€šè¿‡æŒç»­çš„æŠ€æœ¯åˆ›æ–°å’ŒåŠŸèƒ½å®Œå–„ï¼ŒIOE-DREAMå°†ç»§ç»­ä¸ºä¼ä¸šæ•°å­—åŒ–è½¬å‹æä¾›å¼ºæœ‰åŠ›çš„æŠ€æœ¯æ”¯æ’‘ï¼ŒåŠ©åŠ›ä¼ä¸šå®ç°æ™ºèƒ½åŒ–ã€æ•°å­—åŒ–çš„è¿è¥ç®¡ç†ç›®æ ‡ã€‚