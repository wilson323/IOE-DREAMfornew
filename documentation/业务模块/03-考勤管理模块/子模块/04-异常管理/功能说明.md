# 异常管理 - 功能说明

> **版本**: v1.0.0  
> **微服务**: ioedream-attendance-service (8091)  
> **创建日期**: 2025-12-17

---

## 📋 功能概述

异常管理模块负责处理各种考勤异常情况，包括请假、加班、调班、补签、销假等申请的提交、审批和管理，支持多级审批流程和灵活的审批规则配置。

---

## 🎯 核心功能

### 1. 假种管理

- **假种分类**: 法定假期、福利假期、病假、事假等分类管理
- **额度控制**: 年度额度、单次申请额度限制
- **证明要求**: 不同假种的证明文件要求
- **薪资扣除**: 配置不同假种的薪资扣除规则

### 2. 请假申请

- **申请类型**: 支持多种请假类型（年假、病假、事假、婚假等）
- **时间范围**: 支持单日、多日、跨时间段请假
- **额度检查**: 实时检查剩余请假额度
- **冲突检测**: 检查与排班、其他申请的时间冲突

### 3. 加班申请

- **加班类型**: 平时加班、周末加班、节假日加班
- **加班时长**: 精确计算加班工作时长
- **加班补偿**: 支持调休、加班费等补偿方式
- **加班限制**: 加班时长和频次限制

### 4. 补签申请

- **补签类型**: 签到补签、签退补签
- **补签时间**: 记录实际的打卡时间
- **补签原因**: 详细说明补签原因
- **证明要求**: 可能需要相关证明材料

### 5. 调班申请

- **调班类型**: 员工间调班、个人调班
- **时间交换**: 调班前后的时间对应关系
- **双方确认**: 涉及他人时需要双方确认

### 6. 销假申请

- **销假关联**: 必须关联原请假申请
- **销假时长**: 计算实际销假时长
- **额度恢复**: 恢复相应的请假额度

### 7. 审批流程

- **多级审批**: 支持多层级审批流程
- **条件审批**: 根据申请类型、时长等条件确定审批流程
- **审批权限**: 基于岗位、部门的审批权限配置
- **审批时效**: 审批时间限制和超时处理

---

## 📊 申请类型

| 申请类型 | 说明 | 审批级别 |
|----------|------|----------|
| 请假 | 各类请假申请 | 1-3级 |
| 加班 | 加班工时申请 | 1-2级 |
| 补签 | 漏打卡补签 | 1级 |
| 调班 | 班次调换申请 | 1-2级 |
| 销假 | 取消已批准假期 | 1级 |

---

## 🔧 假种配置

| 假种 | 类别 | 年度额度 | 是否扣薪 |
|------|------|----------|----------|
| 年假 | 法定假期 | 5-15天 | 否 |
| 病假 | 病假 | 不限 | 部分 |
| 事假 | 事假 | 不限 | 是 |
| 婚假 | 福利假期 | 3-15天 | 否 |
| 产假 | 法定假期 | 98-158天 | 否 |
| 陪产假 | 法定假期 | 7-30天 | 否 |

---

## 📈 性能指标

| 指标项 | 要求 |
|--------|------|
| 申请提交响应 | ≤ 500ms |
| 审批处理响应 | ≤ 300ms |
| 额度查询响应 | ≤ 200ms |
| 批量审批 | ≥ 100条/分钟 |

---

**📝 文档维护**: IOE-DREAM架构团队 | 2025-12-17
