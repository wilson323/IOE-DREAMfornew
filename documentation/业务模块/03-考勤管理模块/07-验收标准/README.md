# 考勤管理模块 - 验收标准文档

> **版本**: v2.0.0  
> **更新日期**: 2025-12-17  
> **文档类型**: 验收标准与测试用例

---

## 1. 功能验收标准

### 1.1 班次时间管理

#### AC-001: 时间段管理

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 创建时间段 | 可成功创建时间段，编码唯一 | 功能测试 |
| 编辑时间段 | 可修改时间段信息，修改后立即生效 | 功能测试 |
| 删除时间段 | 未被班次引用的时间段可删除 | 功能测试 |
| 时间校验 | 结束时间必须大于开始时间 | 边界测试 |
| 跨日支持 | 支持22:00-06:00跨日时间段 | 功能测试 |

#### AC-002: 班次管理

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 创建班次 | 支持规律班次、弹性班次、三班倒、四班三倒 | 功能测试 |
| 关联时间段 | 可为班次关联多个时间段 | 功能测试 |
| 时间冲突检测 | 关联时间段时自动检测冲突 | 功能测试 |
| 班次复制 | 可复制现有班次快速创建新班次 | 功能测试 |
| 班次预览 | 可预览班次完整时间线 | 功能测试 |

---

### 1.2 排班管理

#### AC-003: 排班日历

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 日历展示 | 以月历/周历形式展示排班 | UI测试 |
| 筛选功能 | 支持按部门、员工筛选 | 功能测试 |
| 拖拽排班 | 支持拖拽方式调整排班 | 交互测试 |
| 冲突提示 | 排班冲突时实时提示 | 功能测试 |

#### AC-004: 批量排班

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 批量创建 | 可一次为多人多日排班 | 功能测试 |
| 模板应用 | 可应用排班模板批量排班 | 功能测试 |
| 冲突处理 | 支持跳过/覆盖冲突策略 | 功能测试 |
| 操作预览 | 批量操作前可预览结果 | 功能测试 |

#### AC-005: 临时排班

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 覆盖排班 | 临时排班优先于正常排班 | 功能测试 |
| 部分覆盖 | 支持仅覆盖部分时段 | 功能测试 |
| 优先级控制 | 按优先级决定生效排班 | 功能测试 |

#### AC-006: 智能排班

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 历史分析 | 分析员工历史打卡规律 | 功能测试 |
| 班次匹配 | 自动匹配最合适班次 | 算法测试 |
| 结果预览 | 可预览智能排班结果 | 功能测试 |

---

### 1.3 考勤规则配置

#### AC-007: 考勤规则

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 规则创建 | 可创建迟到/早退/旷工规则 | 功能测试 |
| 适用范围 | 可设置规则适用部门/岗位 | 功能测试 |
| 规则生效 | 规则变更后立即生效 | 功能测试 |
| 规则优先级 | 多规则时按优先级应用 | 功能测试 |

#### AC-008: 预警规则

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 预警配置 | 可配置预警触发条件 | 功能测试 |
| 预警级别 | 支持高/中/低预警级别 | 功能测试 |
| 自动触发 | 满足条件自动生成预警 | 自动化测试 |
| 设备联动 | 支持摄像头+门禁联动预警 | 集成测试 |

#### AC-009: 通知规则

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 打卡提醒 | 上下班前发送打卡提醒 | 功能测试 |
| 未打卡通知 | 未打卡后发送通知 | 功能测试 |
| 多渠道 | 支持短信/邮件/微信/钉钉 | 集成测试 |
| 频率控制 | 通知频率可配置 | 功能测试 |

#### AC-010: 考勤点管理

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 位置配置 | 可配置GPS坐标和半径 | 功能测试 |
| 地图展示 | 考勤点在地图上可视化 | UI测试 |
| 位置验证 | 打卡时验证是否在有效范围 | 功能测试 |

---

### 1.4 异常管理

#### AC-011: 假种管理

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 假种配置 | 可配置年假/病假/事假等 | 功能测试 |
| 额度管理 | 可设置年度额度和单次限制 | 功能测试 |
| 审批流程 | 可配置多级审批流程 | 功能测试 |
| 证明要求 | 可设置是否需要证明材料 | 功能测试 |

#### AC-012: 请假申请

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 提交申请 | 可提交请假申请 | 功能测试 |
| 额度检查 | 申请时检查剩余额度 | 功能测试 |
| 时长计算 | 自动计算请假时长 | 功能测试 |
| 材料上传 | 可上传证明材料 | 功能测试 |

#### AC-013: 加班申请

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 加班类型 | 支持平时/周末/节假日加班 | 功能测试 |
| 时长计算 | 自动计算加班时长 | 功能测试 |
| 补偿方式 | 支持调休/加班费选择 | 功能测试 |
| 周末加班 | 周末打卡自动记为加班 | 功能测试 |

#### AC-014: 补签申请

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 补签类型 | 支持签到/签退补签 | 功能测试 |
| 时间设置 | 可设置实际打卡时间 | 功能测试 |
| 原因说明 | 必须填写补签原因 | 功能测试 |

#### AC-015: 销假管理

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 关联请假 | 必须关联原请假申请 | 功能测试 |
| 时长计算 | 自动计算销假时长 | 功能测试 |
| 额度恢复 | 审批通过后恢复假期额度 | 功能测试 |

#### AC-016: 审批管理

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 待审批列表 | 显示待审批申请 | 功能测试 |
| 审批操作 | 可通过/拒绝申请 | 功能测试 |
| 批量审批 | 支持批量审批操作 | 功能测试 |
| 审批通知 | 审批后通知申请人 | 功能测试 |

---

### 1.5 考勤数据

#### AC-017: 打卡记录

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 多方式打卡 | 支持刷卡/人脸/移动端打卡 | 功能测试 |
| 位置验证 | 移动端打卡验证位置 | 功能测试 |
| 即时反馈 | 打卡成功即时显示结果 | 性能测试 |
| 记录查询 | 可查询历史打卡记录 | 功能测试 |

#### AC-018: 考勤计算

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 自动计算 | 每日自动计算考勤结果 | 自动化测试 |
| 状态判定 | 正确判定正常/迟到/早退/旷工 | 功能测试 |
| 时长计算 | 正确计算工作时长和加班时长 | 功能测试 |
| 异常处理 | 考虑请假等异常情况 | 功能测试 |
| 智能找班 | 无排班时智能匹配班次 | 功能测试 |

---

### 1.6 汇总报表

#### AC-019: 月度汇总

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| 汇总生成 | 可生成月度考勤汇总 | 功能测试 |
| 统计准确 | 出勤/迟到/加班等统计准确 | 数据测试 |
| 出勤率 | 正确计算出勤率 | 功能测试 |

#### AC-020: 报表导出

| 验收项 | 验收标准 | 验证方法 |
|--------|----------|----------|
| Excel导出 | 可导出Excel格式报表 | 功能测试 |
| PDF导出 | 可导出PDF格式报表 | 功能测试 |
| 自定义字段 | 可自定义导出字段 | 功能测试 |

---

## 2. 性能验收标准

### 2.1 响应时间

| 测试场景 | 验收标准 | 测试方法 |
|----------|----------|----------|
| 打卡接口 | P99 < 500ms | 压力测试 |
| 考勤查询 | P99 < 1s | 压力测试 |
| 报表生成 | < 30s (1000人) | 性能测试 |

### 2.2 并发能力

| 测试场景 | 验收标准 | 测试方法 |
|----------|----------|----------|
| 高峰打卡 | 1000 TPS | 压力测试 |
| 查询并发 | 500 QPS | 压力测试 |

### 2.3 稳定性

| 测试场景 | 验收标准 | 测试方法 |
|----------|----------|----------|
| 24小时运行 | 无内存泄漏 | 稳定性测试 |
| 异常恢复 | 30分钟内恢复 | 故障演练 |

---

## 3. 安全验收标准

### 3.1 认证授权

| 测试场景 | 验收标准 | 测试方法 |
|----------|----------|----------|
| 未登录访问 | 拒绝访问 | 安全测试 |
| 越权访问 | 拒绝访问 | 安全测试 |
| Token过期 | 自动拒绝 | 安全测试 |

### 3.2 数据安全

| 测试场景 | 验收标准 | 测试方法 |
|----------|----------|----------|
| 敏感数据 | 加密存储 | 安全测试 |
| 日志脱敏 | 敏感信息脱敏 | 安全测试 |
| SQL注入 | 防护有效 | 渗透测试 |

---

## 4. 测试用例示例

### TC-001: 员工打卡

**前置条件**: 员工已登录，已有当日排班

**测试步骤**:
1. 员工到达打卡位置
2. 选择打卡方式（刷卡/人脸/移动端）
3. 执行打卡操作
4. 系统验证身份和位置
5. 系统记录打卡时间
6. 系统判定打卡状态

**预期结果**:
- 打卡成功，显示打卡时间
- 打卡记录正确保存
- 打卡状态正确判定（正常/迟到/早退）

**验收标准**:
- 响应时间 < 500ms
- 打卡记录准确无误

---

### TC-002: 请假申请

**前置条件**: 员工已登录，有足够假期额度

**测试步骤**:
1. 进入请假申请页面
2. 选择假种类型
3. 设置请假时间范围
4. 填写请假原因
5. 上传证明材料（如需要）
6. 提交申请

**预期结果**:
- 申请提交成功
- 审批人收到通知
- 申请状态为"待审批"

**验收标准**:
- 请假时长计算正确
- 审批流程正确启动

---

### TC-003: 考勤计算

**前置条件**: 员工有当日排班和打卡记录

**测试步骤**:
1. 触发考勤计算
2. 系统获取排班信息
3. 系统获取打卡记录
4. 系统执行考勤计算
5. 生成考勤结果

**预期结果**:
- 考勤结果正确生成
- 迟到/早退分钟数准确
- 工作时长计算正确

**验收标准**:
- 计算结果与预期一致
- 异常情况正确处理

---

*本文档持续更新中*

