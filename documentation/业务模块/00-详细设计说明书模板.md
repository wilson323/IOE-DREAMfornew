# è¯¦ç»†è®¾è®¡è¯´æ˜ä¹¦æ¨¡æ¿

> **ç‰ˆæœ¬**: v1.0.0
> **åˆ›å»ºæ—¥æœŸ**: 2025-12-21
> **é€‚ç”¨èŒƒå›´**: IOE-DREAMæ‰€æœ‰ä¸šåŠ¡æ¨¡å—è¯¦ç»†è®¾è®¡
> **ç»´æŠ¤æœºæ„**: IOE-DREAMæ¶æ„å§”å‘˜ä¼š

---

## ğŸ“‹ æ¨¡æ¿è¯´æ˜

æœ¬æ–‡æ¡£ä¸ºIOE-DREAMæ™ºæ…§å›­åŒºç®¡ç†ç³»ç»Ÿæä¾›æ ‡å‡†åŒ–çš„è¯¦ç»†è®¾è®¡è¯´æ˜ä¹¦æ¨¡æ¿ï¼Œä½œä¸ºæ¦‚è¦è®¾è®¡çš„ç»†åŒ–è¡¥å……ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›ç›´æ¥çš„å®æ–½æŒ‡å¯¼ã€‚

### ğŸ¯ ä½¿ç”¨æŒ‡å—

1. **æ‰¿ä¸Šå¯ä¸‹**: åŸºäºæ¦‚è¦è®¾è®¡æ–‡æ¡£è¿›è¡Œç»†åŒ–
2. **å¼€å‘æŒ‡å¯¼**: ä¸ºç¼–ç å®ç°æä¾›è¯¦ç»†æŒ‡å¯¼
3. **æ ‡å‡†ç»Ÿä¸€**: ç¡®ä¿æ‰€æœ‰æ¨¡å—çš„è¯¦ç»†è®¾è®¡é£æ ¼ä¸€è‡´
4. **è´¨é‡ä¿è¯**: é€šè¿‡è¯¦ç»†è®¾è®¡è§„é¿å¼€å‘é£é™©

---

## ğŸ“‹ æ–‡æ¡£ç»“æ„æ¨¡æ¿

### 1. æ–‡æ¡£ä¿¡æ¯ (å¿…é¡»å¡«å†™)

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **æ¨¡å—åç§°** | [æ¨¡å—ä¸­æ–‡åç§°] |
| **æ¨¡å—è‹±æ–‡å** | [Module English Name] |
| **è®¾è®¡æ–‡æ¡£ç‰ˆæœ¬** | v1.0.0 |
| **å¯¹åº”æ¦‚è¦è®¾è®¡** | [æ¦‚è¦è®¾è®¡æ–‡æ¡£åç§°å’Œç‰ˆæœ¬] |
| **åˆ›å»ºæ—¥æœŸ** | [YYYY-MM-DD] |
| **æ›´æ–°æ—¥æœŸ** | [YYYY-MM-DD] |
| **è®¾è®¡äºº** | [å§“å] |
| **å®¡æ ¸äºº** | [æŠ€æœ¯è´Ÿè´£äºº] |
| **æ–‡æ¡£çŠ¶æ€** | [è‰ç¨¿/å®¡æ ¸ä¸­/å·²å‘å¸ƒ] |

### 2. è®¾è®¡èŒƒå›´ (å¿…é¡»å¡«å†™)

#### 2.1 è®¾è®¡ç›®æ ‡

**æ¨¡æ¿å†…å®¹**:
- **åŠŸèƒ½ç›®æ ‡**: [è¯¦ç»†çš„åŠŸèƒ½å®ç°ç›®æ ‡]
- **æ€§èƒ½ç›®æ ‡**: [å…·ä½“çš„æ€§èƒ½æŒ‡æ ‡è¦æ±‚]
- **è´¨é‡ç›®æ ‡**: [ä»£ç è´¨é‡ã€å¯é æ€§è¦æ±‚]
- **å®‰å…¨ç›®æ ‡**: [å®‰å…¨æ€§è¦æ±‚å’Œæªæ–½]

#### 2.2 è®¾è®¡èŒƒå›´

**æ¨¡æ¿å†…å®¹**:
- **åŒ…å«èŒƒå›´**: [æœ¬æ¬¡è¯¦ç»†è®¾è®¡åŒ…å«çš„å…·ä½“å†…å®¹]
- **ä¸åŒ…å«èŒƒå›´**: [æœ¬æ¬¡è¯¦ç»†è®¾è®¡ä¸åŒ…å«çš„å†…å®¹]
- **ä¾èµ–å…³ç³»**: [ä¾èµ–çš„å…¶ä»–æ¨¡å—æˆ–æœåŠ¡]
- **çº¦æŸæ¡ä»¶** [æŠ€æœ¯çº¦æŸã€ä¸šåŠ¡çº¦æŸç­‰]

### 3. ç±»ç»“æ„è®¾è®¡ (å¿…é¡»å¡«å†™)

#### 3.1 åŒ…ç»“æ„å›¾

**æ¨¡æ¿å†…å®¹**:

```
com.ioedream.{service}/
â”œâ”€â”€ controller/              # æ¥å£æ§åˆ¶å±‚
â”‚   â”œâ”€â”€ {Module}Controller.java
â”‚   â””â”€â”€ support/
â”‚       â””â”€â”€ BaseController.java
â”œâ”€â”€ service/                 # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ {Module}Service.java
â”‚   â””â”€â”€ impl/
â”‚       â””â”€â”€ {Module}ServiceImpl.java
â”œâ”€â”€ manager/                 # æµç¨‹ç¼–æ’å±‚
â”‚   â”œâ”€â”€ {Module}Manager.java
â”‚   â””â”€â”€ impl/
â”‚       â””â”€â”€ {Module}ManagerImpl.java
â”œâ”€â”€ dao/                     # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ {Module}Dao.java
â”‚   â””â”€â”€ custom/
â”‚       â””â”€â”€ {Module}CustomDao.java
â”œâ”€â”€ domain/                  # é¢†åŸŸå¯¹è±¡å±‚
â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â””â”€â”€ {Module}Entity.java
â”‚   â”œâ”€â”€ form/
â”‚   â”‚   â”œâ”€â”€ {Module}AddForm.java
â”‚   â”‚   â”œâ”€â”€ {Module}UpdateForm.java
â”‚   â”‚   â””â”€â”€ {Module}QueryForm.java
â”‚   â””â”€â”€ vo/
â”‚       â”œâ”€â”€ {Module}VO.java
â”‚       â”œâ”€â”€ {Module}DetailVO.java
â”‚       â””â”€â”€ {Module}ListVO.java
â”œâ”€â”€ config/                  # é…ç½®ç±»
â”‚   â”œâ”€â”€ {Module}Configuration.java
â”‚   â””â”€â”€ {Module}Properties.java
â””â”€â”€ {Module}Application.java   # å¯åŠ¨ç±»
```

#### 3.2 æ ¸å¿ƒç±»è®¾è®¡

**Controllerå±‚è®¾è®¡æ¨¡æ¿**:

```java
/**
 * [æ¨¡å—åç§°]æ§åˆ¶å™¨
 *
 * @author [ä½œè€…]
 * @since [ç‰ˆæœ¬]
 */
@RestController
@RequestMapping("/api/v1/{module}")
@Tag(name = "[æ¨¡å—åç§°]ç®¡ç†", description = "[æ¨¡å—æè¿°]")
@Slf4j
public class {Module}Controller {

    @Resource
    private {module}Service {module}Service;

    /**
     * æ–°å¢{æ¨¡å—}
     */
    @PostMapping
    @Operation(summary = "æ–°å¢{æ¨¡å—}", description = "åˆ›å»ºæ–°çš„{æ¨¡å—}è®°å½•")
    @PreAuthorize("hasPermission('{module}:write')")
    public ResponseDTO<Long> add(@Valid @RequestBody {Module}AddForm form) {
        log.info("[{}] æ–°å¢{æ¨¡å—}: {}", getOperationId(), form);
        try {
            Long id = {module}Service.add(form);
            return ResponseDTO.ok(id);
        } catch (Exception e) {
            log.error("[{}] æ–°å¢{æ¨¡å—}å¤±è´¥: {}", getOperationId(), e.getMessage(), e);
            throw new BusinessException("MODULE_ADD_FAILED", "æ–°å¢{æ¨¡å—}å¤±è´¥");
        }
    }

    /**
     * æ›´æ–°{æ¨¡å—}
     */
    @PutMapping("/{id}")
    @Operation(summary = "æ›´æ–°{æ¨¡å—}", description = "æ›´æ–°{æ¨¡å—}ä¿¡æ¯")
    @PreAuthorize("hasPermission('{module}:write')")
    public ResponseDTO<Void> update(
            @PathVariable Long id,
            @Valid @RequestBody {Module}UpdateForm form) {
        log.info("[{}] æ›´æ–°{æ¨¡å—}: id={}, form={}", getOperationId(), id, form);
        {module}Service.update(id, form);
        return ResponseDTO.ok();
    }

    /**
     * åˆ é™¤{æ¨¡å—}
     */
    @DeleteMapping("/{id}")
    @Operation(summary = "åˆ é™¤{æ¨¡å—}", description = "åˆ é™¤æŒ‡å®šçš„{æ¨¡å—}è®°å½•")
    @PreAuthorize("hasPermission('{module}:delete')")
    public ResponseDTO<Void> delete(@PathVariable Long id) {
        log.info("[{}] åˆ é™¤{æ¨¡å—}: id={}", getOperationId(), id);
        {module}Service.delete(id);
        return ResponseDTO.ok();
    }

    /**
     * æŸ¥è¯¢{æ¨¡å—}è¯¦æƒ…
     */
    @GetMapping("/{id}")
    @Operation(summary = "æŸ¥è¯¢{æ¨¡å—}è¯¦æƒ…", description = "æ ¹æ®IDæŸ¥è¯¢{æ¨¡å—}è¯¦ç»†ä¿¡æ¯")
    @PreAuthorize("hasPermission('{module}:read')")
    public ResponseDTO<{Module}DetailVO> getById(@PathVariable Long id) {
        log.info("[{}] æŸ¥è¯¢{æ¨¡å—}è¯¦æƒ…: id={}", getOperationId(), id);
        {Module}DetailVO result = {module}Service.getDetailById(id);
        return ResponseDTO.ok(result);
    }

    /**
     * åˆ†é¡µæŸ¥è¯¢{æ¨¡å—}
     */
    @PostMapping("/page")
    @Operation(summary = "åˆ†é¡µæŸ¥è¯¢{æ¨¡å—}", description = "åˆ†é¡µæŸ¥è¯¢{æ¨¡å—}åˆ—è¡¨")
    @PreAuthorize("hasPermission('{module}:read')")
    public ResponseDTO<PageResult<{Module}ListVO>> page(@Valid @RequestBody {Module}QueryForm form) {
        log.info("[{}] åˆ†é¡µæŸ¥è¯¢{æ¨¡å—}: form={}", getOperationId(), form);
        PageResult<{Module}ListVO> result = {module}Service.page(form);
        return ResponseDTO.ok(result);
    }

    /**
     * è·å–æ“ä½œID
     */
    private String getOperationId() {
        return MDC.get("operationId", UUID.randomUUID().toString().substring(0, 8));
    }
}
```

**Serviceå±‚è®¾è®¡æ¨¡æ¿**:

```java
/**
 * [æ¨¡å—åç§°]æœåŠ¡æ¥å£
 *
 * @author [ä½œè€…]
 * @since [ç‰ˆæœ¬]
 */
public interface {Module}Service {

    /**
     * æ–°å¢{æ¨¡å—}
     *
     * @param form æ–°å¢è¡¨å•
     * @return è®°å½•ID
     */
    Long add({Module}AddForm form);

    /**
     * æ›´æ–°{æ¨¡å—}
     *
     * @param id è®°å½•ID
     * @param form æ›´æ–°è¡¨å•
     */
    void update(Long id, {Module}UpdateForm form);

    /**
     * åˆ é™¤{æ¨¡å—}
     *
     * @param id è®°å½•ID
     */
    void delete(Long id);

    /**
     * æŸ¥è¯¢{æ¨¡å—}è¯¦æƒ…
     *
     * @param id è®°å½•ID
     * @return è¯¦æƒ…ä¿¡æ¯
     */
    {Module}DetailVO getDetailById(Long id);

    /**
     * åˆ†é¡µæŸ¥è¯¢{æ¨¡å—}
     *
     * @param form æŸ¥è¯¢è¡¨å•
     * @return åˆ†é¡µç»“æœ
     */
    PageResult<{Module}ListVO> page({Module}QueryForm form);
}
```

**Serviceå®ç°å±‚è®¾è®¡æ¨¡æ¿**:

```java
/**
 * [æ¨¡å—åç§°]æœåŠ¡å®ç°
 *
 * @author [ä½œè€…]
 * @since [ç‰ˆæœ¬]
 */
@Slf4j
@Service
@Transactional(rollbackFor = Exception.class)
public class {Module}ServiceImpl implements {Module}Service {

    @Resource
    private {Module}Manager {module}Manager;

    @Override
    public Long add({Module}AddForm form) {
        // å‚æ•°æ ¡éªŒå·²åœ¨Controllerå±‚å®Œæˆ
        return {module}Manager.create(form);
    }

    @Override
    public void update(Long id, {Module}UpdateForm form) {
        {module}Manager.update(id, form);
    }

    @Override
    public void delete(Long id) {
        {module}Manager.deleteById(id);
    }

    @Override
    public {Module}DetailVO getDetailById(Long id) {
        return {module}Manager.getDetailById(id);
    }

    @Override
    public PageResult<{Module}ListVO> page({Module}QueryForm form) {
        return {module}Manager.page(form);
    }
}
```

**Managerå±‚è®¾è®¡æ¨¡æ¿**:

```java
/**
 * [æ¨¡å—åç§°]ç®¡ç†å™¨
 *
 * @author [ä½œè€…]
 * @since [ç‰ˆæœ¬]
 */
@Slf4j
public class {Module}Manager {

    private final {Module}Dao {module}Dao;
    private final [ç›¸å…³]Dao [ç›¸å…³]Dao;
    private final [ç›¸å…³]Manager [ç›¸å…³]Manager;

    public {Module}Manager({Module}Dao {module}Dao, [ç›¸å…³]Dao [ç›¸å…³]Dao, [ç›¸å…³]Manager [ç›¸å…³]Manager) {
        this.{module}Dao = {module}Dao;
        this.[ç›¸å…³]Dao = [ç›¸å…³]Dao;
        this.[ç›¸å…³]Manager = [ç›¸å…³]Manager;
    }

    /**
     * åˆ›å»º{æ¨¡å—}
     *
     * @param form æ–°å¢è¡¨å•
     * @return è®°å½•ID
     */
    public Long create({Module}AddForm form) {
        log.debug("åˆ›å»º{æ¨¡å—}å¼€å§‹: {}", form);

        // 1. ä¸šåŠ¡è§„åˆ™æ ¡éªŒ
        validateCreateRules(form);

        // 2. è½¬æ¢ä¸ºå®ä½“
        {Module}Entity entity = convertToEntity(form);

        // 3. è®¾ç½®é»˜è®¤å€¼
        setDefaultValues(entity);

        // 4. ä¿å­˜åˆ°æ•°æ®åº“
        {module}Dao.insert(entity);

        // 5. åç½®å¤„ç†
        postCreateProcess(entity);

        log.debug("åˆ›å»º{æ¨¡å—}æˆåŠŸ: id={}", entity.getId());
        return entity.getId();
    }

    /**
     * æ›´æ–°{æ¨¡å—}
     *
     * @param id è®°å½•ID
     * @param form æ›´æ–°è¡¨å•
     */
    public void update(Long id, {Module}UpdateForm form) {
        log.debug("æ›´æ–°{æ¨¡å—}å¼€å§‹: id={}, form={}", id, form);

        // 1. æŸ¥è¯¢ç°æœ‰è®°å½•
        {Module}Entity entity = {module}Dao.selectById(id);
        if (entity == null) {
            throw new BusinessException("MODULE_NOT_FOUND", "{æ¨¡å—}ä¸å­˜åœ¨");
        }

        // 2. ä¸šåŠ¡è§„åˆ™æ ¡éªŒ
        validateUpdateRules(entity, form);

        // 3. æ›´æ–°å­—æ®µ
        updateEntity(entity, form);

        // 4. ä¿å­˜åˆ°æ•°æ®åº“
        {module}Dao.updateById(entity);

        // 5. åç½®å¤„ç†
        postUpdateProcess(entity);

        log.debug("æ›´æ–°{æ¨¡å—}æˆåŠŸ: id={}", id);
    }

    /**
     * åˆ é™¤{æ¨¡å—}
     *
     * @param id è®°å½•ID
     */
    public void deleteById(Long id) {
        log.debug("åˆ é™¤{æ¨¡å—}å¼€å§‹: id={}", id);

        // 1. æŸ¥è¯¢ç°æœ‰è®°å½•
        {Module}Entity entity = {module}Dao.selectById(id);
        if (entity == null) {
            throw new BusinessException("MODULE_NOT_FOUND", "{æ¨¡å—}ä¸å­˜åœ¨");
        }

        // 2. ä¸šåŠ¡è§„åˆ™æ ¡éªŒ
        validateDeleteRules(entity);

        // 3. è½¯åˆ é™¤æ ‡è®°
        entity.setDeletedFlag(1);
        {module}Dao.updateById(entity);

        // 4. åç½®å¤„ç†
        postDeleteProcess(entity);

        log.debug("åˆ é™¤{æ¨¡å—}æˆåŠŸ: id={}", id);
    }

    /**
     * æŸ¥è¯¢è¯¦æƒ…
     *
     * @param id è®°å½•ID
     * @return è¯¦æƒ…ä¿¡æ¯
     */
    public {Module}DetailVO getDetailById(Long id) {
        log.debug("æŸ¥è¯¢{æ¨¡å—}è¯¦æƒ…: id={}", id);

        {Module}Entity entity = {module}Dao.selectById(id);
        if (entity == null) {
            throw new BusinessException("MODULE_NOT_FOUND", "{æ¨¡å—}ä¸å­˜åœ¨");
        }

        // ç»„è£…è¯¦æƒ…ä¿¡æ¯
        {Module}DetailVO vo = convertToDetailVO(entity);

        // åŠ è½½å…³è”ä¿¡æ¯
        loadRelatedInfo(vo);

        return vo;
    }

    /**
     * åˆ†é¡µæŸ¥è¯¢
     *
     * @param form æŸ¥è¯¢è¡¨å•
     * @return åˆ†é¡µç»“æœ
     */
    public PageResult<{Module}ListVO> page({Module}QueryForm form) {
        log.debug("åˆ†é¡µæŸ¥è¯¢{æ¨¡å—}: form={}", form);

        // æ„å»ºæŸ¥è¯¢æ¡ä»¶
        LambdaQueryWrapper<{Module}Entity> queryWrapper = buildQueryWrapper(form);

        // æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢
        IPage<{Module}Entity> page = {module}Dao.selectPage(
            new Page<>(form.getPageNum(), form.getPageSize()),
            queryWrapper
        );

        // è½¬æ¢ä¸ºVO
        List<{Module}ListVO> voList = page.getRecords().stream()
            .map(this::convertToListVO)
            .collect(Collectors.toList());

        return new PageResult<>(
            voList,
            page.getTotal(),
            page.getCurrent(),
            page.getSize(),
            page.getPages()
        );
    }

    // ç§æœ‰æ–¹æ³• - ä¸šåŠ¡è§„åˆ™æ ¡éªŒ
    private void validateCreateRules({Module}AddForm form) {
        // æ ¡éªŒä¸šåŠ¡è§„åˆ™
        if (form.getName() == null || form.getName().trim().isEmpty()) {
            throw new BusinessException("MODULE_NAME_REQUIRED", "æ¨¡å—åç§°ä¸èƒ½ä¸ºç©º");
        }

        // æ£€æŸ¥é‡å¤æ€§
        LambdaQueryWrapper<{Module}Entity> wrapper = new LambdaQueryWrapper<>();
        wrapper.eq({Module}Entity::getName, form.getName());
        long count = {module}Dao.selectCount(wrapper);
        if (count > 0) {
            throw new BusinessException("MODULE_NAME_EXISTS", "æ¨¡å—åç§°å·²å­˜åœ¨");
        }
    }

    private void validateUpdateRules({Module}Entity entity, {Module}UpdateForm form) {
        // æ›´æ–°ä¸šåŠ¡è§„åˆ™æ ¡éªŒ
        if (!Objects.equals(entity.getName(), form.getName())) {
            // åç§°å‘ç”Ÿå˜åŒ–ï¼Œæ£€æŸ¥é‡å¤æ€§
            LambdaQueryWrapper<{Module}Entity> wrapper = new LambdaQueryWrapper<>();
            wrapper.eq({Module}Entity::getName, form.getName())
                .ne({Module}Entity::getId, entity.getId());
            long count = {module}Dao.selectCount(wrapper);
            if (count > 0) {
                throw new BusinessException("MODULE_NAME_EXISTS", "æ¨¡å—åç§°å·²å­˜åœ¨");
            }
        }
    }

    private void validateDeleteRules({Module}Entity entity) {
        // åˆ é™¤ä¸šåŠ¡è§„åˆ™æ ¡éªŒ
        // æ£€æŸ¥æ˜¯å¦è¢«å¼•ç”¨
        // if (isReferenced(entity.getId())) {
        //     throw new BusinessException("MODULE_REFERENCED", "æ¨¡å—è¢«å¼•ç”¨ï¼Œæ— æ³•åˆ é™¤");
        // }
    }

    // ç§æœ‰æ–¹æ³• - æ•°æ®è½¬æ¢
    private {Module}Entity convertToEntity({Module}AddForm form) {
        {Module}Entity entity = new {Module}Entity();
        BeanUtils.copyProperties(form, entity);
        return entity;
    }

    private {Module}DetailVO convertToDetailVO({Module}Entity entity) {
        {Module}DetailVO vo = new {Module}DetailVO();
        BeanUtils.copyProperties(entity, vo);
        return vo;
    }

    private {Module}ListVO convertToListVO({Module}Entity entity) {
        {Module}ListVO vo = new {Module}ListVO();
        BeanUtils.copyProperties(entity, vo);
        return vo;
    }

    // ç§æœ‰æ–¹æ³• - è¾…åŠ©å¤„ç†
    private void setDefaultValues({Module}Entity entity) {
        entity.setCreateTime(LocalDateTime.now());
        entity.setUpdateTime(LocalDateTime.now());
        entity.setDeletedFlag(0);
        entity.setVersion(0);
    }

    private void updateEntity({Module}Entity entity, {Module}UpdateForm form) {
        BeanUtils.copyProperties(form, entity, getNullPropertyNames(form));
        entity.setUpdateTime(LocalDateTime.now());
        entity.setVersion(entity.getVersion() + 1);
    }

    private void loadRelatedInfo({Module}DetailVO vo) {
        // åŠ è½½å…³è”ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·ä¿¡æ¯ã€éƒ¨é—¨ä¿¡æ¯ç­‰
        // vo.setUserInfo(userManager.getUserInfo(entity.getUserId()));
    }

    private void postCreateProcess({Module}Entity entity) {
        // åˆ›å»ºåçš„åç½®å¤„ç†ï¼Œå¦‚å‘é€äº‹ä»¶é€šçŸ¥
        // eventPublisher.publish(new {Module}CreatedEvent(entity));
    }

    private void postUpdateProcess({Module}Entity entity) {
        // æ›´æ–°åçš„åç½®å¤„ç†
        // eventPublisher.publish(new {Module}UpdatedEvent(entity));
    }

    private void postDeleteProcess({Module}Entity entity) {
        // åˆ é™¤åçš„åç½®å¤„ç†
        // eventPublisher.publish(new {Module}DeletedEvent(entity));
    }

    // ç§æœ‰æ–¹æ³• - æŸ¥è¯¢æ¡ä»¶æ„å»º
    private LambdaQueryWrapper<{Module}Entity> buildQueryWrapper({Module}QueryForm form) {
        LambdaQueryWrapper<{Module}Entity> wrapper = new LambdaQueryWrapper<>();

        // åŸºç¡€æ¡ä»¶
        wrapper.eq({Module}Entity::getDeletedFlag, 0);

        // åç§°æ¨¡ç³ŠæŸ¥è¯¢
        if (StringUtils.isNotBlank(form.getName())) {
            wrapper.like({Module}Entity::getName, form.getName());
        }

        // çŠ¶æ€æŸ¥è¯¢
        if (form.getStatus() != null) {
            wrapper.eq({Module}Entity::getStatus, form.getStatus());
        }

        // åˆ›å»ºæ—¶é—´èŒƒå›´æŸ¥è¯¢
        if (form.getStartTime() != null) {
            wrapper.ge({Module}Entity::getCreateTime, form.getStartTime());
        }
        if (form.getEndTime() != null) {
            wrapper.le({Module}Entity::getCreateTime, form.getEndTime());
        }

        // æ’åº
        wrapper.orderByDesc({Module}Entity::getCreateTime);

        return wrapper;
    }
}
```

### 4. æ•°æ®åº“è®¾è®¡è¯¦ç»† (å¿…é¡»å¡«å†™)

#### 4.1 è¡¨ç»“æ„è®¾è®¡

**æ¨¡æ¿å†…å®¹**:

```sql
CREATE TABLE `t_{module_name}` (
    `id` BIGINT NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    `name` VARCHAR(100) NOT NULL COMMENT '[å­—æ®µè¯´æ˜]',
    `code` VARCHAR(50) NOT NULL COMMENT '[å­—æ®µè¯´æ˜]',
    `status` TINYINT NOT NULL DEFAULT 1 COMMENT '[çŠ¶æ€è¯´æ˜]',
    `description` TEXT COMMENT '[å­—æ®µè¯´æ˜]',
    `create_user_id` BIGINT COMMENT 'åˆ›å»ºäººID',
    `update_user_id` BIGINT COMMENT 'æ›´æ–°äººID',
    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `deleted_flag` TINYINT NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡è®°:0-æœªåˆ é™¤,1-å·²åˆ é™¤',
    `version` INT NOT NULL DEFAULT 0 COMMENT 'ä¹è§‚é”ç‰ˆæœ¬å·',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_{table}_code` (`code`),
    KEY `idx_{table}_status` (`status`),
    KEY `idx_{table}_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='[è¡¨æè¿°]';
```

#### 4.2 ç´¢å¼•è®¾è®¡

**æ¨¡æ¿å†…å®¹**:

| ç´¢å¼•å | å­—æ®µ | ç´¢å¼•ç±»å‹ | è¯´æ˜ |
|--------|------|----------|------|
| PRIMARY | id | ä¸»é”®ç´¢å¼• | - |
| uk_{table}_code | code | å”¯ä¸€ç´¢å¼• | ä¸šåŠ¡å”¯ä¸€é”® |
| idx_{table}_status | status | æ™®é€šç´¢å¼• | çŠ¶æ€æŸ¥è¯¢ä¼˜åŒ– |
| idx_{table}_create_time | create_time | æ™®é€šç´¢å¼• | æ—¶é—´èŒƒå›´æŸ¥è¯¢ä¼˜åŒ– |
| idx_{table}_user_id | create_user_id | æ™®é€šç´¢å¼• | ç”¨æˆ·æŸ¥è¯¢ä¼˜åŒ– |

#### 4.3 åˆ†è¡¨ç­–ç•¥

**æ¨¡æ¿å†…å®¹** (å¦‚æœé€‚ç”¨):

| è¡¨å | åˆ†è¡¨ç­–ç•¥ | åˆ†è¡¨å­—æ®µ | åˆ†è¡¨æ•° | è¯´æ˜ |
|------|----------|----------|--------|------|
| t_{module}_log | æŒ‰æœˆåˆ†è¡¨ | create_time | 12 | æŒ‰æœˆåˆ†è¡¨å­˜å‚¨æ—¥å¿— |
| t_{module}_data | æŒ‰å¹´åˆ†è¡¨ | year | 3 | æŒ‰å¹´åˆ†è¡¨å­˜å‚¨æ•°æ® |

### 5. æ¥å£è®¾è®¡è¯¦ç»† (å¿…é¡»å¡«å†™)

#### 5.1 æ¥å£è§„èŒƒ

**è¯·æ±‚å‚æ•°è§„èŒƒ**:

```json
// åˆ†é¡µè¯·æ±‚å‚æ•°
{
  "pageNum": 1,
  "pageSize": 20,
  "name": "æŸ¥è¯¢æ¡ä»¶",
  "status": 1,
  "startTime": "2025-01-01T00:00:00Z",
  "endTime": "2025-01-31T23:59:59Z"
}
```

**å“åº”ç»“æœè§„èŒƒ**:

```json
// åˆ†é¡µå“åº”ç»“æœ
{
  "code": 200,
  "message": "success",
  "data": {
    "list": [
      {
        "id": 1001,
        "name": "ç¤ºä¾‹æ•°æ®",
        "code": "EXAMPLE_001",
        "status": 1,
        "createTime": "2025-12-21T10:30:00Z"
      }
    ],
    "total": 100,
    "pageNum": 1,
    "pageSize": 20,
    "pages": 5
  },
  "timestamp": 1703123456789
}
```

#### 5.2 é”™è¯¯å¤„ç†

**é”™è¯¯ç å®šä¹‰**:

| é”™è¯¯ç  | HTTPçŠ¶æ€ç  | é”™è¯¯ç±»å‹ | è¯´æ˜ |
|--------|--------------|----------|------|
| 40001 | 400 | å‚æ•°é”™è¯¯ | å‚æ•°éªŒè¯å¤±è´¥ |
| 40101 | 401 | è®¤è¯å¤±è´¥ | æœªæˆæƒè®¿é—® |
| 40301 | 403 | æƒé™ä¸è¶³ | æƒé™éªŒè¯å¤±è´¥ |
| 40401 | 404 | èµ„æºä¸å­˜åœ¨ | æŸ¥è¯¢èµ„æºä¸å­˜åœ¨ |
| 50001 | 500 | ç³»ç»Ÿå¼‚å¸¸ | å†…éƒ¨æœåŠ¡å™¨é”™è¯¯ |
| 50002 | 500 | ä¸šåŠ¡å¼‚å¸¸ | ä¸šåŠ¡é€»è¾‘é”™è¯¯ |

**å¼‚å¸¸å¤„ç†æ¨¡æ¿**:

```java
@ControllerAdvice
@Slf4j
public class GlobalExceptionHandler {

    /**
     * ä¸šåŠ¡å¼‚å¸¸å¤„ç†
     */
    @ExceptionHandler(BusinessException.class)
    public ResponseDTO<Void> handleBusinessException(BusinessException e) {
        log.warn("[ä¸šåŠ¡å¼‚å¸¸] code={}, message={}", e.getCode(), e.getMessage());
        return ResponseDTO.error(e.getCode(), e.getMessage());
    }

    /**
     * å‚æ•°éªŒè¯å¼‚å¸¸å¤„ç†
     */
    @ExceptionHandler(MethodArgumentNotValidException.class)
    public ResponseDTO<Void> handleValidationException(MethodArgumentNotValidException e) {
        String message = e.getBindingResult().getFieldErrors().stream()
            .map(FieldError::getDefaultMessage)
            .collect(Collectors.joining(", "));
        log.warn("[å‚æ•°éªŒè¯å¼‚å¸¸] message={}", message);
        return ResponseDTO.error("VALIDATION_ERROR", message);
    }

    /**
     * ç³»ç»Ÿå¼‚å¸¸å¤„ç†
     */
    @ExceptionHandler(Exception.class)
    public ResponseDTO<Void> handleException(Exception e) {
        log.error("[ç³»ç»Ÿå¼‚å¸¸] error={}", e.getMessage(), e);
        return ResponseDTO.error("SYSTEM_ERROR", "ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•");
    }
}
```

### 6. é…ç½®è®¾è®¡ (å¿…é¡»å¡«å†™)

#### 6.1 é…ç½®ç±»

**æ¨¡æ¿å†…å®¹**:

```java
/**
 * [æ¨¡å—åç§°]é…ç½®ç±»
 *
 * @author [ä½œè€…]
 * @since [ç‰ˆæœ¬]
 */
@Data
@Configuration
@ConfigurationProperties(prefix = "ioedream.{module}")
public class {Module}Properties {

    /**
     * æ˜¯å¦å¯ç”¨
     */
    private boolean enabled = true;

    /**
     * ä¸šåŠ¡é…ç½®
     */
    private BusinessConfig business = new BusinessConfig();

    /**
     * ç¼“å­˜é…ç½®
     */
    private CacheConfig cache = new CacheConfig();

    /**
     * çº¿ç¨‹æ± é…ç½®
     */
    private ThreadPoolConfig threadPool = new ThreadPoolConfig();

    @Data
    public static class BusinessConfig {
        /**
         * é»˜è®¤çŠ¶æ€
         */
        private Integer defaultStatus = 1;

        /**
         * æœ€å¤§è®°å½•æ•°
         */
        private Integer maxRecords = 10000;

        /**
         * æ•°æ®ä¿ç•™å¤©æ•°
         */
        private Integer retentionDays = 365;
    }

    @Data
    public static class CacheConfig {
        /**
         * ç¼“å­˜å¼€å…³
         */
        private boolean enabled = true;

        /**
         * ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰
         */
        private Duration ttl = Duration.ofMinutes(30);

        /**
         * æœ€å¤§ç¼“å­˜å¤§å°
         */
        private Long maxSize = 10000L;
    }

    @Data
    public static class ThreadPoolConfig {
        /**
         * æ ¸å¿ƒçº¿ç¨‹æ•°
         */
        private Integer corePoolSize = 10;

        /**
         * æœ€å¤§çº¿ç¨‹æ•°
         */
        private Integer maxPoolSize = 50;

        /**
         * é˜Ÿåˆ—å®¹é‡
         */
        private Integer queueCapacity = 1000;

        /**
         * çº¿ç¨‹åå‰ç¼€
         */
        private String threadNamePrefix = "{module}-pool-";
    }
}
```

#### 6.2 é…ç½®æ–‡ä»¶

**application.yml é…ç½®æ¨¡æ¿**:

```yaml
# [æ¨¡å—åç§°]é…ç½®
ioedream:
  {module}:
    enabled: true
    business:
      default-status: 1
      max-records: 10000
      retention-days: 365
    cache:
      enabled: true
      ttl: 30m
      max-size: 10000
    thread-pool:
      core-pool-size: 10
      max-pool-size: 50
      queue-capacity: 1000
      thread-name-prefix: "{module}-pool-"

# æ—¥å¿—é…ç½®
logging:
  level:
    com.ioedream.{module}: DEBUG
  file:
    name: logs/{module}.log
    max-size: 100MB
    max-history: 30
```

### 7. æµ‹è¯•è®¾è®¡ (å¿…é¡»å¡«å†™)

#### 7.1 å•å…ƒæµ‹è¯•

**æ¨¡æ¿å†…å®¹**:

```java
/**
 * [æ¨¡å—åç§°]æœåŠ¡æµ‹è¯•
 *
 * @author [ä½œè€…]
 * @since [ç‰ˆæœ¬]
 */
@Slf4j
@ExtendWith(MockitoExtension.class)
class {Module}ServiceTest {

    @Mock
    private {Module}Manager {module}Manager;

    @InjectMocks
    private {Module}ServiceImpl {module}Service;

    private {Module}TestBuilder testBuilder = new {Module}TestBuilder();

    @Test
    void testAdd_Success() {
        // Given
        {Module}AddForm form = testBuilder.buildAddForm();

        // When
        Long id = {module}Service.add(form);

        // Then
        assertThat(id).isNotNull();
        // verify({module}Manager).create(form);
    }

    @Test
    void testAdd_NameExists_ThrowException() {
        // Given
        {Module}AddForm form = testBuilder.buildAddForm();

        // Mock é‡å¤åç§°æ£€æŸ¥
        when({module}Manager.checkNameExists(form.getName())).thenReturn(true);

        // When & Then
        assertThrows(BusinessException.class, () -> {
            {module}Service.add(form);
        });

        verify({module}Manager).checkNameExists(form.getName());
    }

    @Test
    void testUpdate_Success() {
        // Given
        Long id = 1L;
        {Module}UpdateForm form = testBuilder.buildUpdateForm();

        // Mock å­˜åœ¨çš„è®°å½•
        {Module}Entity entity = testBuilder.buildEntity();
        when({module}Manager.selectById(id)).thenReturn(entity);

        // When
        {module}Service.update(id, form);

        // Then
        verify({module}Manager).update(id, form);
    }

    @Test
    void testDelete_Success() {
        // Given
        Long id = 1L;

        // Mock å­˜åœ¨çš„è®°å½•
        {Module}Entity entity = testBuilder.buildEntity();
        when({module}Manager.selectById(id)).thenReturn(entity);

        // When
        {module}Service.delete(id);

        // Then
        verify({module}Manager).deleteById(id);
    }

    @Test
    void testGetDetailById_Success() {
        // Given
        Long id = 1L;

        // Mock æ•°æ®
        {Module}Entity entity = testBuilder.buildEntity();
        {Module}DetailVO expectedVo = testBuilder.buildDetailVO();
        when({module}Manager.selectById(id)).thenReturn(entity);
        when({module}Manager.convertToDetailVO(entity)).thenReturn(expectedVo);

        // When
        {Module}DetailVO actualVo = {module}Service.getDetailById(id);

        // Then
        assertThat(actualVo).isEqualTo(expectedVo);
        verify({module}Manager).selectById(id);
        verify({module}Manager).convertToDetailVO(entity);
    }

    @Test
    void testPage_Success() {
        // Given
        {Module}QueryForm form = testBuilder.buildQueryForm();

        // Mock åˆ†é¡µæ•°æ®
        IPage<{Module}Entity> page = testBuilder.buildPage();
        List<{Module}ListVO> expectedList = testBuilder.buildListVOList();

        when({module}Manager.page(form)).thenReturn(page);
        when({module}Manager.convertToListVOList(page.getRecords())).thenReturn(expectedList);

        // When
        PageResult<{Module}ListVO> result = {module}Service.page(form);

        // Then
        assertThat(result.getList()).hasSize(expectedList.size());
        assertThat(result.getTotal()).isEqualTo(page.getTotal());
        verify({module}Manager).page(form);
    }
}

/**
 * æµ‹è¯•æ•°æ®æ„å»ºå™¨
 */
class {Module}TestBuilder {

    public {Module}AddForm buildAddForm() {
        {Module}AddForm form = new {Module}AddForm();
        form.setName("æµ‹è¯•æ¨¡å—");
        form.setCode("TEST_001");
        form.setStatus(1);
        form.setDescription("æµ‹è¯•æè¿°");
        return form;
    }

    public {Module}UpdateForm buildUpdateForm() {
        {Module}UpdateForm form = new {Module}UpdateForm();
        form.setName("æ›´æ–°æ¨¡å—");
        form.setStatus(2);
        form.setDescription("æ›´æ–°æè¿°");
        return form;
    }

    public {Module}Entity buildEntity() {
        {Module}Entity entity = new {Module}Entity();
        entity.setId(1L);
        entity.setName("æµ‹è¯•æ¨¡å—");
        entity.setCode("TEST_001");
        entity.setStatus(1);
        entity.setDescription("æµ‹è¯•æè¿°");
        entity.setCreateTime(LocalDateTime.now());
        entity.setUpdateTime(LocalDateTime.now());
        entity.setDeletedFlag(0);
        entity.setVersion(0);
        return entity;
    }

    public {Module}DetailVO buildDetailVO() {
        {Module}DetailVO vo = new {Module}DetailVO();
        vo.setId(1L);
        vo.setName("æµ‹è¯•æ¨¡å—");
        vo.setCode("TEST_001");
        vo.setStatus(1);
        vo.setDescription("æµ‹è¯•æè¿°");
        vo.setCreateTime(LocalDateTime.now());
        vo.setUpdateTime(LocalDateTime.now());
        return vo;
    }

    public List<{Module}ListVO> buildListVOList() {
        List<{Module}ListVO> list = new ArrayList<>();
        for (int i = 1; i <= 20; i++) {
            {Module}ListVO vo = new {Module}ListVO();
            vo.setId((long) i);
            vo.setName("æµ‹è¯•æ¨¡å—" + i);
            vo.setCode("TEST_" + String.format("%03d", i));
            vo.setStatus(i % 2);
            vo.setCreateTime(LocalDateTime.now().minusDays(i));
            list.add(vo);
        }
        return list;
    }

    public IPage<{Module}Entity> buildPage() {
        Page<{Module}Entity> page = new Page<>(1, 20);
        List<{Module}Entity> records = buildEntityList();
        page.setRecords(records);
        page.setTotal(100);
        return page;
    }

    private List<{Module}Entity> buildEntityList() {
        List<{Module}Entity> list = new ArrayList<>();
        for (int i = 1; i <= 20; i++) {
            {Module}Entity entity = new {Module}Entity();
            entity.setId((long) i);
            entity.setName("æµ‹è¯•æ¨¡å—" + i);
            entity.setCode("TEST_" + String.format("%03d", i));
            entity.setStatus(i % 2);
            entity.setCreateTime(LocalDateTime.now().minusDays(i));
            entity.setUpdateTime(LocalDateTime.now());
            entity.setDeletedFlag(0);
            entity.setVersion(0);
            list.add(entity);
        }
        return list;
    }
}
```

#### 7.2 é›†æˆæµ‹è¯•

**æ¨¡æ¿å†…å®¹**:

```java
/**
 * [æ¨¡å—åç§°]é›†æˆæµ‹è¯•
 *
 * @author [ä½œè€…]
 * @since [ç‰ˆæœ¬]
 */
@SpringBootTest
@TestPropertySource(locations = "classpath:application-test.yml")
@Transactional
@Rollback
class {Module}IntegrationTest {

    @Resource
    private {Module}Controller {module}Controller;

    @Autowired
    private TestRestTemplate restTemplate;

    private static final String BASE_URL = "/api/v1/{module}";

    @Test
    void testAdd_Success() {
        // Given
        {Module}AddForm form = new {Module}AddForm();
        form.setName("é›†æˆæµ‹è¯•æ¨¡å—");
        form.setCode("INTEGRATION_TEST_001");

        HttpEntity<{Module}AddForm> request = new HttpEntity<>(form);

        // When
        ResponseEntity<ResponseDTO<Long>> response = restTemplate.postForEntity(
            BASE_URL, request, new ParameterizedTypeReference<ResponseDTO<Long>>() {
        });

        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
        assertThat(response.getBody().getCode()).isEqualTo(200);
        assertThat(response.getBody().getData()).isNotNull();
    }

    @Test
    void testUpdate_Success() {
        // Given
        Long id = 1L;
        {Module}UpdateForm form = new {Module}UpdateForm();
        form.setName("æ›´æ–°é›†æˆæµ‹è¯•æ¨¡å—");

        HttpEntity<{Module}UpdateForm> request = new HttpEntity<>(form);

        // When
        ResponseEntity<ResponseDTO<Void>> response = restTemplate.exchange(
            BASE_URL + "/" + id, HttpMethod.PUT, request,
            new ParameterizedTypeReference<ResponseDTO<Void>>() {
        });

        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
        assertThat(response.getBody().getCode()).isEqualTo(200);
    }

    @Test
    void testDelete_Success() {
        // Given
        Long id = 1L;

        // When
        ResponseEntity<ResponseDTO<Void>> response = restTemplate.exchange(
            BASE_URL + "/" + id, HttpMethod.DELETE,
            HttpEntity.EMPTY, new ParameterizedTypeReference<ResponseDTO<Void>>() {
        });

        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
        assertThat(response.getBody().getCode()).isEqualTo(200);
    }

    @Test
    void testGetById_Success() {
        // Given
        Long id = 1L;

        // When
        ResponseEntity<ResponseDTO<{Module}DetailVO>> response = restTemplate.getForEntity(
            BASE_URL + "/" + id,
            new ParameterizedTypeReference<ResponseDTO<{Module}DetailVO>>() {
        });

        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
        assertThat(response.getBody().getCode()).isEqualTo(200);
        assertThat(response.getBody().getData()).isNotNull();
    }

    @Test
    void testPage_Success() {
        // Given
        {Module}QueryForm form = new {Module}QueryForm();
        form.setPageNum(1);
        form.setPageSize(20);

        HttpEntity<{Module}QueryForm> request = new HttpEntity<>(form);

        // When
        ResponseEntity<ResponseDTO<PageResult<{Module}ListVO>>> response = restTemplate.postForEntity(
            BASE_URL + "/page", request,
            new ParameterizedTypeReference<ResponseDTO<PageResult<{Module}ListVO>>>() {
        });

        // Then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
        assertThat(response.getBody().getCode()).isEqualTo(200);
        assertThat(response.getBody().getData().getList()).isNotEmpty();
    }
}
```

### 8. éƒ¨ç½²é…ç½® (å¿…é¡»å¡«å†™)

#### 8.1 Dockeré…ç½®

**Dockerfileæ¨¡æ¿**:

```dockerfile
# å¤šé˜¶æ®µæ„å»º
FROM openjdk:17-jdk-slim AS builder

WORKDIR /app
COPY target/*.jar app.jar

# ç”Ÿäº§é•œåƒ
FROM openjdk:17-jre-slim

# è®¾ç½®æ—¶åŒº
RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime

# åˆ›å»ºåº”ç”¨ç›®å½•
RUN mkdir -p /app/{module}/config

# å¤åˆ¶jaråŒ…
COPY --from=builder /app/*.jar /app/{module}/

# å¤åˆ¶é…ç½®æ–‡ä»¶
COPY src/main/resources/application-prod.yml /app/{module}/config/

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app/{module}

# è¿è¡Œå‚æ•°
ENV JAVA_OPTS="-Xmx1g -Xms512m -XX:+UseG1GC -XX:+PrintGCDetails"
ENV SPRING_PROFILES_ACTIVE=prod

# æš´éœ²ç«¯å£
EXPOSE 8095

# å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=10s --start-period=60s --retries=3 \
  CMD curl -f http://localhost:8095/actuator/health || exit 1

# å¯åŠ¨åº”ç”¨
ENTRYPOINT ["sh", "-c", "java $JAVA_OPTS -jar app.jar"]
```

**docker-compose.ymlæ¨¡æ¿**:

```yaml
version: '3.8'

services:
  {module}-service:
    image: ioedream/{module}:latest
    container_name: {module}-service
    ports:
      - "8095:8095"
    volumes:
      - ./logs:/app/logs
      - ./config:/app/{module}/config
    environment:
      - SPRING_PROFILES_ACTIVE=prod
      - JAVA_OPTS=-Xmx1g -Xms512m
    networks:
      - ioedream-network
    depends_on:
      - mysql
      - redis
      - rabbitmq
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8095/actuator/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s

  mysql:
    image: mysql:8.0
    container_name: mysql
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: ioedream_{module}
    volumes:
      - mysql-data:/var/lib/mysql
      - ./init-scripts:/docker-entrypoint-initdb.d
    networks:
      - ioedream-network
    restart: unless-stopped

  redis:
    image: redis:7-alpine
    container_name: redis
    command: redis-server --appendonly yes
    volumes:
      - redis-data:/data
    networks:
      - ioedream-network
    restart: unless-stopped

  rabbitmq:
    image: rabbitmq:3.12-management
    container_name: rabbitmq
    environment:
      RABBITMQ_DEFAULT_USER: admin
      RABBITMQ_DEFAULT_PASS: admin123
    ports:
      - "5672:5672"
      - "15672:15672"
    volumes:
      - rabbitmq-data:/var/lib/rabbitmq
    networks:
      - ioedream-network
    restart: unless-stopped

networks:
  ioedream-network:
    driver: bridge

volumes:
  mysql-data:
    driver: local
  redis-data:
    driver: local
  rabbitmq-data:
    driver: local
```

#### 8.2 Kubernetesé…ç½®

**Deploymentæ¨¡æ¿**:

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: {module}-service
  namespace: ioedream
spec:
  replicas: 3
  selector:
    matchLabels:
      app: {module}-service
  template:
    metadata:
      labels:
        app: {module}-service
    spec:
      containers:
      - name: {module}-service
        image: ioedream/{module}:latest
        ports:
        - containerPort: 8095
        env:
        - name: SPRING_PROFILES_ACTIVE
          value: "prod"
        - name: JAVA_OPTS
          value: "-Xmx1g -Xms512m"
        resources:
          requests:
            memory: "512Mi"
            cpu: "500m"
          limits:
            memory: "1Gi"
            cpu: "1000m"
        livenessProbe:
          httpGet:
            path: /actuator/health
            port: 8095
          initialDelaySeconds: 60
          periodSeconds: 30
        readinessProbe:
          httpGet:
            path: /actuator/health
            port: 8095
          initialDelaySeconds: 30
          periodSeconds: 10
        volumeMounts:
        - name: config-volume
          mountPath: /app/{module}/config
        - name: logs-volume
          mountPath: /app/logs
      volumes:
      - name: config-volume
        configMap:
          name: {module}-config
      - name: logs-volume
        emptyDir: {}
---
apiVersion: v1
kind: Service
metadata:
  name: {module}-service
  namespace: ioedream
spec:
  selector:
    app: {module}-service
  ports:
  - protocol: TCP
    port: 8095
    targetPort: 8095
  type: ClusterIP
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {module}-config
  namespace: ioedream
data:
  application.yml: |
    server:
      port: 8095
    spring:
      profiles:
        active: prod
      datasource:
        url: jdbc:mysql://mysql:3306/ioedream_{module}
        username: root
        password: root123
      redis:
        host: redis
        port: 6379
```

---

## ğŸ“ è´¨é‡æ£€æŸ¥æ¸…å•

### å¿…å¡«é¡¹æ£€æŸ¥ (P0)
- [ ] æ–‡æ¡£ä¿¡æ¯å®Œæ•´å¡«å†™
- [ ] è®¾è®¡èŒƒå›´æ˜ç¡®ç•Œå®š
- [ ] åŒ…ç»“æ„è®¾è®¡ç¬¦åˆè§„èŒƒ
- [ ] æ ¸å¿ƒç±»è®¾è®¡å®Œæ•´
- [ ] æ•°æ®åº“è®¾è®¡è¯¦ç»†
- [ ] æ¥å£è®¾è®¡è§„èŒƒ
- [ ] é…ç½®è®¾è®¡å®Œæ•´
- [ ] æµ‹è¯•è®¾è®¡è¦†ç›–

### è´¨é‡é¡¹æ£€æŸ¥ (P1)
- [ ] ç±»è®¾è®¡ç¬¦åˆSOLIDåŸåˆ™
- [ ] æ•°æ®åº“è®¾è®¡ç¬¦åˆèŒƒå¼
- [ ] æ¥å£è®¾è®¡ç¬¦åˆRESTfulè§„èŒƒ
- [ ] é…ç½®æ”¯æŒå¤šç¯å¢ƒ
- [ ] æµ‹è¯•ç”¨ä¾‹è¦†ç›–ä¸»è¦åœºæ™¯
- [ ] éƒ¨ç½²é…ç½®å®Œæ•´

### ä¼˜åŒ–é¡¹æ£€æŸ¥ (P2)
- [ ] æ€§èƒ½ä¼˜åŒ–è€ƒè™‘
- [ ] å®‰å…¨é˜²æŠ¤æªæ–½
- [ ] ç›‘æ§æŒ‡æ ‡è®¾è®¡
- [ ] æ•…éšœå¤„ç†æœºåˆ¶
- [ ] æ—¥å¿—è®°å½•è§„èŒƒ

---

## ğŸ“š é™„å½•

### A. è®¾è®¡æ¨¡å¼å‚è€ƒ

1. **å·¥å‚æ¨¡å¼**: å‚è€ƒã€Šä¼ä¸šçº§æ¶æ„è®¾è®¡æ¨¡å¼æŒ‡å—ã€‹ç¬¬4.2èŠ‚
2. **ç­–ç•¥æ¨¡å¼**: å‚è€ƒã€Šä¼ä¸šçº§æ¶æ„è®¾è®¡æ¨¡å¼æŒ‡å—ã€‹ç¬¬4.1èŠ‚
3. **è£…é¥°å™¨æ¨¡å¼**: å‚è€ƒã€Šä¼ä¸šçº§æ¶æ„è®¾è®¡æ¨¡å¼æŒ‡å—ã€‹ç¬¬4.3èŠ‚

### B. å·¥å…·å‚è€ƒ

1. **ä»£ç ç”Ÿæˆ**: MyBatis-Plusä»£ç ç”Ÿæˆå™¨
2. **APIæ–‡æ¡£**: Swagger/OpenAPI 3.0
3. **æµ‹è¯•å·¥å…·**: JUnit 5 + Mockito
4. **æ€§èƒ½æµ‹è¯•**: JMeter + Gatling

---

**ğŸ“ æ–‡æ¡£ç»´æŠ¤**: IOE-DREAMæ¶æ„å§”å‘˜ä¼š
**ğŸ”„ æ›´æ–°å‘¨æœŸ**: æ¯ä¸ªæ¨¡å—è®¾è®¡å®Œæˆåæ›´æ–°
**âœ… å®¡æ ¸çŠ¶æ€**: å·²é€šè¿‡æ¶æ„å§”å‘˜ä¼šå®¡æ ¸