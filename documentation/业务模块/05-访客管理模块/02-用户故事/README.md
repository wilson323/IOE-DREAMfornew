# 访客管理模块用户故事

## 1. 访客预约

### US-VIS-001: 访客在线预约
**作为** 外部访客  
**我希望** 通过移动端或Web端提交访问预约申请  
**以便** 提前安排访问计划并获得访问授权

**验收标准:**
- 支持填写访客基本信息（姓名、手机、公司、证件号）
- 支持选择被访人、访问日期、时间段
- 支持上传照片和证件
- 提交后生成预约编号
- 发送预约确认短信

### US-VIS-002: 被访人审批预约
**作为** 公司员工（被访人）  
**我希望** 收到访客预约通知并进行审批  
**以便** 控制谁可以来访问我

**验收标准:**
- 收到预约通知（短信/APP推送/邮件）
- 查看访客详细信息
- 支持批准/拒绝操作
- 可添加审批意见和访问条件
- 审批结果通知访客

### US-VIS-003: 预约变更与取消
**作为** 访客或被访人  
**我希望** 能够修改或取消已提交的预约  
**以便** 应对计划变化

**验收标准:**
- 支持修改访问日期和时间
- 支持取消预约并说明原因
- 变更后通知相关方
- 取消后释放时间段资源

## 2. 访客登记

### US-VIS-004: 预约访客签到
**作为** 已预约的访客  
**我希望** 到达后快速完成签到  
**以便** 尽快开始访问

**验收标准:**
- 支持扫描预约二维码签到
- 支持人脸识别签到
- 核验预约信息
- 自动发放访客凭证
- 通知被访人访客已到达

### US-VIS-005: 临时访客登记
**作为** 未预约的临时访客  
**我希望** 在前台完成登记  
**以便** 获得临时访问授权

**验收标准:**
- 前台录入访客信息
- 拍照采集人脸
- 联系被访人确认
- 发放临时访客卡
- 设置访问时限和区域

### US-VIS-006: 访客签出
**作为** 访客  
**我希望** 离开时完成签出  
**以便** 正常结束访问

**验收标准:**
- 支持刷卡/扫码签出
- 回收访客卡
- 回收门禁权限
- 记录实际停留时长
- 发送离开通知

## 3. 身份验证

### US-VIS-007: 人脸识别验证
**作为** 访客  
**我希望** 通过人脸识别快速验证身份  
**以便** 无接触快速通行

**验收标准:**
- 支持活体检测
- 与预约照片比对
- 验证通过自动开门
- 验证失败提供替代方案
- 记录验证结果

### US-VIS-008: 二维码验证
**作为** 访客  
**我希望** 通过扫描二维码验证身份  
**以便** 快速通过门禁

**验收标准:**
- 展示预约二维码
- 扫码验证有效性
- 检查时间和区域权限
- 验证通过开门放行
- 记录通行信息

## 4. 物流管理

### US-VIS-009: 物流预约
**作为** 物流公司  
**我希望** 提前预约送货/提货时间  
**以便** 合理安排运输计划

**验收标准:**
- 填写司机和车辆信息
- 填写货物信息
- 选择作业区域和时间
- 提交审批
- 获得预约确认

### US-VIS-010: 物流车辆登记
**作为** 门岗保安  
**我希望** 对到达的物流车辆进行登记  
**以便** 核验信息并放行

**验收标准:**
- 核验预约信息
- 检查司机证件
- 检查车辆证件
- 进行安全检查
- 发放临时通行证
- 通知仓库人员

### US-VIS-011: 电子出门单
**作为** 司机  
**我希望** 完成作业后获得电子出门单  
**以便** 顺利离开园区

**验收标准:**
- 仓库确认作业完成
- 被访人电子签字确认
- 保安检查货物
- 生成电子出门单
- 门岗验证放行

## 5. 统计分析

### US-VIS-012: 访客统计报表
**作为** 管理人员  
**我希望** 查看访客统计报表  
**以便** 了解访客接待情况

**验收标准:**
- 按日/周/月统计访客量
- 按类型/部门统计分布
- 显示趋势图表
- 支持导出报表

### US-VIS-013: 黑名单管理
**作为** 安保主管  
**我希望** 管理访客黑名单  
**以便** 阻止高风险人员进入

**验收标准:**
- 添加黑名单人员
- 设置黑名单类型和原因
- 黑名单自动检查
- 触发告警通知
- 记录处理结果

