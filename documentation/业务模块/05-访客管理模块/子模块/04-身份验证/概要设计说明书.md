# 身份验证子模块 - 概要设计说明书

> **版本**: v1.0.0  
> **更新日期**: 2025-01-30

## 1. 系统架构

### 1.1 模块定位

身份验证是访客管理的安全核心，提供多维度身份核验能力。

### 1.2 架构图

```
┌─────────────────────────────────────────────────┐
│                  身份验证模块                     │
├─────────────────────────────────────────────────┤
│  Controller层                                    │
│  ├── IdentityController (身份验证)              │
│  └── BlacklistController (黑名单管理)            │
├─────────────────────────────────────────────────┤
│  Service层                                       │
│  ├── IdentityVerifyService                      │
│  └── BlacklistService                           │
├─────────────────────────────────────────────────┤
│  Manager层                                       │
│  ├── IdCardOcrManager                           │
│  ├── FaceCompareManager                         │
│  └── BlacklistCheckManager                      │
├─────────────────────────────────────────────────┤
│  DAO层                                          │
│  ├── IdentityVerificationDao                    │
│  └── BlacklistDao                               │
└─────────────────────────────────────────────────┘
```

## 2. 模块设计

### 2.1 核心模块

| 模块 | 职责 |
|------|------|
| 证件识别 | OCR识别、信息提取、有效期验证 |
| 人脸比对 | 活体检测、人脸比对、相似度计算 |
| 黑名单管理 | 黑名单维护、实时校验 |
| 验证记录 | 验证日志、统计分析 |

### 2.2 模块依赖

- OCR服务：证件识别
- 人脸识别服务：人脸比对
- 公安接口：身份核验（可选）

## 3. 技术选型

| 技术 | 选型 | 说明 |
|------|------|------|
| OCR | 百度/腾讯OCR | 证件识别 |
| 人脸识别 | 虹软/商汤 | 人脸比对 |
| 活体检测 | 虹软/商汤 | 防伪检测 |
| 加密 | AES-256 | 敏感数据加密 |

## 4. 接口概览

| 接口 | 方法 | 说明 |
|------|------|------|
| /identity/verifyIdCard | POST | 身份证验证 |
| /identity/verifyFace | POST | 人脸验证 |
| /identity/checkBlacklist | POST | 黑名单校验 |
| /identity/multiVerify | POST | 综合验证 |
| /blacklist/add | POST | 添加黑名单 |
| /blacklist/remove | POST | 移除黑名单 |

