# 实时监控模块 - 用户故事

## US-MON-001: 视频预览

**作为** 安保人员(Level 3)  
**我希望** 能够实时查看监控摄像机的视频画面  
**以便** 及时发现和处理安全隐患

### 验收标准
- [ ] 视频延迟 < 2秒
- [ ] 支持1/4/9/16画面分屏
- [ ] 支持双击全屏播放
- [ ] 支持多协议切换(RTSP/HLS/WebRTC)

### 前置条件
- 用户已登录且权限 >= Level 2
- 设备在线且视频流正常

### 操作步骤
1. 在设备树选择摄像机
2. 双击或拖拽到预览窗口
3. 系统自动获取并播放视频流

---

## US-MON-002: 云台控制

**作为** 安保人员(Level 3)  
**我希望** 能够远程控制云台摄像机的方向和焦距  
**以便** 追踪移动目标或查看特定区域

### 验收标准
- [ ] 方向控制响应时间 < 500ms
- [ ] 支持8方向控制
- [ ] 支持变焦/聚焦/光圈控制
- [ ] 支持预置位管理(最多256个)

### 前置条件
- 用户权限 >= Level 3
- 设备支持PTZ功能
- 设备在线

### 操作步骤
1. 选中云台摄像机
2. 点击云台控制面板按钮
3. 操作后自动发送控制指令

---

## US-MON-003: 视频截图

**作为** 普通员工(Level 2)  
**我希望** 能够对视频画面进行截图  
**以便** 保存证据或记录特定时刻

### 验收标准
- [ ] 截图响应时间 < 1秒
- [ ] 支持JPG/PNG格式
- [ ] 自动添加时间水印
- [ ] 支持本地下载

### 前置条件
- 用户权限 >= Level 2
- 正在预览视频

### 操作步骤
1. 点击截图按钮
2. 系统抓取当前帧
3. 弹出保存对话框
4. 选择保存位置

---

## US-MON-004: 手动录制

**作为** 安保人员(Level 3)  
**我希望** 能够手动录制视频片段  
**以便** 保存重要事件的完整视频

### 验收标准
- [ ] 录制状态实时显示
- [ ] 支持录制时长限制
- [ ] 录制完成后自动保存
- [ ] 支持录制中断恢复

### 前置条件
- 用户权限 >= Level 3
- 正在预览视频
- 存储空间充足

### 操作步骤
1. 点击录制按钮开始
2. 界面显示录制时长
3. 再次点击停止录制
4. 系统保存录像文件

---

## US-MON-005: 画面轮巡

**作为** 安保主管(Level 4)  
**我希望** 能够配置多摄像机轮巡预览  
**以便** 自动巡视多个监控点位

### 验收标准
- [ ] 支持自定义轮巡间隔(5-300秒)
- [ ] 支持最多32个设备
- [ ] 支持轮巡暂停/恢复
- [ ] 轮巡状态持久化

### 前置条件
- 用户权限 >= Level 3
- 至少配置2个以上设备

### 操作步骤
1. 点击轮巡配置按钮
2. 添加设备到轮巡列表
3. 设置轮巡间隔
4. 启动轮巡

---

## US-MON-006: 预置位管理

**作为** 安保人员(Level 3)  
**我希望** 能够保存和调用云台预置位  
**以便** 快速定位到常用监控位置

### 验收标准
- [ ] 支持添加/修改/删除预置位
- [ ] 支持预置位命名
- [ ] 调用响应时间 < 2秒
- [ ] 每设备最多256个预置位

### 前置条件
- 用户权限 >= Level 3
- 设备支持预置位功能

### 操作步骤
1. 调整云台到目标位置
2. 点击"设置预置位"
3. 输入预置位名称
4. 确认保存
