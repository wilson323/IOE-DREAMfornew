# 视频回放模块 - 用户故事

## US-PB-001: 录像检索

**作为** 安保人员(Level 3)  
**我希望** 按时间和设备检索历史录像  
**以便** 查找特定时间段的视频

### 验收标准
- [ ] 检索响应时间 < 2秒
- [ ] 支持时间范围选择
- [ ] 支持多设备同时检索
- [ ] 显示录像时间轴

### 前置条件
- 用户已登录且权限 >= Level 2
- 设备有录像存储

### 操作步骤
1. 选择目标设备
2. 选择时间范围
3. 点击检索
4. 查看录像列表

---

## US-PB-002: 录像播放

**作为** 安保人员(Level 3)  
**我希望** 播放历史录像并支持进度控制  
**以便** 查看特定时刻的画面

### 验收标准
- [ ] 起播时间 < 3秒
- [ ] 支持快进/快退(2x/4x/8x/16x)
- [ ] 支持进度条跳转
- [ ] 支持逐帧播放

### 前置条件
- 用户已登录且权限 >= Level 2
- 已检索到录像

### 操作步骤
1. 在录像列表选择目标录像
2. 点击播放
3. 使用进度条或快捷键控制播放

---

## US-PB-003: 录像下载

**作为** 安保主管(Level 4)  
**我希望** 下载指定时间段的录像  
**以便** 保存证据或离线查看

### 验收标准
- [ ] 支持时间段裁剪
- [ ] 下载速度 ≥ 10MB/s
- [ ] 显示下载进度
- [ ] 支持断点续传

### 前置条件
- 用户已登录且权限 >= Level 3
- 存储空间充足

### 操作步骤
1. 选择录像或时间段
2. 点击下载按钮
3. 选择保存位置
4. 等待下载完成

---

## US-PB-004: 时间轴操作

**作为** 安保人员(Level 3)  
**我希望** 通过可视化时间轴快速定位录像  
**以便** 直观了解录像分布

### 验收标准
- [ ] 时间轴清晰显示有无录像
- [ ] 支持缩放(小时/分钟级别)
- [ ] 点击时间轴直接跳转
- [ ] 标记事件时间点

### 前置条件
- 用户已登录且权限 >= Level 2

### 操作步骤
1. 查看录像时间轴
2. 有录像时段显示为蓝色
3. 点击时间轴跳转到对应时间

---

## US-PB-005: 事件关联检索

**作为** 安保主管(Level 4)  
**我希望** 从告警事件直接跳转到关联录像  
**以便** 快速查看事件发生时的视频

### 验收标准
- [ ] 告警详情显示关联录像入口
- [ ] 自动定位到事件时间点
- [ ] 前后各保留30秒缓冲
- [ ] 支持在录像中标记事件

### 前置条件
- 用户已登录且权限 >= Level 3
- 告警有关联录像

### 操作步骤
1. 打开告警详情
2. 点击"查看录像"
3. 自动跳转到事件时间点播放

---

## US-PB-006: 批量下载

**作为** 系统管理员(Level 5)  
**我希望** 批量下载多个设备的录像  
**以便** 进行数据备份或归档

### 验收标准
- [ ] 支持选择多设备
- [ ] 显示总大小预估
- [ ] 支持后台下载
- [ ] 下载完成通知

### 前置条件
- 用户已登录且权限 >= Level 4
- 存储空间充足

### 操作步骤
1. 选择多个设备和时间段
2. 点击批量下载
3. 确认下载任务
4. 后台执行并通知完成
