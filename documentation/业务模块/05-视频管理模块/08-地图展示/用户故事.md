# 地图展示模块 - 用户故事

## US-MAP-001: 地图浏览

**作为** 安保人员(Level 3)  
**我希望** 在地图上查看设备分布  
**以便** 直观了解监控覆盖范围

### 验收标准
- [ ] 地图加载 < 3秒
- [ ] 支持缩放和平移
- [ ] 设备图标清晰可见
- [ ] 支持多种地图底图

### 前置条件
- 用户已登录且权限 >= Level 2
- 设备已配置位置信息

### 操作步骤
1. 进入地图页面
2. 查看设备分布
3. 缩放/平移地图
4. 点击设备查看详情

---

## US-MAP-002: 设备定位

**作为** 安保人员(Level 3)  
**我希望** 快速定位到指定设备  
**以便** 快速找到设备位置

### 验收标准
- [ ] 搜索响应 < 1秒
- [ ] 自动缩放到设备
- [ ] 高亮显示目标设备
- [ ] 显示设备信息弹窗

### 前置条件
- 用户已登录且权限 >= Level 2

### 操作步骤
1. 输入设备名称或编号
2. 点击搜索结果
3. 地图自动定位
4. 查看设备详情

---

## US-MAP-003: 告警显示

**作为** 安保人员(Level 3)  
**我希望** 在地图上查看告警位置  
**以便** 快速定位告警设备

### 验收标准
- [ ] 告警图标闪烁提示
- [ ] 告警级别颜色区分
- [ ] 点击查看告警详情
- [ ] 可跳转查看视频

### 前置条件
- 用户已登录且权限 >= Level 2

### 操作步骤
1. 查看地图上的告警图标
2. 点击告警图标
3. 查看告警详情
4. 可处理告警或查看视频

---

## US-MAP-004: 区域绘制

**作为** 系统管理员(Level 5)  
**我希望** 在地图上绘制区域边界  
**以便** 定义监控区域

### 验收标准
- [ ] 支持多边形绘制
- [ ] 支持编辑已有区域
- [ ] 区域颜色可配置
- [ ] 保存后即时生效

### 前置条件
- 用户权限 >= Level 4

### 操作步骤
1. 进入区域编辑模式
2. 在地图上绘制边界
3. 设置区域属性
4. 保存区域

---

## US-MAP-005: 设备坐标配置

**作为** 系统管理员(Level 5)  
**我希望** 在地图上设置设备位置  
**以便** 设备在地图正确显示

### 验收标准
- [ ] 支持拖拽定位
- [ ] 支持输入坐标
- [ ] 可批量导入坐标
- [ ] 保存后立即更新

### 前置条件
- 用户权限 >= Level 4

### 操作步骤
1. 选择目标设备
2. 拖拽到正确位置
3. 或输入经纬度
4. 保存坐标

---

## US-MAP-006: 热力图显示

**作为** 安保主管(Level 4)  
**我希望** 查看设备活动热力图  
**以便** 分析监控热点区域

### 验收标准
- [ ] 热力图渲染流畅
- [ ] 颜色代表活动强度
- [ ] 支持选择时间范围
- [ ] 支持按事件类型筛选

### 前置条件
- 用户权限 >= Level 3
- 有足够的历史数据

### 操作步骤
1. 开启热力图模式
2. 选择时间范围
3. 选择事件类型
4. 查看热力分布

---

## US-MAP-007: 轨迹回放

**作为** 安保主管(Level 4)  
**我希望** 在地图上回放移动目标轨迹  
**以便** 追踪人员/车辆活动

### 验收标准
- [ ] 轨迹平滑显示
- [ ] 支持播放控制
- [ ] 显示时间点信息
- [ ] 可点击查看关联视频

### 前置条件
- 用户权限 >= Level 4
- 有轨迹数据

### 操作步骤
1. 选择目标和时间范围
2. 加载轨迹数据
3. 播放轨迹动画
4. 点击查看详情
