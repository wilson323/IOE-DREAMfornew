# 设备管理交互模块 - 用户故事

## US-DEV-001: 设备信息订阅

**作为** 安保人员(Level 3)  
**我希望** 订阅指定区域的设备信息变更  
**以便** 实时掌握设备状态变化

### 验收标准
- [ ] 支持按区域/设备类型订阅
- [ ] 状态变更推送延迟 < 1秒
- [ ] 支持取消订阅
- [ ] 订阅配置持久化

### 前置条件
- 用户已登录且权限 >= Level 2
- WebSocket连接正常

### 操作步骤
1. 进入设备订阅配置页面
2. 选择订阅区域或设备
3. 选择订阅类型(状态/信息/告警)
4. 确认订阅

---

## US-DEV-002: 设备状态查看

**作为** 普通员工(Level 2)  
**我希望** 查看所有设备的在线状态  
**以便** 了解监控覆盖情况

### 验收标准
- [ ] 设备列表加载 < 2秒
- [ ] 状态标识清晰(在线/离线/故障)
- [ ] 支持按状态筛选
- [ ] 支持设备搜索

### 前置条件
- 用户已登录且权限 >= Level 2

### 操作步骤
1. 进入设备管理页面
2. 查看设备列表和状态统计
3. 可筛选或搜索特定设备

---

## US-DEV-003: 设备树查看

**作为** 安保人员(Level 3)  
**我希望** 按区域层级查看设备分布  
**以便** 快速定位特定区域的设备

### 验收标准
- [ ] 设备树层级清晰
- [ ] 支持展开/折叠
- [ ] 显示各节点设备统计
- [ ] 支持拖拽设备到预览窗口

### 前置条件
- 用户已登录且权限 >= Level 2
- 区域数据已配置

### 操作步骤
1. 查看左侧设备树
2. 展开目标区域
3. 点击设备进行预览

---

## US-DEV-004: 设备离线告警

**作为** 安保主管(Level 4)  
**我希望** 设备离线时收到告警通知  
**以便** 及时安排维护

### 验收标准
- [ ] 离线检测延迟 < 30秒
- [ ] 支持多种通知方式
- [ ] 告警信息包含设备位置
- [ ] 支持配置免打扰时段

### 前置条件
- 用户已配置告警订阅
- 通知渠道已开启

### 操作步骤
1. 系统检测到设备离线
2. 生成离线告警
3. 推送给订阅用户
4. 用户确认或处理

---

## US-DEV-005: 批量状态查询

**作为** 安保主管(Level 4)  
**我希望** 批量查询多个设备的状态  
**以便** 快速了解整体运行情况

### 验收标准
- [ ] 支持按区域批量查询
- [ ] 返回结果包含统计信息
- [ ] 响应时间 < 3秒
- [ ] 支持导出统计报表

### 前置条件
- 用户已登录且权限 >= Level 3

### 操作步骤
1. 选择目标区域或设备列表
2. 点击批量查询
3. 查看状态统计结果
