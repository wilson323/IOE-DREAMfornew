# 消息中心模块 - 用户故事

## US-MSG-001: 消息订阅配置

**作为** 安保人员(Level 3)  
**我希望** 配置我关注的消息类型  
**以便** 只接收相关的通知

### 验收标准
- [ ] 支持按类型订阅
- [ ] 支持按设备/区域订阅
- [ ] 订阅配置即时生效
- [ ] 支持批量配置

### 前置条件
- 用户已登录且权限 >= Level 2

### 操作步骤
1. 进入订阅配置页面
2. 选择订阅类型
3. 选择订阅范围
4. 保存配置

---

## US-MSG-002: 实时消息接收

**作为** 安保人员(Level 3)  
**我希望** 实时接收订阅的消息  
**以便** 及时了解最新动态

### 验收标准
- [ ] 消息推送延迟 < 1秒
- [ ] WebSocket保持连接
- [ ] 断线自动重连
- [ ] 消息不丢失

### 前置条件
- 用户已登录
- WebSocket连接正常

### 操作步骤
1. 系统产生事件
2. 匹配订阅用户
3. 推送消息
4. 用户收到通知

---

## US-MSG-003: 消息列表查看

**作为** 安保人员(Level 3)  
**我希望** 查看历史消息列表  
**以便** 了解过往通知

### 验收标准
- [ ] 列表加载 < 2秒
- [ ] 支持分页
- [ ] 显示已读/未读状态
- [ ] 支持搜索

### 前置条件
- 用户已登录

### 操作步骤
1. 进入消息中心
2. 查看消息列表
3. 点击查看详情
4. 可标记已读

---

## US-MSG-004: 消息全部已读

**作为** 安保人员(Level 3)  
**我希望** 一键标记所有消息已读  
**以便** 清除未读提醒

### 验收标准
- [ ] 一键操作完成
- [ ] 更新未读计数
- [ ] 记录操作日志

### 前置条件
- 用户已登录

### 操作步骤
1. 点击"全部已读"
2. 确认操作
3. 所有消息变为已读

---

## US-MSG-005: 消息删除

**作为** 安保人员(Level 3)  
**我希望** 删除不需要的消息  
**以便** 保持消息列表整洁

### 验收标准
- [ ] 支持单条删除
- [ ] 支持批量删除
- [ ] 删除后不可恢复
- [ ] 更新统计计数

### 前置条件
- 用户已登录

### 操作步骤
1. 选择要删除的消息
2. 点击删除
3. 确认操作
4. 消息被删除

---

## US-MSG-006: 推送渠道配置

**作为** 系统管理员(Level 5)  
**我希望** 配置消息推送渠道  
**以便** 定制通知方式

### 验收标准
- [ ] 支持多渠道配置
- [ ] 支持按消息类型配置
- [ ] 配置即时生效
- [ ] 支持测试发送

### 前置条件
- 用户权限 >= Level 4

### 操作步骤
1. 进入推送配置
2. 选择推送渠道
3. 配置参数
4. 测试并保存
