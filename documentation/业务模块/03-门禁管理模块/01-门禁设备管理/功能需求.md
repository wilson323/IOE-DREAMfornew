# 门禁设备管理 - 功能需求规格说明书

> **版本**: v1.0.0  
> **微服务**: ioedream-access-service (8090)  
> **创建日期**: 2025-12-17

---

## 📋 功能需求清单

### FR-DEV-001: 设备信息管理

| 项目 | 说明 |
|------|------|
| **功能描述** | 支持门禁设备的新增、修改、删除、查询 |
| **前置条件** | 用户拥有设备管理权限 |
| **操作步骤** | 1. 进入设备管理页面 2. 选择操作类型 3. 填写/修改设备信息 4. 保存确认 |
| **后置结果** | 设备信息保存成功，同步到设备通讯服务 |
| **关联代码** | `AccessDeviceController.java`, `AccessDeviceService.java` |

### FR-DEV-002: 设备远程控制

| 项目 | 说明 |
|------|------|
| **功能描述** | 支持远程开门、关门、重启设备等操作 |
| **前置条件** | 设备在线，用户拥有控制权限 |
| **操作步骤** | 1. 选择目标设备 2. 选择控制命令 3. 确认执行 4. 查看执行结果 |
| **后置结果** | 控制命令下发，记录操作日志 |
| **关联代码** | `AccessDeviceController.java::control()` |

### FR-DEV-003: 设备状态监控

| 项目 | 说明 |
|------|------|
| **功能描述** | 实时监控设备在线状态、健康状态 |
| **前置条件** | 设备已注册到系统 |
| **操作步骤** | 1. 系统定时心跳检测 2. 状态变更推送通知 3. 异常状态触发告警 |
| **后置结果** | 设备状态实时更新，异常及时告警 |
| **关联代码** | `DeviceHealthService.java`, `MonitorAlertService.java` |

### FR-DEV-004: 设备健康诊断

| 项目 | 说明 |
|------|------|
| **功能描述** | 分析设备运行状态，预测维护需求 |
| **前置条件** | 设备累积运行数据 |
| **操作步骤** | 1. 采集设备运行数据 2. AI分析设备状态 3. 生成健康报告 |
| **后置结果** | 输出设备健康评分和维护建议 |
| **关联代码** | `DeviceHealthServiceImpl.java`, `AIAnalysisService.java` |

---

## 📊 功能与代码映射

| 功能 | Controller | Service | DAO |
|------|------------|---------|-----|
| 设备CRUD | AccessDeviceController | AccessDeviceService | AccessDeviceDao |
| 远程控制 | AccessDeviceController | AccessDeviceService | - |
| 状态监控 | AccessMobileController | DeviceHealthService | - |
| 健康诊断 | AccessAdvancedController | AIAnalysisService | - |

---

## 🔧 API接口列表

```
GET    /api/access/v1/devices           # 设备列表
GET    /api/access/v1/devices/{id}      # 设备详情
POST   /api/access/v1/devices           # 新增设备
PUT    /api/access/v1/devices/{id}      # 更新设备
DELETE /api/access/v1/devices/{id}      # 删除设备
POST   /api/access/v1/devices/{id}/control  # 远程控制
GET    /api/access/v1/devices/{id}/health   # 健康状态
```

---

**📝 文档维护**: IOE-DREAM架构团队 | 2025-12-17
