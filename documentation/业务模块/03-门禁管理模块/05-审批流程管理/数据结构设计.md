# å®¡æ‰¹æµç¨‹ç®¡ç† - æ•°æ®ç»“æ„è®¾è®¡

> **ç‰ˆæœ¬**: v1.0.0  
> **åˆ›å»ºæ—¥æœŸ**: 2025-12-17

---

## ğŸ“Š ERå›¾

```mermaid
erDiagram
    PERMISSION_APPLY ||--o{ APPROVAL_RECORD : has
    PERMISSION_APPLY ||--o| USER : applicant
    APPROVAL_RECORD ||--o| USER : approver
    
    PERMISSION_APPLY {
        bigint id PK
        string apply_no
        bigint applicant_id FK
        string apply_type
        string target_areas
        datetime start_time
        datetime end_time
        string reason
        int status
        datetime create_time
    }
    
    APPROVAL_RECORD {
        bigint id PK
        bigint apply_id FK
        bigint approver_id FK
        int node_order
        string action
        string comment
        datetime action_time
    }
```

---

## ğŸ“‹ è¡¨ç»“æ„è®¾è®¡

### t_permission_apply (æƒé™ç”³è¯·è¡¨)

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|------|------|------|------|
| id | BIGINT | PK | ä¸»é”® |
| apply_no | VARCHAR(30) | UNIQUE | ç”³è¯·ç¼–å· |
| applicant_id | BIGINT | FK, NOT NULL | ç”³è¯·äººID |
| apply_type | VARCHAR(30) | NOT NULL | ç”³è¯·ç±»å‹ |
| target_areas | JSON | - | ç›®æ ‡åŒºåŸŸIDæ•°ç»„ |
| start_time | DATETIME | - | æƒé™å¼€å§‹æ—¶é—´ |
| end_time | DATETIME | - | æƒé™ç»“æŸæ—¶é—´ |
| reason | VARCHAR(500) | - | ç”³è¯·ç†ç”± |
| status | TINYINT | DEFAULT 0 | çŠ¶æ€ |
| current_approver | BIGINT | FK | å½“å‰å®¡æ‰¹äºº |
| create_time | DATETIME | NOT NULL | åˆ›å»ºæ—¶é—´ |

### t_approval_record (å®¡æ‰¹è®°å½•è¡¨)

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|------|------|------|------|
| id | BIGINT | PK | ä¸»é”® |
| apply_id | BIGINT | FK, NOT NULL | ç”³è¯·ID |
| approver_id | BIGINT | FK, NOT NULL | å®¡æ‰¹äººID |
| node_order | INT | - | èŠ‚ç‚¹é¡ºåº |
| action | VARCHAR(20) | NOT NULL | æ“ä½œ(APPROVE/REJECT) |
| comment | VARCHAR(500) | - | å®¡æ‰¹æ„è§ |
| action_time | DATETIME | NOT NULL | æ“ä½œæ—¶é—´ |

---

**ğŸ“ æ–‡æ¡£ç»´æŠ¤**: IOE-DREAMæ¶æ„å›¢é˜Ÿ | 2025-12-17
