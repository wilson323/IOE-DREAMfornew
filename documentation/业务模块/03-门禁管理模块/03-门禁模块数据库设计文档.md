# IOE-DREAMé—¨ç¦ç®¡ç†æ¨¡å— - æ•°æ®åº“è®¾è®¡æ–‡æ¡£

> **æ¨¡å—ç‰ˆæœ¬**: v2.0.0
> **åˆ›å»ºæ—¶é—´**: 2025-12-16
> **æœ€åæ›´æ–°**: 2025-12-16
> **æ–‡æ¡£ç±»å‹**: æ•°æ®åº“è®¾è®¡
> **æ•°æ®åº“ç‰ˆæœ¬**: MySQL 8.0
> **ORMæ¡†æ¶**: MyBatis-Plus 3.5.15

## ğŸ“‹ æ•°æ®åº“æ¦‚è¿°

### è®¾è®¡åŸåˆ™

éµå¾ªIOE-DREAMé¡¹ç›®çš„æ•°æ®åº“è®¾è®¡è§„èŒƒï¼Œç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§ã€å®Œæ•´æ€§å’Œé«˜æ€§èƒ½ï¼š

- **æ ‡å‡†åŒ–å‘½å**: ç»Ÿä¸€çš„è¡¨åã€å­—æ®µåå‘½åè§„èŒƒ
- **åˆç†ç´¢å¼•**: ä¸ºæŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–å»ºç«‹åˆç†çš„ç´¢å¼•ç­–ç•¥
- **æ•°æ®å®Œæ•´æ€§**: é€šè¿‡çº¦æŸä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§
- **æ‰©å±•æ€§è€ƒè™‘**: è®¾è®¡æ”¯æŒæœªæ¥ä¸šåŠ¡æ‰©å±•çš„æ•°æ®ç»“æ„
- **å®‰å…¨æ€§ä¿éšœ**: æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨å’Œè®¿é—®æ§åˆ¶

### æ ¸å¿ƒç‰¹æ€§

- **å¾®æœåŠ¡æ¶æ„**: ç‹¬ç«‹çš„é—¨ç¦æ¨¡å—æ•°æ®åº“ï¼Œæ”¯æŒæ°´å¹³æ‰©å±•
- **è¯»å†™åˆ†ç¦»**: æ”¯æŒä¸»ä»å¤åˆ¶å’Œè¯»å†™åˆ†ç¦»éƒ¨ç½²
- **åˆ†åº“åˆ†è¡¨**: æ”¯æŒæ•°æ®é‡å¢é•¿æ—¶çš„åˆ†åº“åˆ†è¡¨ç­–ç•¥
- **ç¼“å­˜é›†æˆ**: ä¸Redisç¼“å­˜æ·±åº¦é›†æˆï¼Œæå‡æŸ¥è¯¢æ€§èƒ½
- **å®¡è®¡æ—¥å¿—**: å®Œæ•´çš„æ•°æ®å˜æ›´å®¡è®¡å’Œæ“ä½œæ—¥å¿—

---

## ğŸ—„ï¸ æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡

### 1. è®¾å¤‡ç®¡ç†ç›¸å…³è¡¨

#### 1.1 é—¨ç¦è®¾å¤‡è¡¨ (access_device)

**è¡¨æè¿°**: å­˜å‚¨é—¨ç¦è®¾å¤‡çš„åŸºç¡€ä¿¡æ¯å’Œé…ç½®æ•°æ®

```sql
CREATE TABLE `access_device` (
    `device_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'è®¾å¤‡ID',
    `device_no` VARCHAR(50) NOT NULL COMMENT 'è®¾å¤‡ç¼–å·',
    `device_name` VARCHAR(100) NOT NULL COMMENT 'è®¾å¤‡åç§°',
    `device_type` TINYINT(2) NOT NULL COMMENT 'è®¾å¤‡ç±»å‹:1-é—¨ç¦æ§åˆ¶å™¨,2-æ™ºèƒ½è¯»å¡å™¨,3-ç”Ÿç‰©è¯†åˆ«ç»ˆç«¯,4-é—¨é”è®¾å¤‡',
    `device_model` VARCHAR(50) COMMENT 'è®¾å¤‡å‹å·',
    `manufacturer` VARCHAR(50) COMMENT 'åˆ¶é€ å•†',
    `serial_number` VARCHAR(100) COMMENT 'åºåˆ—å·',
    `firmware_version` VARCHAR(50) COMMENT 'å›ºä»¶ç‰ˆæœ¬',
    `hardware_version` VARCHAR(50) COMMENT 'ç¡¬ä»¶ç‰ˆæœ¬',

    `area_id` BIGINT(20) NOT NULL COMMENT 'æ‰€å±åŒºåŸŸID',
    `location_desc` VARCHAR(200) COMMENT 'ä½ç½®æè¿°',
    `building` VARCHAR(50) COMMENT 'å»ºç­‘ç‰©',
    `floor` VARCHAR(20) COMMENT 'æ¥¼å±‚',
    `room` VARCHAR(50) COMMENT 'æˆ¿é—´å·',

    `network_config` JSON COMMENT 'ç½‘ç»œé…ç½®JSON',
    `ip_address` VARCHAR(15) COMMENT 'IPåœ°å€',
    `port` INT COMMENT 'ç«¯å£å·',
    `mac_address` VARCHAR(17) COMMENT 'MACåœ°å€',
    `protocol_type` VARCHAR(20) NOT NULL DEFAULT 'TCP' COMMENT 'åè®®ç±»å‹:TCP,UDP,HTTP,WEBSOCKET',

    `device_status` TINYINT(2) NOT NULL DEFAULT 0 COMMENT 'è®¾å¤‡çŠ¶æ€:0-ç¦»çº¿,1-åœ¨çº¿,2-æ•…éšœ,3-ç»´æŠ¤,4-åœç”¨',
    `last_heartbeat` DATETIME COMMENT 'æœ€åå¿ƒè·³æ—¶é—´',
    `online_duration` BIGINT COMMENT 'åœ¨çº¿æ—¶é•¿(ç§’)',
    `last_offline_time` DATETIME COMMENT 'æœ€åç¦»çº¿æ—¶é—´',

    `config_data` JSON COMMENT 'è®¾å¤‡é…ç½®JSON',
    `security_config` JSON COMMENT 'å®‰å…¨é…ç½®JSON',
    `feature_config` JSON COMMENT 'åŠŸèƒ½é…ç½®JSON',

    `security_level` TINYINT(2) DEFAULT 1 COMMENT 'å®‰å…¨ç­‰çº§:1-ä½,2-ä¸­,3-é«˜,4-æé«˜',
    `anti_passback` TINYINT(1) DEFAULT 0 COMMENT 'åæ½œå›åŠŸèƒ½:0-å…³é—­,1-å¼€å¯',
    `biometric_support` VARCHAR(100) COMMENT 'ç”Ÿç‰©è¯†åˆ«æ”¯æŒ:face,fingerprint,iris,voice',
    `card_support` TINYINT(1) DEFAULT 1 COMMENT 'ICå¡æ”¯æŒ:0-ä¸æ”¯æŒ,1-æ”¯æŒ',
    `password_support` TINYINT(1) DEFAULT 0 COMMENT 'å¯†ç æ”¯æŒ:0-ä¸æ”¯æŒ,1-æ”¯æŒ',

    `installation_date` DATE COMMENT 'å®‰è£…æ—¥æœŸ',
    `warranty_date` DATE COMMENT 'ä¿ä¿®åˆ°æœŸæ—¥',
    `maintenance_cycle` INT DEFAULT 90 COMMENT 'ç»´æŠ¤å‘¨æœŸ(å¤©)',
    `last_maintenance_date` DATE COMMENT 'æœ€åç»´æŠ¤æ—¥æœŸ',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `create_user_id` BIGINT(20) COMMENT 'åˆ›å»ºäººID',
    `update_user_id` BIGINT(20) COMMENT 'æ›´æ–°äººID',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',
    `version` INT NOT NULL DEFAULT 0 COMMENT 'ç‰ˆæœ¬å·',

    PRIMARY KEY (`device_id`),
    UNIQUE KEY `uk_device_no` (`device_no`, `deleted_flag`),
    UNIQUE KEY `uk_serial_number` (`serial_number`, `deleted_flag`),
    KEY `idx_device_type` (`device_type`),
    KEY `idx_area_id` (`area_id`),
    KEY `idx_device_status` (`device_status`),
    KEY `idx_manufacturer` (`manufacturer`),
    KEY `idx_installation_date` (`installation_date`),
    KEY `idx_last_heartbeat` (`last_heartbeat`),
    KEY `idx_deleted_flag` (`deleted_flag`),
    KEY `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='é—¨ç¦è®¾å¤‡è¡¨';
```

**å­—æ®µè¯´æ˜**:

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | çº¦æŸ |
|--------|------|------|------|
| device_id | BIGINT | è®¾å¤‡å”¯ä¸€æ ‡è¯† | ä¸»é”®ï¼Œè‡ªå¢ |
| device_no | VARCHAR(50) | è®¾å¤‡ç¼–å· | éç©ºï¼Œå”¯ä¸€ |
| device_name | VARCHAR(100) | è®¾å¤‡åç§° | éç©º |
| device_type | TINYINT(2) | è®¾å¤‡ç±»å‹ | éç©º |
| area_id | BIGINT(20) | æ‰€å±åŒºåŸŸID | éç©º |
| device_status | TINYINT(2) | è®¾å¤‡çŠ¶æ€ | é»˜è®¤0(ç¦»çº¿) |
| security_level | TINYINT(2) | å®‰å…¨ç­‰çº§ | é»˜è®¤1(ä½) |

#### 1.2 è®¾å¤‡é…ç½®è¯¦æƒ…è¡¨ (access_device_config)

**è¡¨æè¿°**: å­˜å‚¨è®¾å¤‡çš„è¯¦ç»†é…ç½®ä¿¡æ¯ï¼Œæ”¯æŒçµæ´»çš„é…ç½®ç®¡ç†

```sql
CREATE TABLE `access_device_config` (
    `config_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'é…ç½®ID',
    `device_id` BIGINT(20) NOT NULL COMMENT 'è®¾å¤‡ID',
    `config_type` VARCHAR(50) NOT NULL COMMENT 'é…ç½®ç±»å‹',
    `config_key` VARCHAR(100) NOT NULL COMMENT 'é…ç½®é”®',
    `config_value` TEXT NOT NULL COMMENT 'é…ç½®å€¼',
    `config_desc` VARCHAR(500) COMMENT 'é…ç½®æè¿°',
    `data_type` VARCHAR(20) DEFAULT 'STRING' COMMENT 'æ•°æ®ç±»å‹:STRING,NUMBER,BOOLEAN,JSON',
    `is_encrypted` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦åŠ å¯†:0-å¦,1-æ˜¯',
    `is_readonly` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦åªè¯»:0-å¦,1-æ˜¯',
    `validation_rule` VARCHAR(200) COMMENT 'éªŒè¯è§„åˆ™',
    `default_value` TEXT COMMENT 'é»˜è®¤å€¼',
    `sort_order` INT DEFAULT 0 COMMENT 'æ’åºåºå·',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `create_user_id` BIGINT(20) COMMENT 'åˆ›å»ºäººID',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',

    PRIMARY KEY (`config_id`),
    UNIQUE KEY `uk_device_config` (`device_id`, `config_type`, `config_key`, `deleted_flag`),
    KEY `idx_device_id` (`device_id`),
    KEY `idx_config_type` (`config_type`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è®¾å¤‡é…ç½®è¯¦æƒ…è¡¨';
```

### 2. æƒé™ç®¡ç†ç›¸å…³è¡¨

#### 2.1 é—¨ç¦æƒé™è¡¨ (access_permission)

**è¡¨æè¿°**: å­˜å‚¨ç”¨æˆ·å¯¹é—¨ç¦è®¾å¤‡çš„è®¿é—®æƒé™ä¿¡æ¯

```sql
CREATE TABLE `access_permission` (
    `permission_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'æƒé™ID',
    `permission_no` VARCHAR(50) NOT NULL COMMENT 'æƒé™ç¼–å·',
    `user_id` BIGINT(20) NOT NULL COMMENT 'ç”¨æˆ·ID',
    `user_type` TINYINT(2) NOT NULL DEFAULT 1 COMMENT 'ç”¨æˆ·ç±»å‹:1-å‘˜å·¥,2-è®¿å®¢,3-ä¸´æ—¶äººå‘˜,4-å¤–åŒ…äººå‘˜',
    `user_name` VARCHAR(100) NOT NULL COMMENT 'ç”¨æˆ·å§“å',
    `user_dept` VARCHAR(100) COMMENT 'æ‰€å±éƒ¨é—¨',
    `user_position` VARCHAR(100) COMMENT 'èŒä½',

    `device_id` BIGINT(20) NOT NULL COMMENT 'è®¾å¤‡ID',
    `area_id` BIGINT(20) NOT NULL COMMENT 'åŒºåŸŸID',
    `device_group_id` BIGINT(20) COMMENT 'è®¾å¤‡ç»„ID',

    `permission_type` TINYINT(2) NOT NULL DEFAULT 1 COMMENT 'æƒé™ç±»å‹:1-æ°¸ä¹…,2-ä¸´æ—¶,3-å•æ¬¡,4-å‘¨æœŸ',
    `permission_level` TINYINT(2) DEFAULT 1 COMMENT 'æƒé™çº§åˆ«:1-æ™®é€š,2-é‡è¦,3-å…³é”®',

    `access_method` VARCHAR(100) NOT NULL COMMENT 'è®¿é—®æ–¹å¼:card,face,fingerprint,password,multi',
    `biometric_required` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦éœ€è¦ç”Ÿç‰©è¯†åˆ«:0-å¦,1-æ˜¯',
    `multi_factor_required` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦éœ€è¦å¤šå› å­éªŒè¯:0-å¦,1-æ˜¯',

    `valid_start_time` DATETIME NOT NULL COMMENT 'æœ‰æ•ˆå¼€å§‹æ—¶é—´',
    `valid_end_time` DATETIME NOT NULL COMMENT 'æœ‰æ•ˆç»“æŸæ—¶é—´',
    `time_restrictions` JSON COMMENT 'æ—¶é—´é™åˆ¶é…ç½®JSON',
    `date_restrictions` JSON COMMENT 'æ—¥æœŸé™åˆ¶é…ç½®JSON',
    `holiday_access` TINYINT(1) DEFAULT 0 COMMENT 'èŠ‚å‡æ—¥è®¿é—®:0-ä¸å…è®¸,1-å…è®¸',

    `access_count` INT DEFAULT 0 COMMENT 'è®¿é—®æ¬¡æ•°é™åˆ¶:0-æ— é™åˆ¶',
    `daily_count` INT DEFAULT 0 COMMENT 'æ¯æ—¥è®¿é—®æ¬¡æ•°é™åˆ¶:0-æ— é™åˆ¶',
    `used_count` INT DEFAULT 0 COMMENT 'å·²ä½¿ç”¨æ¬¡æ•°',
    `last_access_time` DATETIME COMMENT 'æœ€åè®¿é—®æ—¶é—´',

    `permission_status` TINYINT(2) NOT NULL DEFAULT 1 COMMENT 'æƒé™çŠ¶æ€:0-ç¦ç”¨,1-å¯ç”¨,2-è¿‡æœŸ,3-æš‚åœ',

    `approval_status` TINYINT(2) DEFAULT 1 COMMENT 'å®¡æ‰¹çŠ¶æ€:0-å¾…å®¡æ‰¹,1-å·²é€šè¿‡,2-å·²æ‹’ç»,3-å·²æ’¤é”€',
    `approver_id` BIGINT(20) COMMENT 'å®¡æ‰¹äººID',
    `approver_name` VARCHAR(100) COMMENT 'å®¡æ‰¹äººå§“å',
    `approval_time` DATETIME COMMENT 'å®¡æ‰¹æ—¶é—´',
    `approval_comment` VARCHAR(1000) COMMENT 'å®¡æ‰¹æ„è§',
    `approval_process_id` BIGINT(20) COMMENT 'å®¡æ‰¹æµç¨‹ID',

    `emergency_access` TINYINT(1) DEFAULT 0 COMMENT 'ç´§æ€¥è®¿é—®æƒé™:0-æ— ,1-æœ‰',
    `escort_required` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦éœ€è¦é™ªåŒ:0-å¦,1-æ˜¯',
    `access_reason` VARCHAR(500) COMMENT 'è®¿é—®åŸå› ',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `create_user_id` BIGINT(20) COMMENT 'åˆ›å»ºäººID',
    `update_user_id` BIGINT(20) COMMENT 'æ›´æ–°äººID',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',
    `version` INT NOT NULL DEFAULT 0 COMMENT 'ç‰ˆæœ¬å·',

    PRIMARY KEY (`permission_id`),
    UNIQUE KEY `uk_permission_no` (`permission_no`, `deleted_flag`),
    UNIQUE KEY `uk_user_device` (`user_id`, `device_id`, `deleted_flag`),
    KEY `idx_user_id` (`user_id`),
    KEY `idx_device_id` (`device_id`),
    KEY `idx_area_id` (`area_id`),
    KEY `idx_permission_type` (`permission_type`),
    KEY `idx_permission_status` (`permission_status`),
    KEY `idx_approval_status` (`approval_status`),
    KEY `idx_valid_time` (`valid_start_time`, `valid_end_time`),
    KEY `idx_create_time` (`create_time`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='é—¨ç¦æƒé™è¡¨';
```

#### 2.2 æƒé™ç»„è¡¨ (access_permission_group)

**è¡¨æè¿°**: æ”¯æŒæƒé™ç»„ç®¡ç†ï¼Œä¾¿äºæ‰¹é‡æƒé™åˆ†é…

```sql
CREATE TABLE `access_permission_group` (
    `group_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'æƒé™ç»„ID',
    `group_name` VARCHAR(100) NOT NULL COMMENT 'æƒé™ç»„åç§°',
    `group_code` VARCHAR(50) NOT NULL COMMENT 'æƒé™ç»„ç¼–ç ',
    `group_desc` VARCHAR(500) COMMENT 'æƒé™ç»„æè¿°',
    `group_type` TINYINT(2) NOT NULL DEFAULT 1 COMMENT 'æƒé™ç»„ç±»å‹:1-éƒ¨é—¨ç»„,2-å²—ä½ç»„,3-é¡¹ç›®ç»„,4-ä¸´æ—¶ç»„',

    `device_scope` JSON COMMENT 'è®¾å¤‡æƒé™èŒƒå›´',
    `area_scope` JSON COMMENT 'åŒºåŸŸæƒé™èŒƒå›´',
    `time_scope` JSON COMMENT 'æ—¶é—´æƒé™èŒƒå›´',

    `is_active` TINYINT(1) DEFAULT 1 COMMENT 'æ˜¯å¦å¯ç”¨:0-ç¦ç”¨,1-å¯ç”¨',
    `member_count` INT DEFAULT 0 COMMENT 'æˆå‘˜æ•°é‡',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `create_user_id` BIGINT(20) COMMENT 'åˆ›å»ºäººID',
    `update_user_id` BIGINT(20) COMMENT 'æ›´æ–°äººID',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',

    PRIMARY KEY (`group_id`),
    UNIQUE KEY `uk_group_code` (`group_code`, `deleted_flag`),
    KEY `idx_group_type` (`group_type`),
    KEY `idx_is_active` (`is_active`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='æƒé™ç»„è¡¨';
```

#### 2.3 æƒé™ç»„æˆå‘˜è¡¨ (access_permission_group_member)

**è¡¨æè¿°**: æƒé™ç»„æˆå‘˜å…³ç³»è¡¨

```sql
CREATE TABLE `access_permission_group_member` (
    `member_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'æˆå‘˜ID',
    `group_id` BIGINT(20) NOT NULL COMMENT 'æƒé™ç»„ID',
    `user_id` BIGINT(20) NOT NULL COMMENT 'ç”¨æˆ·ID',
    `user_name` VARCHAR(100) NOT NULL COMMENT 'ç”¨æˆ·å§“å',
    `join_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åŠ å…¥æ—¶é—´',
    `leave_time` DATETIME COMMENT 'ç¦»å¼€æ—¶é—´',
    `is_active` TINYINT(1) DEFAULT 1 COMMENT 'æ˜¯å¦æ¿€æ´»:0-å·²ç¦»å¼€,1-æ¿€æ´»',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `create_user_id` BIGINT(20) COMMENT 'åˆ›å»ºäººID',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',

    PRIMARY KEY (`member_id`),
    UNIQUE KEY `uk_group_user` (`group_id`, `user_id`, `deleted_flag`),
    KEY `idx_group_id` (`group_id`),
    KEY `idx_user_id` (`user_id`),
    KEY `idx_is_active` (`is_active`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='æƒé™ç»„æˆå‘˜è¡¨';
```

### 3. é€šè¡Œè®°å½•ç›¸å…³è¡¨

#### 3.1 é—¨ç¦è®°å½•è¡¨ (access_record)

**è¡¨æè¿°**: å­˜å‚¨æ‰€æœ‰é—¨ç¦é€šè¡Œäº‹ä»¶çš„è¯¦ç»†è®°å½•

```sql
CREATE TABLE `access_record` (
    `record_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'è®°å½•ID',
    `access_sn` VARCHAR(50) NOT NULL COMMENT 'è®¿é—®æµæ°´å·',
    `transaction_id` VARCHAR(100) COMMENT 'äº¤æ˜“ID',

    `user_id` BIGINT(20) COMMENT 'ç”¨æˆ·ID',
    `user_type` TINYINT(2) COMMENT 'ç”¨æˆ·ç±»å‹:1-å‘˜å·¥,2-è®¿å®¢,3-ä¸´æ—¶äººå‘˜,4-æœªçŸ¥',
    `user_name` VARCHAR(100) COMMENT 'ç”¨æˆ·å§“å',
    `user_card_no` VARCHAR(50) COMMENT 'ç”¨æˆ·å¡å·',
    `user_dept` VARCHAR(100) COMMENT 'ç”¨æˆ·éƒ¨é—¨',

    `device_id` BIGINT(20) NOT NULL COMMENT 'è®¾å¤‡ID',
    `device_name` VARCHAR(100) NOT NULL COMMENT 'è®¾å¤‡åç§°',
    `device_type` TINYINT(2) NOT NULL COMMENT 'è®¾å¤‡ç±»å‹',
    `area_id` BIGINT(20) NOT NULL COMMENT 'åŒºåŸŸID',
    `area_name` VARCHAR(100) COMMENT 'åŒºåŸŸåç§°',

    `access_type` TINYINT(2) NOT NULL COMMENT 'é€šè¡Œç±»å‹:1-è¿›å…¥,2-é€€å‡º,3-æ— æ–¹å‘',
    `access_method` VARCHAR(50) COMMENT 'éªŒè¯æ–¹å¼:card,face,fingerprint,password,multi',
    `verify_result` JSON COMMENT 'éªŒè¯ç»“æœJSON',
    `verify_score` DECIMAL(5,4) COMMENT 'éªŒè¯åˆ†æ•°',
    `verify_duration` INT COMMENT 'éªŒè¯è€—æ—¶(ms)',

    `access_result` TINYINT(2) NOT NULL COMMENT 'é€šè¡Œç»“æœ:0-æˆåŠŸ,1-å¤±è´¥,2-è¶…æ—¶,3-å–æ¶ˆ,4-æ‹’ç»',
    `failure_reason` VARCHAR(200) COMMENT 'å¤±è´¥åŸå› ',
    `failure_code` VARCHAR(50) COMMENT 'å¤±è´¥ä»£ç ',

    `permission_check` TINYINT(1) DEFAULT 0 COMMENT 'æƒé™éªŒè¯ç»“æœ:0-å¤±è´¥,1-æˆåŠŸ',
    `permission_detail` JSON COMMENT 'æƒé™éªŒè¯è¯¦æƒ…',

    `card_no` VARCHAR(50) COMMENT 'å¡å·',
    `card_type` VARCHAR(20) COMMENT 'å¡ç±»å‹',
    `card_status` VARCHAR(20) COMMENT 'å¡çŠ¶æ€',

    `biometric_data` JSON COMMENT 'ç”Ÿç‰©è¯†åˆ«æ•°æ®JSON',
    `biometric_template_id` VARCHAR(100) COMMENT 'ç”Ÿç‰©è¯†åˆ«æ¨¡æ¿ID',
    `biometric_match_score` DECIMAL(5,4) COMMENT 'ç”Ÿç‰©è¯†åˆ«åŒ¹é…åˆ†æ•°',

    `access_time` DATETIME NOT NULL COMMENT 'é€šè¡Œæ—¶é—´',
    `process_duration` INT COMMENT 'æ€»å¤„ç†æ—¶é•¿(ms)',

    `photo_url` VARCHAR(500) COMMENT 'æŠ“æ‹ç…§ç‰‡URL',
    `photo_path` VARCHAR(500) COMMENT 'ç…§ç‰‡å­˜å‚¨è·¯å¾„',
    `video_url` VARCHAR(500) COMMENT 'å½•åƒURL',
    `video_path` VARCHAR(500) COMMENT 'å½•åƒå­˜å‚¨è·¯å¾„',

    `device_snapshot` JSON COMMENT 'è®¾å¤‡å¿«ç…§æ•°æ®JSON',
    `location_data` JSON COMMENT 'ä½ç½®æ•°æ®JSON',

    `risk_score` DECIMAL(3,2) DEFAULT 0.00 COMMENT 'é£é™©è¯„åˆ†',
    `risk_level` TINYINT(2) DEFAULT 0 COMMENT 'é£é™©ç­‰çº§:0-æ— é£é™©,1-ä½,2-ä¸­,3-é«˜,4-æé«˜',
    `anomaly_detected` TINYINT(1) DEFAULT 0 COMMENT 'å¼‚å¸¸æ£€æµ‹:0-æ­£å¸¸,1-å¼‚å¸¸',
    `anomaly_type` VARCHAR(50) COMMENT 'å¼‚å¸¸ç±»å‹',

    `alert_level` TINYINT(2) DEFAULT 0 COMMENT 'å‘Šè­¦çº§åˆ«:0-æ— ,1-ä½,2-ä¸­,3-é«˜,4-ç´§æ€¥',
    `alert_triggered` TINYINT(1) DEFAULT 0 COMMENT 'å‘Šè­¦è§¦å‘:0-æœªè§¦å‘,1-å·²è§¦å‘',

    `temperature` DECIMAL(4,1) COMMENT 'ä½“æ¸©(â„ƒ)',
    `mask_detected` TINYINT(1) COMMENT 'å£ç½©æ£€æµ‹:0-æœªæ£€æµ‹,1-ä½©æˆ´,2-æœªä½©æˆ´',
    `liveness_detected` TINYINT(1) COMMENT 'æ´»ä½“æ£€æµ‹:0-æœªæ£€æµ‹,1-æ´»ä½“,2-éæ´»ä½“',

    `remote_access` TINYINT(1) DEFAULT 0 COMMENT 'è¿œç¨‹è®¿é—®:0-æœ¬åœ°,1-è¿œç¨‹',
    `operator_id` BIGINT(20) COMMENT 'æ“ä½œå‘˜ID',
    `operator_name` VARCHAR(100) COMMENT 'æ“ä½œå‘˜å§“å',
    `remote_reason` VARCHAR(200) COMMENT 'è¿œç¨‹æ“ä½œåŸå› ',

    `sync_status` TINYINT(2) DEFAULT 0 COMMENT 'åŒæ­¥çŠ¶æ€:0-æœªåŒæ­¥,1-å·²åŒæ­¥,2-åŒæ­¥å¤±è´¥',
    `sync_time` DATETIME COMMENT 'åŒæ­¥æ—¶é—´',
    `sync_error` VARCHAR(200) COMMENT 'åŒæ­¥é”™è¯¯ä¿¡æ¯',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',

    PRIMARY KEY (`record_id`),
    UNIQUE KEY `uk_access_sn` (`access_sn`),
    KEY `idx_user_access_time` (`user_id`, `access_time`),
    KEY `idx_device_access_time` (`device_id`, `access_time`),
    KEY `idx_area_access_time` (`area_id`, `access_time`),
    KEY `idx_access_result` (`access_result`),
    KEY `idx_access_time` (`access_time`),
    KEY `idx_alert_level` (`alert_level`),
    KEY `idx_risk_level` (`risk_level`),
    KEY `idx_anomaly_detected` (`anomaly_detected`),
    KEY `idx_card_no` (`card_no`),
    KEY `idx_sync_status` (`sync_status`),
    KEY `idx_create_time` (`create_time`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='é—¨ç¦é€šè¡Œè®°å½•è¡¨';
```

#### 3.2 é€šè¡Œè®°å½•è¯¦æƒ…è¡¨ (access_record_detail)

**è¡¨æè¿°**: å­˜å‚¨é€šè¡Œè®°å½•çš„è¯¦ç»†ä¿¡æ¯ï¼Œç”¨äºæ·±åº¦åˆ†æ

```sql
CREATE TABLE `access_record_detail` (
    `detail_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'è¯¦æƒ…ID',
    `record_id` BIGINT(20) NOT NULL COMMENT 'é€šè¡Œè®°å½•ID',

    `verify_steps` JSON COMMENT 'éªŒè¯æ­¥éª¤JSON',
    `step_results` JSON COMMENT 'æ­¥éª¤ç»“æœJSON',
    `step_durations` JSON COMMENT 'æ­¥éª¤è€—æ—¶JSON',

    `device_info` JSON COMMENT 'è®¾å¤‡ä¿¡æ¯JSON',
    `network_info` JSON COMMENT 'ç½‘ç»œä¿¡æ¯JSON',
    `environment_info` JSON COMMENT 'ç¯å¢ƒä¿¡æ¯JSON',

    `risk_factors` JSON COMMENT 'é£é™©å› ç´ JSON',
    `security_checks` JSON COMMENT 'å®‰å…¨æ£€æŸ¥JSON',
    `compliance_checks` JSON COMMENT 'åˆè§„æ£€æŸ¥JSON',

    `user_behavior` JSON COMMENT 'ç”¨æˆ·è¡Œä¸ºJSON',
    `pattern_analysis` JSON COMMENT 'æ¨¡å¼åˆ†æJSON',
    `historical_data` JSON COMMENT 'å†å²æ•°æ®JSON',

    `additional_data` JSON COMMENT 'é™„åŠ æ•°æ®JSON',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',

    PRIMARY KEY (`detail_id`),
    UNIQUE KEY `uk_record_id` (`record_id`, `deleted_flag`),
    KEY `idx_record_id` (`record_id`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='é€šè¡Œè®°å½•è¯¦æƒ…è¡¨';
```

### 4. å®¡æ‰¹æµç¨‹ç›¸å…³è¡¨

#### 4.1 å®¡æ‰¹æµç¨‹è¡¨ (access_approval_process)

**è¡¨æè¿°**: å­˜å‚¨é—¨ç¦ç›¸å…³çš„å®¡æ‰¹æµç¨‹ä¿¡æ¯

```sql
CREATE TABLE `access_approval_process` (
    `process_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'æµç¨‹ID',
    `process_no` VARCHAR(50) NOT NULL COMMENT 'æµç¨‹ç¼–å·',
    `process_title` VARCHAR(200) NOT NULL COMMENT 'æµç¨‹æ ‡é¢˜',
    `process_type` TINYINT(2) NOT NULL COMMENT 'æµç¨‹ç±»å‹:1-ä¸´æ—¶æƒé™,2-è®¿å®¢æƒé™,3-åŒºåŸŸæƒé™,4-ç‰¹æ®Šæƒé™',

    `applicant_id` BIGINT(20) NOT NULL COMMENT 'ç”³è¯·äººID',
    `applicant_name` VARCHAR(100) NOT NULL COMMENT 'ç”³è¯·äººå§“å',
    `applicant_dept` VARCHAR(100) COMMENT 'ç”³è¯·éƒ¨é—¨',
    `applicant_phone` VARCHAR(20) COMMENT 'ç”³è¯·äººç”µè¯',
    `applicant_email` VARCHAR(100) COMMENT 'ç”³è¯·äººé‚®ç®±',

    `apply_content` JSON NOT NULL COMMENT 'ç”³è¯·å†…å®¹JSON',
    `apply_reason` TEXT COMMENT 'ç”³è¯·åŸå› ',
    `apply_attachments` JSON COMMENT 'ç”³è¯·é™„ä»¶JSON',

    `current_step` INT DEFAULT 1 COMMENT 'å½“å‰æ­¥éª¤',
    `total_steps` INT DEFAULT 1 COMMENT 'æ€»æ­¥éª¤æ•°',
    `process_status` VARCHAR(20) NOT NULL DEFAULT 'PENDING' COMMENT 'æµç¨‹çŠ¶æ€:PENDING-å¾…å®¡æ‰¹,IN_PROGRESS-å®¡æ‰¹ä¸­,APPROVED-å·²é€šè¿‡,REJECTED-å·²æ‹’ç»,CANCELLED-å·²å–æ¶ˆ',

    `priority` TINYINT(2) DEFAULT 2 COMMENT 'ä¼˜å…ˆçº§:1-ç´§æ€¥,2-æ™®é€š,3-ä½',
    `urgency_level` TINYINT(2) DEFAULT 1 COMMENT 'ç´§æ€¥ç¨‹åº¦:1-ä¸€èˆ¬,2-ç´§æ€¥,3-ç‰¹æ€¥',

    `approval_config` JSON COMMENT 'å®¡æ‰¹é…ç½®JSON',
    `current_approver_id` BIGINT(20) COMMENT 'å½“å‰å®¡æ‰¹äººID',
    `current_approver_name` VARCHAR(100) COMMENT 'å½“å‰å®¡æ‰¹äººå§“å',

    `final_approver_id` BIGINT(20) COMMENT 'æœ€ç»ˆå®¡æ‰¹äººID',
    `final_approver_name` VARCHAR(100) COMMENT 'æœ€ç»ˆå®¡æ‰¹äººå§“å',
    `final_approver_time` DATETIME COMMENT 'æœ€ç»ˆå®¡æ‰¹æ—¶é—´',

    `approval_comment` TEXT COMMENT 'å®¡æ‰¹æ„è§',
    `rejection_reason` VARCHAR(500) COMMENT 'æ‹’ç»åŸå› ',

    `effective_time` DATETIME COMMENT 'ç”Ÿæ•ˆæ—¶é—´',
    `expire_time` DATETIME COMMENT 'è¿‡æœŸæ—¶é—´',

    `estimated_process_time` INT COMMENT 'é¢„è®¡å¤„ç†æ—¶é—´(å°æ—¶)',
    `actual_process_time` INT COMMENT 'å®é™…å¤„ç†æ—¶é—´(å°æ—¶)',

    `auto_approval` TINYINT(1) DEFAULT 0 COMMENT 'è‡ªåŠ¨å®¡æ‰¹:0-å¦,1-æ˜¯',
    `auto_approval_rules` JSON COMMENT 'è‡ªåŠ¨å®¡æ‰¹è§„åˆ™JSON',

    `notification_config` JSON COMMENT 'é€šçŸ¥é…ç½®JSON',
    `escalation_config` JSON COMMENT 'å‡çº§é…ç½®JSON',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `create_user_id` BIGINT(20) COMMENT 'åˆ›å»ºäººID',
    `update_user_id` BIGINT(20) COMMENT 'æ›´æ–°äººID',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',
    `version` INT NOT NULL DEFAULT 0 COMMENT 'ç‰ˆæœ¬å·',

    PRIMARY KEY (`process_id`),
    UNIQUE KEY `uk_process_no` (`process_no`, `deleted_flag`),
    KEY `idx_applicant_id` (`applicant_id`),
    KEY `idx_process_type` (`process_type`),
    KEY `idx_process_status` (`process_status`),
    KEY `idx_priority` (`priority`),
    KEY `idx_current_approver` (`current_approver_id`),
    KEY `idx_effective_time` (`effective_time`),
    KEY `idx_create_time` (`create_time`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='é—¨ç¦å®¡æ‰¹æµç¨‹è¡¨';
```

#### 4.2 å®¡æ‰¹æ­¥éª¤è¡¨ (access_approval_step)

**è¡¨æè¿°**: å­˜å‚¨å®¡æ‰¹æµç¨‹çš„å„ä¸ªæ­¥éª¤ä¿¡æ¯

```sql
CREATE TABLE `access_approval_step` (
    `step_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'æ­¥éª¤ID',
    `process_id` BIGINT(20) NOT NULL COMMENT 'æµç¨‹ID',
    `step_name` VARCHAR(100) NOT NULL COMMENT 'æ­¥éª¤åç§°',
    `step_order` INT NOT NULL COMMENT 'æ­¥éª¤é¡ºåº',
    `step_type` TINYINT(2) NOT NULL COMMENT 'æ­¥éª¤ç±»å‹:1-å•äººå®¡æ‰¹,2-å¤šäººä¼šç­¾,3-ä»»ä¸€å®¡æ‰¹,4-æ¡ä»¶å®¡æ‰¹',

    `approver_type` TINYINT(2) NOT NULL COMMENT 'å®¡æ‰¹äººç±»å‹:1-æŒ‡å®šç”¨æˆ·,2-æŒ‡å®šè§’è‰²,3-æŒ‡å®šéƒ¨é—¨,4-åŠ¨æ€å®¡æ‰¹äºº',
    `approver_config` JSON COMMENT 'å®¡æ‰¹äººé…ç½®JSON',
    `approval_condition` JSON COMMENT 'å®¡æ‰¹æ¡ä»¶JSON',

    `step_status` VARCHAR(20) NOT NULL DEFAULT 'PENDING' COMMENT 'æ­¥éª¤çŠ¶æ€:PENDING-å¾…å®¡æ‰¹,IN_PROGRESS-å®¡æ‰¹ä¸­,APPROVED-å·²é€šè¿‡,REJECTED-å·²æ‹’ç»,SKIPPED-å·²è·³è¿‡',

    `approver_id` BIGINT(20) COMMENT 'å®¡æ‰¹äººID',
    `approver_name` VARCHAR(100) COMMENT 'å®¡æ‰¹äººå§“å',
    `approver_role` VARCHAR(50) COMMENT 'å®¡æ‰¹äººè§’è‰²',

    `approval_action` VARCHAR(20) COMMENT 'å®¡æ‰¹åŠ¨ä½œ:APPROVE-é€šè¿‡,REJECT-æ‹’ç»,SKIP-è·³è¿‡,RETURN-é€€å›',
    `approval_comment` TEXT COMMENT 'å®¡æ‰¹æ„è§',
    `approval_time` DATETIME COMMENT 'å®¡æ‰¹æ—¶é—´',
    `approval_duration` INT COMMENT 'å®¡æ‰¹è€—æ—¶(åˆ†é’Ÿ)',

    `delegate_approver_id` BIGINT(20) COMMENT 'å§”æ‰˜å®¡æ‰¹äººID',
    `delegate_reason` VARCHAR(200) COMMENT 'å§”æ‰˜åŸå› ',

    `is_required` TINYINT(1) DEFAULT 1 COMMENT 'æ˜¯å¦å¿…éœ€:0-å¦,1-æ˜¯',
    `is_parallel` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦å¹¶è¡Œ:0-ä¸²è¡Œ,1-å¹¶è¡Œ',

    `timeout_setting` JSON COMMENT 'è¶…æ—¶è®¾ç½®JSON',
    `timeout_action` VARCHAR(20) COMMENT 'è¶…æ—¶åŠ¨ä½œ:APPROVE-è‡ªåŠ¨é€šè¿‡,REJECT-è‡ªåŠ¨æ‹’ç»,ESCALATE-å‡çº§',

    `step_result` JSON COMMENT 'æ­¥éª¤ç»“æœJSON',
    `step_log` JSON COMMENT 'æ­¥éª¤æ—¥å¿—JSON',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',

    PRIMARY KEY (`step_id`),
    UNIQUE KEY `uk_process_step` (`process_id`, `step_order`, `deleted_flag`),
    KEY `idx_process_id` (`process_id`),
    KEY `idx_step_status` (`step_status`),
    KEY `idx_approver_id` (`approver_id`),
    KEY `idx_step_order` (`step_order`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='å®¡æ‰¹æ­¥éª¤è¡¨';
```

### 5. ç”Ÿç‰©è¯†åˆ«ç›¸å…³è¡¨

#### 5.1 ç”Ÿç‰©è¯†åˆ«æ¨¡æ¿è¡¨ (access_biometric_template)

**è¡¨æè¿°**: å­˜å‚¨ç”¨æˆ·çš„ç”Ÿç‰©è¯†åˆ«æ¨¡æ¿æ•°æ®

```sql
CREATE TABLE `access_biometric_template` (
    `template_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'æ¨¡æ¿ID',
    `template_no` VARCHAR(50) NOT NULL COMMENT 'æ¨¡æ¿ç¼–å·',
    `user_id` BIGINT(20) NOT NULL COMMENT 'ç”¨æˆ·ID',
    `user_name` VARCHAR(100) NOT NULL COMMENT 'ç”¨æˆ·å§“å',

    `biometric_type` TINYINT(2) NOT NULL COMMENT 'ç”Ÿç‰©è¯†åˆ«ç±»å‹:1-äººè„¸,2-æŒ‡çº¹,3-è™¹è†œ,4-å£°çº¹,5-æŒçº¹',
    `biometric_subtype` VARCHAR(50) COMMENT 'ç”Ÿç‰©è¯†åˆ«å­ç±»å‹',
    `template_version` INT DEFAULT 1 COMMENT 'æ¨¡æ¿ç‰ˆæœ¬',

    `template_data` MEDIUMTEXT NOT NULL COMMENT 'æ¨¡æ¿æ•°æ®(åŠ å¯†)',
    `template_algorithm` VARCHAR(50) COMMENT 'æ¨¡æ¿ç®—æ³•',
    `template_quality` DECIMAL(5,4) COMMENT 'æ¨¡æ¿è´¨é‡åˆ†æ•°',
    `template_size` INT COMMENT 'æ¨¡æ¿å¤§å°(bytes)',

    `capture_device_id` BIGINT(20) COMMENT 'é‡‡é›†è®¾å¤‡ID',
    `capture_device_type` VARCHAR(50) COMMENT 'é‡‡é›†è®¾å¤‡ç±»å‹',
    `capture_time` DATETIME NOT NULL COMMENT 'é‡‡é›†æ—¶é—´',
    `capture_location` VARCHAR(100) COMMENT 'é‡‡é›†åœ°ç‚¹',

    `verification_method` VARCHAR(50) COMMENT 'éªŒè¯æ–¹å¼',
    `verification_count` INT DEFAULT 0 COMMENT 'éªŒè¯æ¬¡æ•°',
    `success_count` INT DEFAULT 0 COMMENT 'æˆåŠŸæ¬¡æ•°',
    `failure_count` INT DEFAULT 0 COMMENT 'å¤±è´¥æ¬¡æ•°',
    `last_verify_time` DATETIME COMMENT 'æœ€åéªŒè¯æ—¶é—´',

    `template_status` TINYINT(2) NOT NULL DEFAULT 1 COMMENT 'æ¨¡æ¿çŠ¶æ€:0-ç¦ç”¨,1-å¯ç”¨,2-è¿‡æœŸ,3-æŸå',
    `quality_level` TINYINT(2) DEFAULT 1 COMMENT 'è´¨é‡ç­‰çº§:1-ä½,2-ä¸­,3-é«˜',
    `security_level` TINYINT(2) DEFAULT 1 COMMENT 'å®‰å…¨ç­‰çº§:1-ä½,2-ä¸­,3-é«˜,4-æé«˜',

    `is_primary` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦ä¸»è¦æ¨¡æ¿:0-å¦,1-æ˜¯',
    `is_backup` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦å¤‡ä»½æ¨¡æ¿:0-å¦,1-æ˜¯',

    `encryption_method` VARCHAR(50) COMMENT 'åŠ å¯†æ–¹æ³•',
    `encryption_key_id` VARCHAR(100) COMMENT 'åŠ å¯†å¯†é’¥ID',

    `valid_start_time` DATETIME COMMENT 'æœ‰æ•ˆå¼€å§‹æ—¶é—´',
    `valid_end_time` DATETIME COMMENT 'æœ‰æ•ˆç»“æŸæ—¶é—´',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `create_user_id` BIGINT(20) COMMENT 'åˆ›å»ºäººID',
    `update_user_id` BIGINT(20) COMMENT 'æ›´æ–°äººID',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',

    PRIMARY KEY (`template_id`),
    UNIQUE KEY `uk_template_no` (`template_no`, `deleted_flag`),
    UNIQUE KEY `uk_user_biometric` (`user_id`, `biometric_type`, `biometric_subtype`, `deleted_flag`),
    KEY `idx_user_id` (`user_id`),
    KEY `idx_biometric_type` (`biometric_type`),
    KEY `idx_template_status` (`template_status`),
    KEY `idx_capture_time` (`capture_time`),
    KEY `idx_last_verify_time` (`last_verify_time`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç”Ÿç‰©è¯†åˆ«æ¨¡æ¿è¡¨';
```

#### 5.2 ç”Ÿç‰©è¯†åˆ«éªŒè¯è®°å½•è¡¨ (access_biometric_verify)

**è¡¨æè¿°**: å­˜å‚¨ç”Ÿç‰©è¯†åˆ«éªŒè¯çš„è¯¦ç»†è®°å½•

```sql
CREATE TABLE `access_biometric_verify` (
    `verify_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'éªŒè¯ID',
    `verify_no` VARCHAR(50) NOT NULL COMMENT 'éªŒè¯ç¼–å·',

    `template_id` BIGINT(20) NOT NULL COMMENT 'æ¨¡æ¿ID',
    `user_id` BIGINT(20) NOT NULL COMMENT 'ç”¨æˆ·ID',
    `user_name` VARCHAR(100) NOT NULL COMMENT 'ç”¨æˆ·å§“å',
    `biometric_type` TINYINT(2) NOT NULL COMMENT 'ç”Ÿç‰©è¯†åˆ«ç±»å‹',

    `device_id` BIGINT(20) NOT NULL COMMENT 'è®¾å¤‡ID',
    `device_name` VARCHAR(100) NOT NULL COMMENT 'è®¾å¤‡åç§°',
    `verify_scenario` VARCHAR(50) COMMENT 'éªŒè¯åœºæ™¯:access-é€šè¡Œ,registration-æ³¨å†Œ,management-ç®¡ç†',

    `input_data` MEDIUMTEXT COMMENT 'è¾“å…¥æ•°æ®(åŠ å¯†)',
    `template_data` MEDIUMTEXT COMMENT 'æ¨¡æ¿æ•°æ®(åŠ å¯†)',
    `comparison_algorithm` VARCHAR(50) COMMENT 'æ¯”å¯¹ç®—æ³•',

    `match_score` DECIMAL(5,4) COMMENT 'åŒ¹é…åˆ†æ•°',
    `match_threshold` DECIMAL(5,4) COMMENT 'åŒ¹é…é˜ˆå€¼',
    `match_result` TINYINT(1) COMMENT 'åŒ¹é…ç»“æœ:0-ä¸åŒ¹é…,1-åŒ¹é…',

    `liveness_check` TINYINT(1) DEFAULT 0 COMMENT 'æ´»ä½“æ£€æµ‹:0-æœªæ£€æµ‹,1-æ´»ä½“,2-éæ´»ä½“',
    `liveness_score` DECIMAL(5,4) COMMENT 'æ´»ä½“æ£€æµ‹åˆ†æ•°',
    `liveness_method` VARCHAR(50) COMMENT 'æ´»ä½“æ£€æµ‹æ–¹æ³•',

    `verify_result` TINYINT(2) NOT NULL COMMENT 'éªŒè¯ç»“æœ:0-æˆåŠŸ,1-å¤±è´¥,2-è¶…æ—¶,3-å–æ¶ˆ',
    `failure_reason` VARCHAR(200) COMMENT 'å¤±è´¥åŸå› ',
    `failure_code` VARCHAR(50) COMMENT 'å¤±è´¥ä»£ç ',

    `verify_time` DATETIME NOT NULL COMMENT 'éªŒè¯æ—¶é—´',
    `process_duration` INT COMMENT 'å¤„ç†æ—¶é•¿(ms)',
    `server_duration` INT COMMENT 'æœåŠ¡å™¨å¤„ç†æ—¶é•¿(ms)',

    `environment_info` JSON COMMENT 'ç¯å¢ƒä¿¡æ¯JSON',
    `device_info` JSON COMMENT 'è®¾å¤‡ä¿¡æ¯JSON',
    `verify_config` JSON COMMENT 'éªŒè¯é…ç½®JSON',

    `additional_data` JSON COMMENT 'é™„åŠ æ•°æ®JSON',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',

    PRIMARY KEY (`verify_id`),
    UNIQUE KEY `uk_verify_no` (`verify_no`, `deleted_flag`),
    KEY `idx_template_id` (`template_id`),
    KEY `idx_user_id` (`user_id`),
    KEY `idx_device_id` (`device_id`),
    KEY `idx_biometric_type` (`biometric_type`),
    KEY `idx_verify_result` (`verify_result`),
    KEY `idx_verify_time` (`verify_time`),
    KEY `idx_match_score` (`match_score`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç”Ÿç‰©è¯†åˆ«éªŒè¯è®°å½•è¡¨';
```

### 6. ç³»ç»Ÿé…ç½®ç›¸å…³è¡¨

#### 6.1 ç³»ç»Ÿå‚æ•°é…ç½®è¡¨ (access_system_config)

**è¡¨æè¿°**: å­˜å‚¨é—¨ç¦ç³»ç»Ÿçš„å„é¡¹é…ç½®å‚æ•°

```sql
CREATE TABLE `access_system_config` (
    `config_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'é…ç½®ID',
    `config_group` VARCHAR(50) NOT NULL COMMENT 'é…ç½®åˆ†ç»„',
    `config_key` VARCHAR(100) NOT NULL COMMENT 'é…ç½®é”®',
    `config_value` TEXT NOT NULL COMMENT 'é…ç½®å€¼',
    `config_desc` VARCHAR(500) COMMENT 'é…ç½®æè¿°',

    `data_type` VARCHAR(20) DEFAULT 'STRING' COMMENT 'æ•°æ®ç±»å‹:STRING,NUMBER,BOOLEAN,JSON,ARRAY',
    `value_range` VARCHAR(200) COMMENT 'å–å€¼èŒƒå›´',
    `default_value` TEXT COMMENT 'é»˜è®¤å€¼',

    `is_encrypted` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦åŠ å¯†:0-å¦,1-æ˜¯',
    `is_readonly` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦åªè¯»:0-å¦,1-æ˜¯',
    `is_required` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦å¿…éœ€:0-å¦,1-æ˜¯',
    `is_system` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦ç³»ç»Ÿé…ç½®:0-å¦,1-æ˜¯',

    `validation_rule` VARCHAR(200) COMMENT 'éªŒè¯è§„åˆ™',
    `display_name` VARCHAR(100) COMMENT 'æ˜¾ç¤ºåç§°',
    `display_order` INT DEFAULT 0 COMMENT 'æ˜¾ç¤ºé¡ºåº',

    `config_category` VARCHAR(50) COMMENT 'é…ç½®åˆ†ç±»:security-å®‰å…¨,performance-æ€§èƒ½,function-åŠŸèƒ½,interface-æ¥å£',
    `config_level` TINYINT(2) DEFAULT 1 COMMENT 'é…ç½®çº§åˆ«:1-åŸºç¡€,2-é«˜çº§,3-ä¸“å®¶',

    `hot_reload` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦çƒ­åŠ è½½:0-å¦,1-æ˜¯',
    `restart_required` TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦éœ€è¦é‡å¯:0-å¦,1-æ˜¯',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
    `create_user_id` BIGINT(20) COMMENT 'åˆ›å»ºäººID',
    `update_user_id` BIGINT(20) COMMENT 'æ›´æ–°äººID',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',

    PRIMARY KEY (`config_id`),
    UNIQUE KEY `uk_config_key` (`config_group`, `config_key`, `deleted_flag`),
    KEY `idx_config_group` (`config_group`),
    KEY `idx_config_category` (`config_category`),
    KEY `idx_config_level` (`config_level`),
    KEY `idx_display_order` (`display_order`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç³»ç»Ÿå‚æ•°é…ç½®è¡¨';
```

#### 6.2 æ“ä½œæ—¥å¿—è¡¨ (access_operation_log)

**è¡¨æè¿°**: å­˜å‚¨é—¨ç¦ç³»ç»Ÿçš„æ“ä½œæ—¥å¿—

```sql
CREATE TABLE `access_operation_log` (
    `log_id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT 'æ—¥å¿—ID',
    `log_no` VARCHAR(50) NOT NULL COMMENT 'æ—¥å¿—ç¼–å·',
    `log_type` TINYINT(2) NOT NULL COMMENT 'æ—¥å¿—ç±»å‹:1-è®¾å¤‡æ“ä½œ,2-æƒé™æ“ä½œ,3-ç”¨æˆ·æ“ä½œ,4-ç³»ç»Ÿæ“ä½œ',
    `log_category` VARCHAR(50) NOT NULL COMMENT 'æ—¥å¿—åˆ†ç±»',

    `operator_id` BIGINT(20) NOT NULL COMMENT 'æ“ä½œäººID',
    `operator_name` VARCHAR(100) NOT NULL COMMENT 'æ“ä½œäººå§“å',
    `operator_type` TINYINT(2) COMMENT 'æ“ä½œäººç±»å‹:1-ç®¡ç†å‘˜,2-ç”¨æˆ·,3-ç³»ç»Ÿ',
    `operator_dept` VARCHAR(100) COMMENT 'æ“ä½œäººéƒ¨é—¨',

    `operation_name` VARCHAR(100) NOT NULL COMMENT 'æ“ä½œåç§°',
    `operation_desc` VARCHAR(500) COMMENT 'æ“ä½œæè¿°',
    `operation_result` TINYINT(2) NOT NULL COMMENT 'æ“ä½œç»“æœ:0-æˆåŠŸ,1-å¤±è´¥,2-éƒ¨åˆ†æˆåŠŸ',

    `target_type` VARCHAR(50) COMMENT 'ç›®æ ‡ç±»å‹',
    `target_id` BIGINT(20) COMMENT 'ç›®æ ‡ID',
    `target_name` VARCHAR(100) COMMENT 'ç›®æ ‡åç§°',

    `operation_data` JSON COMMENT 'æ“ä½œæ•°æ®JSON',
    `before_data` JSON COMMENT 'æ“ä½œå‰æ•°æ®JSON',
    `after_data` JSON COMMENT 'æ“ä½œåæ•°æ®JSON',

    `client_info` JSON COMMENT 'å®¢æˆ·ç«¯ä¿¡æ¯JSON',
    `network_info` JSON COMMENT 'ç½‘ç»œä¿¡æ¯JSON',
    `device_info` JSON COMMENT 'è®¾å¤‡ä¿¡æ¯JSON',

    `ip_address` VARCHAR(15) COMMENT 'IPåœ°å€',
    `user_agent` VARCHAR(500) COMMENT 'ç”¨æˆ·ä»£ç†',
    `request_id` VARCHAR(100) COMMENT 'è¯·æ±‚ID',
    `session_id` VARCHAR(100) COMMENT 'ä¼šè¯ID',

    `risk_level` TINYINT(2) DEFAULT 0 COMMENT 'é£é™©ç­‰çº§:0-æ— é£é™©,1-ä½,2-ä¸­,3-é«˜,4-æé«˜',
    `security_level` TINYINT(2) DEFAULT 1 COMMENT 'å®‰å…¨ç­‰çº§:1-å…¬å¼€,2-å†…éƒ¨,3-æœºå¯†,4-ç»å¯†',

    `operation_time` DATETIME NOT NULL COMMENT 'æ“ä½œæ—¶é—´',
    `duration` INT COMMENT 'æ“ä½œè€—æ—¶(ms)',

    `error_code` VARCHAR(50) COMMENT 'é”™è¯¯ä»£ç ',
    `error_message` TEXT COMMENT 'é”™è¯¯ä¿¡æ¯',

    `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    `deleted_flag` TINYINT(1) NOT NULL DEFAULT 0 COMMENT 'åˆ é™¤æ ‡å¿—',

    PRIMARY KEY (`log_id`),
    UNIQUE KEY `uk_log_no` (`log_no`, `deleted_flag`),
    KEY `idx_operator_id` (`operator_id`),
    KEY `idx_log_type` (`log_type`),
    KEY `idx_log_category` (`log_category`),
    KEY `idx_operation_result` (`operation_result`),
    KEY `idx_target_type` (`target_type`),
    KEY `idx_operation_time` (`operation_time`),
    KEY `idx_risk_level` (`risk_level`),
    KEY `idx_ip_address` (`ip_address`),
    KEY `idx_create_time` (`create_time`),
    KEY `idx_deleted_flag` (`deleted_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='æ“ä½œæ—¥å¿—è¡¨';
```

---

## ğŸ” ç´¢å¼•è®¾è®¡ç­–ç•¥

### 1. ä¸»é”®ç´¢å¼•

æ‰€æœ‰è¡¨éƒ½ä½¿ç”¨`BIGINT AUTO_INCREMENT`ä½œä¸ºä¸»é”®ï¼Œç¡®ä¿é«˜æ€§èƒ½çš„æ’å…¥å’ŒæŸ¥è¯¢ã€‚

### 2. å”¯ä¸€ç´¢å¼•

ä¸ºä¸šåŠ¡å”¯ä¸€æ€§å­—æ®µå»ºç«‹å”¯ä¸€ç´¢å¼•ï¼š
- è®¾å¤‡ç¼–å·ã€åºåˆ—å·
- æƒé™ç¼–å·ã€ç”¨æˆ·è®¾å¤‡å…³ç³»
- æ¨¡æ¿ç¼–å·ã€ç”¨æˆ·ç”Ÿç‰©è¯†åˆ«å…³ç³»
- æµç¨‹ç¼–å·ã€æ­¥éª¤å…³ç³»

### 3. å¤åˆç´¢å¼•

ä¸ºå¸¸ç”¨æŸ¥è¯¢æ¡ä»¶å»ºç«‹å¤åˆç´¢å¼•ï¼š
- ç”¨æˆ·ID + è®¿é—®æ—¶é—´ï¼ˆé€šè¡Œè®°å½•æŸ¥è¯¢ï¼‰
- è®¾å¤‡ID + è®¿é—®æ—¶é—´ï¼ˆè®¾å¤‡é€šè¡Œç»Ÿè®¡ï¼‰
- æƒé™çŠ¶æ€ + æœ‰æ•ˆæ—¶é—´ï¼ˆæƒé™éªŒè¯ï¼‰
- å®¡æ‰¹çŠ¶æ€ + å½“å‰å®¡æ‰¹äººï¼ˆå®¡æ‰¹æµç¨‹ï¼‰

### 4. åˆ†åŒºç´¢å¼•

å¯¹å¤§æ•°æ®é‡è¡¨æŒ‰æ—¶é—´åˆ†åŒºï¼š
- é€šè¡Œè®°å½•è¡¨æŒ‰æœˆåˆ†åŒº
- æ“ä½œæ—¥å¿—è¡¨æŒ‰æœˆåˆ†åŒº
- ç”Ÿç‰©è¯†åˆ«éªŒè¯è®°å½•è¡¨æŒ‰æœˆåˆ†åŒº

---

## ğŸ”’ æ•°æ®å®‰å…¨è®¾è®¡

### 1. æ•æ„Ÿæ•°æ®åŠ å¯†

#### åŠ å¯†ç­–ç•¥
- **ç”Ÿç‰©è¯†åˆ«æ•°æ®**: ä½¿ç”¨AES-256åŠ å¯†å­˜å‚¨
- **å¯†ç æ•°æ®**: ä½¿ç”¨BCryptåŠ å¯†å­˜å‚¨
- **é…ç½®æ•°æ®**: å…³é”®é…ç½®ä¿¡æ¯åŠ å¯†å­˜å‚¨

#### åŠ å¯†å®ç°
```java
@Component
public class DataEncryptionUtil {

    @Value("${access.encryption.key}")
    private String encryptionKey;

    public String encrypt(String plaintext) {
        // AESåŠ å¯†å®ç°
    }

    public String decrypt(String ciphertext) {
        // AESè§£å¯†å®ç°
    }
}
```

### 2. æ•°æ®è„±æ•

#### è„±æ•è§„åˆ™
- **èº«ä»½è¯å·**: åªæ˜¾ç¤ºå‰6ä½å’Œå4ä½
- **æ‰‹æœºå·ç **: åªæ˜¾ç¤ºå‰3ä½å’Œå4ä½
- **é“¶è¡Œå¡å·**: åªæ˜¾ç¤ºå‰4ä½å’Œå4ä½
- **å§“å**: æ ¹æ®æƒé™çº§åˆ«æ˜¾ç¤º

#### è„±æ•å®ç°
```java
@Component
public class DataMaskUtil {

    public String maskIdCard(String idCard) {
        if (StringUtils.isBlank(idCard) || idCard.length() < 8) {
            return idCard;
        }
        return idCard.substring(0, 6) + "********" + idCard.substring(idCard.length() - 4);
    }

    public String maskPhone(String phone) {
        if (StringUtils.isBlank(phone) || phone.length() < 7) {
            return phone;
        }
        return phone.substring(0, 3) + "****" + phone.substring(phone.length() - 4);
    }
}
```

### 3. è®¿é—®æ§åˆ¶

#### æ•°æ®æƒé™
- **è¡Œçº§æƒé™**: åŸºäºç”¨æˆ·IDå’Œéƒ¨é—¨çš„è¡Œçº§æƒé™æ§åˆ¶
- **åˆ—çº§æƒé™**: åŸºäºè§’è‰²å’Œæƒé™çš„åˆ—çº§æƒé™æ§åˆ¶
- **å­—æ®µæƒé™**: æ•æ„Ÿå­—æ®µè®¿é—®æƒé™æ§åˆ¶

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. æ•°æ®åº“ä¼˜åŒ–

#### è¿æ¥æ± é…ç½®
```yaml
spring:
  datasource:
    druid:
      initial-size: 10
      min-idle: 10
      max-active: 50
      max-wait: 60000
      time-between-eviction-runs-millis: 60000
      min-evictable-idle-time-millis: 300000
      validation-query: SELECT 1
      test-while-idle: true
      test-on-borrow: false
      test-on-return: false
```

#### æŸ¥è¯¢ä¼˜åŒ–
- **åˆ†é¡µæŸ¥è¯¢**: ä½¿ç”¨æ¸¸æ ‡åˆ†é¡µæ›¿ä»£æ·±åº¦åˆ†é¡µ
- **ç´¢å¼•ä¼˜åŒ–**: ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µå»ºç«‹åˆé€‚ç´¢å¼•
- **SQLä¼˜åŒ–**: é¿å…SELECT *ï¼ŒåªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ

### 2. ç¼“å­˜ä¼˜åŒ–

#### Redisç¼“å­˜ç­–ç•¥
```java
@Service
public class AccessPermissionCacheService {

    @Resource
    private RedisTemplate<String, Object> redisTemplate;

    @Cacheable(value = "access:permission", key = "#userId + ':' + #deviceId")
    public AccessPermissionVO getPermission(Long userId, Long deviceId) {
        // æƒé™æŸ¥è¯¢é€»è¾‘
    }

    @CacheEvict(value = "access:permission", key = "#userId + ':' + #deviceId")
    public void evictPermission(Long userId, Long deviceId) {
        // æƒé™æ¸…é™¤é€»è¾‘
    }
}
```

### 3. åˆ†åº“åˆ†è¡¨

#### åˆ†è¡¨ç­–ç•¥
- **æ°´å¹³åˆ†è¡¨**: æŒ‰ç”¨æˆ·IDå“ˆå¸Œå€¼åˆ†è¡¨
- **å‚ç›´åˆ†è¡¨**: æŒ‰ä¸šåŠ¡æ¨¡å—åˆ†è¡¨
- **æ—¶é—´åˆ†è¡¨**: å¤§æ•°æ®é‡è¡¨æŒ‰æ—¶é—´åˆ†è¡¨

---

## ğŸ”„ æ•°æ®è¿ç§»æ–¹æ¡ˆ

### 1. ç‰ˆæœ¬å‡çº§

#### Flywayç‰ˆæœ¬æ§åˆ¶
```sql
-- V1.0.0__create_access_tables.sql
CREATE TABLE `access_device` (...);

-- V1.1.0__add_biometric_support.sql
ALTER TABLE `access_device` ADD COLUMN `biometric_support` VARCHAR(100);

-- V1.2.0__add_partition_tables.sql
CREATE TABLE `access_record_202501` (...);
```

### 2. æ•°æ®åŒæ­¥

#### ä¸»ä»åŒæ­¥
- **ä¸»åº“**: è´Ÿè´£å†™æ“ä½œ
- **ä»åº“**: è´Ÿè´£è¯»æ“ä½œ
- **åŒæ­¥å»¶è¿Ÿ**: æ§åˆ¶åœ¨1ç§’ä»¥å†…

---

## ğŸ“ ç›‘æ§ä¸ç»´æŠ¤

### 1. æ•°æ®åº“ç›‘æ§

#### æ€§èƒ½æŒ‡æ ‡
- **è¿æ¥æ•°**: å½“å‰è¿æ¥æ•°ã€æœ€å¤§è¿æ¥æ•°
- **æŸ¥è¯¢æ€§èƒ½**: æ…¢æŸ¥è¯¢ç›‘æ§ã€ç´¢å¼•ä½¿ç”¨ç‡
- **å­˜å‚¨ç©ºé—´**: è¡¨ç©ºé—´ä½¿ç”¨ç‡ã€å¢é•¿è¶‹åŠ¿

#### ç›‘æ§SQL
```sql
-- æ…¢æŸ¥è¯¢ç›‘æ§
SELECT query_time, lock_time, rows_sent, rows_examined, sql_text
FROM mysql.slow_log
WHERE start_time > DATE_SUB(NOW(), INTERVAL 1 HOUR)
ORDER BY query_time DESC;

-- ç´¢å¼•ä½¿ç”¨ç‡
SELECT table_name, index_name, cardinality,
       sub_part, packed, nullable, index_type
FROM information_schema.statistics
WHERE table_schema = 'ioedream_access';
```

### 2. æ•°æ®å¤‡ä»½

#### å¤‡ä»½ç­–ç•¥
- **å…¨é‡å¤‡ä»½**: æ¯æ—¥å‡Œæ™¨è¿›è¡Œå…¨é‡å¤‡ä»½
- **å¢é‡å¤‡ä»½**: æ¯å°æ—¶è¿›è¡Œå¢é‡å¤‡ä»½
- **å¤‡ä»½ä¿ç•™**: ä¿ç•™30å¤©å¤‡ä»½æ•°æ®

---

**ğŸ“ æŠ€æœ¯æ”¯æŒ**: å¦‚æœ‰æ•°æ®åº“è®¾è®¡é—®é¢˜ï¼Œè¯·è”ç³»IOE-DREAMæ•°æ®åº“å›¢é˜Ÿã€‚

---

*æœ¬æ–‡æ¡£éµå¾ªIOE-DREAMæ•°æ®åº“è®¾è®¡è§„èŒƒï¼Œç¡®ä¿æ•°æ®åº“è®¾è®¡çš„åˆç†æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚*