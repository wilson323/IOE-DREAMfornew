# 考勤模块用户操作手册

## 1. 概述

考勤模块是SmartAdmin企业级快速开发平台的重要组成部分，提供完整的员工考勤管理功能，包括打卡、排班、统计分析等核心功能。

### 1.1 功能特点

- **实时打卡**: 支持上班/下班打卡，记录精确时间
- **位置验证**: 基于GPS位置验证打卡有效性
- **多种打卡方式**: 支持位置打卡、设备验证、拍照验证
- **排班管理**: 灵活的排班设置和管理
- **统计分析**: 多维度考勤数据统计和分析
- **规则配置**: 可配置的考勤规则和异常处理
- **移动端支持**: 支持手机APP打卡和管理

### 1.2 适用对象

- 企业员工：日常打卡、查看考勤记录
- 部门主管：查看部门考勤统计
- HR人员：考勤数据管理和分析
- 系统管理员：系统配置和维护

## 2. 考勤打卡

### 2.1 打卡操作

1. 登录系统后，进入"考勤"模块
2. 点击"考勤打卡"页面
3. 系统会自动获取当前时间和位置信息
4. 点击"上班打卡"或"下班打卡"按钮完成打卡
5. 打卡成功后会显示打卡时间和位置信息

### 2.2 打卡验证

系统支持多种打卡验证方式：

- **位置验证**: 验证打卡位置是否在允许范围内
- **设备验证**: 验证打卡设备是否为授权设备
- **拍照验证**: 要求上传现场照片作为打卡凭证

### 2.3 打卡记录查询

1. 在"考勤打卡"页面可以查看当日打卡记录
2. 在"考勤记录"页面可以查询历史打卡记录
3. 支持按日期范围、员工等条件筛选查询

## 3. 排班管理
## 📋 IOE-DREAM七微服务架构

**核心架构组成**:
- **Gateway Service (8080)**: API网关
- **Common Service (8088)**: 公共模块微服务
- **DeviceComm Service (8087)**: 设备通讯微服务
- **OA Service (8089)**: OA微服务
- **Access Service (8090)**: 门禁服务
- **Attendance Service (8091)**: 考勤服务
- **Video Service (8092)**: 视频服务
- **Consume Service (8094)**: 消费服务
- **Visitor Service (8095)**: 访客服务

**架构特点**:
- 基于Spring Boot 3.5.8 + Java 17
- 严格遵循企业级微服务规范
- 支持高并发、高可用、水平扩展

**技术栈标准**:
- **数据库**: MySQL 8.0 + Druid连接池
- **缓存**: Redis + Caffeine多级缓存
- **注册中心**: Nacos
- **配置中心**: Nacos Config
- **认证授权**: Sa-Token

## 🏗️ 四层架构规范

**标准架构模式**:
```
Controller (接口控制层)
    ↓
Service (核心业务层)
    ↓
Manager (流程管理层)
    ↓
DAO (数据访问层)
```

**层级职责**:
- **Controller层**: HTTP请求处理、参数验证、权限控制
- **Service层**: 核心业务逻辑、事务管理、业务规则验证
- **Manager层**: 复杂流程编排、多数据组装、第三方服务集成
- **DAO层**: 数据库CRUD操作、SQL查询实现、数据访问边界

**严格禁止跨层访问**: Controller不能直接调用Manager/DAO！
### 3.1 查看排班
## ⚠️ IOE-DREAM零容忍规则（强制执行）

**必须遵守的架构规则**:
- ✅ **必须使用 @Resource 注入依赖**
- ✅ **必须使用 @Mapper 注解** (禁止@Repository)
- ✅ **必须使用 Dao 后缀** (禁止Repository)
- ✅ **必须使用 @RestController 注解**
- ✅ **必须使用 @Valid 参数校验**
- ✅ **必须返回统一ResponseDTO格式**
- ✅ **必须遵循四层架构边界**

**严格禁止事项**:
- ❌ **禁止使用 @Autowired 注入**
- ❌ **禁止使用 @Repository 注解**
- ❌ **禁止使用 Repository 后缀命名**
- ❌ **禁止跨层访问**
- ❌ **禁止在Controller中包含业务逻辑**
- ❌ **禁止直接访问数据库**

**违规后果**: P0级问题，立即修复，禁止合并！

1. 进入"排班管理"页面
2. 选择查看的月份
3. 系统以日历形式展示月度排班信息
4. 点击具体日期可查看详细排班信息

### 3.2 排班类型

- **正常班**: 标准工作时间
- **早班**: 早班工作时间
- **晚班**: 晚班工作时间
- **夜班**: 夜班工作时间
- **休息**: 休息日

## 4. 考勤统计

### 4.1 个人统计

员工可以查看自己的考勤统计信息：
- 应出勤天数
- 实际出勤天数
- 迟到次数
- 早退次数
- 缺勤天数
- 加班时长

### 4.2 部门统计

部门主管可以查看本部门的考勤统计：
- 部门整体出勤率
- 迟到早退统计
- 缺勤统计
- 加班统计

### 4.3 公司统计

HR人员可以查看全公司的考勤统计：
- 各部门出勤情况对比
- 公司整体出勤率
- 考勤异常分析

## 5. 补卡申请

### 5.1 申请流程

1. 进入"补卡申请"页面
2. 填写补卡申请表单
3. 选择补卡日期和原因
4. 提交申请并等待审批

### 5.2 申请记录查询

1. 在"补卡申请"页面可以查看申请记录
2. 支持查看申请状态（待审批/已通过/已拒绝）
3. 可以撤销未审批的申请

## 6. 移动端操作

### 6.1 手机打卡

1. 打开企业APP
2. 进入"考勤"模块
3. 点击"打卡"按钮
4. 确认位置信息后完成打卡

### 6.2 移动端查询

- 支持查看个人考勤记录
- 支持查看排班信息
- 支持提交补卡申请

## 7. 常见问题

### 7.1 打卡失败怎么办？

1. 检查网络连接是否正常
2. 检查GPS定位是否开启
3. 确认是否在允许的打卡位置范围内
4. 联系管理员检查设备授权状态

### 7.2 忘记打卡怎么办？

1. 在规定时间内提交补卡申请
2. 说明忘记打卡的原因
3. 等待上级审批

### 7.3 排班有误如何处理？

1. 联系直属上级或HR人员
2. 由有权限的人员修改排班信息
3. 系统会自动更新相关统计信息

## 8. 注意事项

1. 请按时打卡，避免迟到早退
2. 打卡时确保网络连接正常
3. 在规定范围内进行打卡
4. 如遇特殊情况及时提交补卡申请
5. 保护好个人账号和设备安全

---
**文档版本**: v1.0.0
**更新时间**: 2025-11-17
**适用系统**: SmartAdmin v3