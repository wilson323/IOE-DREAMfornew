# 访客管理微服务 - 开发环境配置

# 数据库配置 (开发环境)
spring:
  datasource:
    url: jdbc:mysql://192.168.10.110:33060/smart_admin_v3?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf8&autoReconnect=true&useSSL=false&allowPublicKeyRetrieval=true
    username: root
    password: ''
    druid:
      initial-size: 2
      min-idle: 2
      max-active: 10

  # Redis配置 (开发环境)
  data:
    redis:
      host: 127.0.0.1
      port: 6389
      password: zkteco3100
      database: 2
      lettuce:
        pool:
          max-active: 8
          max-idle: 8

# MyBatis-Plus配置 (开发环境)
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

# Sa-Token配置 (开发环境)
sa-token:
  # 开发环境token有效期较短，方便测试
  timeout: 7200  # 2小时
  is-log: true  # 开发环境开启日志

# 日志配置 (开发环境)
logging:
  level:
    net.lab1024.sa.visitor: debug
    net.lab1024.sa.base: debug
    com.baomidou.mybatisplus: debug
    org.springframework.web: debug
  pattern:
    console: '%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr([%thread]){blue} %clr(%-5level){cyan} %clr(%logger{50}){magenta} - %msg%n'

# 访客管理业务配置
visitor:
  # 访客预约配置
  appointment:
    # 预约提前天数限制
    max-advance-days: 7
    # 预约时间段最小间隔(分钟)
    min-interval-minutes: 30
    # 每日最大预约数量
    max-daily-appointments: 100

  # 访客权限配置
  permission:
    # 默认访问权限级别
    default-level: 1
    # 访客通行有效期(小时)
    access-duration-hours: 8
    # 支持的证件类型
    supported-id-types: ID_CARD, PASSPORT, TEMP_CARD

  # 通知配置
  notification:
    # 预约提醒提前时间(分钟)
    appointment-reminder-minutes: 30
    # 访客离开提醒时间(分钟)
    departure-reminder-minutes: 15
    # 是否启用短信通知
    sms-enabled: true
    # 是否启用邮件通知
    email-enabled: false

  # 数据同步配置
  sync:
    # 与access模块数据同步间隔(秒)
    access-sync-interval: 60
    # 是否自动同步访客状态
    auto-sync-status: true