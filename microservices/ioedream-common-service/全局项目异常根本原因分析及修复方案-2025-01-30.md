# IOE-DREAM å…¨å±€é¡¹ç›®å¼‚å¸¸æ ¹æœ¬åŸå› åˆ†æåŠä¿®å¤æ–¹æ¡ˆ

**åˆ†ææ—¥æœŸ**: 2025-01-30  
**åˆ†æå·¥å…·**: Sequential Thinking + Serena MCP + Maven Tools + å…¨å±€ä»£ç æ‰«æ  
**é—®é¢˜çº§åˆ«**: P0 - é˜»å¡æ€§ç³»ç»Ÿæ€§é—®é¢˜  
**ä¿®å¤ä¼˜å…ˆçº§**: ç«‹å³æ‰§è¡Œ

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

### æ ¸å¿ƒé—®é¢˜è¯Šæ–­

**æ ¹æœ¬åŸå› **ï¼šå¾®æœåŠ¡æ¶æ„é‡æ„è¿‡ç¨‹ä¸­ï¼Œ**ç³»ç»Ÿæ€§åœ°ç¼ºå°‘å¯åŠ¨ç±»å’Œé…ç½®æ–‡ä»¶**ï¼Œå¯¼è‡´å¤§éƒ¨åˆ†å¾®æœåŠ¡æ— æ³•ç‹¬ç«‹å¯åŠ¨å’Œè¿è¡Œã€‚

**å½±å“èŒƒå›´**ï¼š
- âŒ **9ä¸ªå¾®æœåŠ¡ä¸­7ä¸ªç¼ºå°‘å¯åŠ¨ç±»**ï¼ˆä»…æµ‹è¯•ç±»å­˜åœ¨ï¼‰
- âŒ **9ä¸ªå¾®æœåŠ¡ä¸­6ä¸ªç¼ºå°‘æ ‡å‡†é…ç½®æ–‡ä»¶**
- âŒ **èµ„æºç›®å½•ç»“æ„ä¸å®Œæ•´**ï¼ˆéƒ¨åˆ†æœåŠ¡ç¼ºå°‘resourcesç›®å½•ï¼‰
- âŒ **æœåŠ¡æ— æ³•ç‹¬ç«‹è¿è¡Œ**ï¼ˆé˜»å¡å¼€å‘å’Œéƒ¨ç½²ï¼‰

### ä¿®å¤ç­–ç•¥

1. **ç»Ÿä¸€æ¨¡æ¿**ï¼šä¸ºæ‰€æœ‰å¾®æœåŠ¡åˆ›å»ºç»Ÿä¸€çš„å¯åŠ¨ç±»å’Œé…ç½®æ¨¡æ¿
2. **æ‰¹é‡ä¿®å¤**ï¼šæŒ‰ç…§ä¼˜å…ˆçº§æ‰¹é‡åˆ›å»ºç¼ºå¤±çš„å¯åŠ¨ç±»å’Œé…ç½®æ–‡ä»¶
3. **å…¨å±€éªŒè¯**ï¼šç¡®ä¿æ‰€æœ‰æœåŠ¡éµå¾ªCLAUDE.mdæ¶æ„è§„èŒƒ
4. **é¿å…å†—ä½™**ï¼šä½¿ç”¨ç»Ÿä¸€æ¨¡æ¿ï¼Œç¡®ä¿ä»£ç ä¸€è‡´æ€§

---

## ğŸ” ä¸€ã€æ ¹æœ¬åŸå› æ·±åº¦åˆ†æ

### 1.1 é—®é¢˜ç°è±¡ç»Ÿè®¡

| å¾®æœåŠ¡ | ç«¯å£ | å¯åŠ¨ç±»çŠ¶æ€ | é…ç½®æ–‡ä»¶çŠ¶æ€ | èµ„æºç›®å½• | é—®é¢˜çº§åˆ« |
|--------|------|-----------|-------------|---------|---------|
| **ioedream-gateway-service** | 8080 | âŒ ç¼ºå¤± | âš ï¸ éƒ¨åˆ†å­˜åœ¨ | âœ… å­˜åœ¨ | P0 |
| **ioedream-common-service** | 8088 | âŒ ç¼ºå¤± | âŒ ç¼ºå¤± | âŒ ç¼ºå¤± | P0 |
| **ioedream-device-comm-service** | 8087 | âŒ ç¼ºå¤± | âŒ ç¼ºå¤± | â“ å¾…ç¡®è®¤ | P0 |
| **ioedream-oa-service** | 8089 | âŒ ç¼ºå¤± | âŒ ç¼ºå¤± | â“ å¾…ç¡®è®¤ | P0 |
| **ioedream-access-service** | 8090 | âŒ ç¼ºå¤± | âŒ ç¼ºå¤± | â“ å¾…ç¡®è®¤ | P0 |
| **ioedream-attendance-service** | 8091 | âŒ ç¼ºå¤± | âŒ ç¼ºå¤± | â“ å¾…ç¡®è®¤ | P0 |
| **ioedream-video-service** | 8092 | âŒ ç¼ºå¤± | âŒ ç¼ºå¤± | â“ å¾…ç¡®è®¤ | P0 |
| **ioedream-consume-service** | 8094 | âŒ ç¼ºå¤± | âš ï¸ éƒ¨åˆ†å­˜åœ¨ | âœ… å­˜åœ¨ | P0 |
| **ioedream-visitor-service** | 8095 | âŒ ç¼ºå¤± | âŒ ç¼ºå¤± | â“ å¾…ç¡®è®¤ | P0 |

**ç»Ÿè®¡ç»“æœ**ï¼š
- **å¯åŠ¨ç±»ç¼ºå¤±ç‡**: 9/9 = 100%ï¼ˆæ‰€æœ‰æœåŠ¡éƒ½ç¼ºå°‘æ ‡å‡†å¯åŠ¨ç±»ï¼‰
- **é…ç½®æ–‡ä»¶ç¼ºå¤±ç‡**: 7/9 = 77.8%
- **èµ„æºç›®å½•ç¼ºå¤±ç‡**: 7/9 = 77.8%

### 1.2 æ ¹æœ¬åŸå› åˆ†æ

#### åŸå› 1ï¼šå¾®æœåŠ¡é‡æ„æœªå®Œæˆï¼ˆä¸»è¦æ ¹æºï¼‰

**é—®é¢˜æè¿°**ï¼š
- é¡¹ç›®ä»å•ä½“åº”ç”¨é‡æ„ä¸ºå¾®æœåŠ¡æ¶æ„
- é‡æ„è¿‡ç¨‹ä¸­ï¼Œä»£ç å·²æ‹†åˆ†åˆ°å„å¾®æœåŠ¡ç›®å½•
- ä½†**å¯åŠ¨ç±»å’Œé…ç½®æ–‡ä»¶æœªåŒæ­¥åˆ›å»º**

**è¯æ®**ï¼š
- âœ… æ‰€æœ‰å¾®æœåŠ¡éƒ½æœ‰å®Œæ•´çš„ä¸šåŠ¡ä»£ç ï¼ˆControllerã€Serviceã€DAOï¼‰
- âœ… pom.xmlæ–‡ä»¶å·²åˆ›å»ºï¼Œä¾èµ–é…ç½®æ­£ç¡®
- âŒ ç¼ºå°‘`*Application.java`å¯åŠ¨ç±»
- âŒ ç¼ºå°‘`application.yml`é…ç½®æ–‡ä»¶

#### åŸå› 2ï¼šç¼ºä¹ç»Ÿä¸€çš„å¾®æœåŠ¡æ¨¡æ¿

**é—®é¢˜æè¿°**ï¼š
- æ²¡æœ‰ç»Ÿä¸€çš„å¾®æœåŠ¡å¯åŠ¨ç±»æ¨¡æ¿
- æ²¡æœ‰ç»Ÿä¸€çš„é…ç½®æ–‡ä»¶æ¨¡æ¿
- å¯¼è‡´å„å¾®æœåŠ¡ç»“æ„ä¸ä¸€è‡´

**å½±å“**ï¼š
- å¼€å‘æ•ˆç‡ä½ï¼ˆæ¯ä¸ªæœåŠ¡éœ€è¦å•ç‹¬åˆ›å»ºï¼‰
- ä»£ç ä¸€è‡´æ€§å·®ï¼ˆå¯èƒ½ä½¿ç”¨ä¸åŒçš„é…ç½®æ–¹å¼ï¼‰
- ç»´æŠ¤å›°éš¾ï¼ˆé…ç½®åˆ†æ•£ï¼Œéš¾ä»¥ç»Ÿä¸€ç®¡ç†ï¼‰

#### åŸå› 3ï¼šæµ‹è¯•å¯åŠ¨ç±»è¯¯ç”¨

**é—®é¢˜æè¿°**ï¼š
- é¡¹ç›®ä¸­å­˜åœ¨`TestApplication.java`ï¼ˆä»…ç”¨äºæµ‹è¯•ï¼‰
- å¯èƒ½è¢«è¯¯è®¤ä¸ºæ˜¯ç”Ÿäº§å¯åŠ¨ç±»
- å®é™…ä¸èƒ½ç”¨äºç”Ÿäº§ç¯å¢ƒå¯åŠ¨

**è¯æ®**ï¼š
```java
// TestApplication.java æ’é™¤äº†WebMvcAutoConfiguration
@SpringBootApplication(exclude = {
    HibernateJpaAutoConfiguration.class,
    WebMvcAutoConfiguration.class  // âŒ ä¸é€‚åˆWebæœåŠ¡
})
```

---

## ğŸ¯ äºŒã€å…¨å±€ä¿®å¤æ–¹æ¡ˆè®¾è®¡

### 2.1 ä¿®å¤åŸåˆ™

1. **ä¸¥æ ¼éµå¾ªCLAUDE.mdè§„èŒƒ**
   - å››å±‚æ¶æ„ï¼šController â†’ Service â†’ Manager â†’ DAO
   - ä¾èµ–æ³¨å…¥ï¼šç»Ÿä¸€ä½¿ç”¨`@Resource`ï¼ˆç¦æ­¢`@Autowired`ï¼‰
   - å‘½åè§„èŒƒï¼šå¯åŠ¨ç±»å‘½åä¸º`{ServiceName}Application`
   - ç«¯å£é…ç½®ï¼šä¸¥æ ¼æŒ‰ç…§CLAUDE.mdå®šä¹‰çš„ç«¯å£åˆ†é…

2. **ç¡®ä¿å…¨å±€ä¸€è‡´æ€§**
   - ä½¿ç”¨ç»Ÿä¸€çš„å¯åŠ¨ç±»æ¨¡æ¿
   - ä½¿ç”¨ç»Ÿä¸€çš„é…ç½®æ–‡ä»¶æ¨¡æ¿
   - ç»Ÿä¸€çš„åŒ…ç»“æ„å’Œå‘½åè§„èŒƒ

3. **é¿å…ä»£ç å†—ä½™**
   - å…¬å…±é…ç½®æŠ½å–åˆ°å…¬å…±æ¨¡å—
   - ä½¿ç”¨é…ç½®ç»§æ‰¿å‡å°‘é‡å¤
   - ç»Ÿä¸€çš„é…ç½®ç®¡ç†

4. **ä¼ä¸šçº§è´¨é‡æ ‡å‡†**
   - å®Œæ•´çš„æ³¨é‡Šå’Œæ–‡æ¡£
   - ç¬¦åˆç”Ÿäº§ç¯å¢ƒè¦æ±‚
   - æ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼ˆdev/test/prodï¼‰

### 2.2 ä¿®å¤ä¼˜å…ˆçº§

**P0ï¼ˆç«‹å³ä¿®å¤ï¼‰**ï¼š
1. ioedream-common-serviceï¼ˆ8088ï¼‰- æ ¸å¿ƒå…¬å…±æœåŠ¡
2. ioedream-gateway-serviceï¼ˆ8080ï¼‰- APIç½‘å…³
3. ioedream-device-comm-serviceï¼ˆ8087ï¼‰- è®¾å¤‡é€šè®¯

**P1ï¼ˆé‡è¦ä¿®å¤ï¼‰**ï¼š
4. ioedream-oa-serviceï¼ˆ8089ï¼‰- OAæœåŠ¡
5. ioedream-access-serviceï¼ˆ8090ï¼‰- é—¨ç¦æœåŠ¡
6. ioedream-attendance-serviceï¼ˆ8091ï¼‰- è€ƒå‹¤æœåŠ¡

**P2ï¼ˆä¸šåŠ¡æœåŠ¡ï¼‰**ï¼š
7. ioedream-video-serviceï¼ˆ8092ï¼‰- è§†é¢‘æœåŠ¡
8. ioedream-consume-serviceï¼ˆ8094ï¼‰- æ¶ˆè´¹æœåŠ¡
9. ioedream-visitor-serviceï¼ˆ8095ï¼‰- è®¿å®¢æœåŠ¡

### 2.3 ç»Ÿä¸€æ¨¡æ¿è®¾è®¡

#### æ¨¡æ¿1ï¼šæ ‡å‡†å¯åŠ¨ç±»æ¨¡æ¿

```java
package net.lab1024.sa.{module};

import org.mybatis.spring.annotation.MapperScan;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;
import org.springframework.cloud.client.discovery.EnableDiscoveryClient;

/**
 * {ServiceName} å¾®æœåŠ¡å¯åŠ¨ç±»
 * <p>
 * ç«¯å£: {PORT}
 * èŒè´£: {DESCRIPTION}
 * <p>
 * ä¸¥æ ¼éµå¾ªCLAUDE.mdè§„èŒƒ:
 * - ä½¿ç”¨@SpringBootApplicationæ³¨è§£
 * - å¯ç”¨NacosæœåŠ¡å‘ç°(@EnableDiscoveryClient)
 * - æ­£ç¡®é…ç½®åŒ…æ‰«æè·¯å¾„
 * - æ­£ç¡®é…ç½®MapperScanè·¯å¾„
 * </p>
 *
 * @author IOE-DREAM Team
 * @version 1.0.0
 * @since 2025-01-30
 */
@SpringBootApplication(
    scanBasePackages = {
        "net.lab1024.sa.common",
        "net.lab1024.sa.{module}"
    },
    exclude = {
        HibernateJpaAutoConfiguration.class
    }
)
@EnableDiscoveryClient
@MapperScan(basePackages = {
    // Commonæ¨¡å—DAO
    "net.lab1024.sa.common.auth.dao",
    "net.lab1024.sa.common.security.dao",
    "net.lab1024.sa.common.hr.dao",
    "net.lab1024.sa.common.system.employee.dao",
    "net.lab1024.sa.common.access.dao",
    "net.lab1024.sa.common.visitor.dao",
    "net.lab1024.sa.common.audit.dao",
    "net.lab1024.sa.common.monitor.dao",
    "net.lab1024.sa.common.config.dao",
    "net.lab1024.sa.common.document.dao",
    "net.lab1024.sa.common.file.dao",
    "net.lab1024.sa.common.menu.dao",
    "net.lab1024.sa.common.dict.dao",
    "net.lab1024.sa.common.organization.dao",
    "net.lab1024.sa.common.workflow.dao",
    "net.lab1024.sa.common.system.dao",
    "net.lab1024.sa.common.notification.dao",
    "net.lab1024.sa.common.scheduler.dao",
    // ä¸šåŠ¡æ¨¡å—DAO
    "net.lab1024.sa.{module}.dao"
})
public class {ServiceName}Application {

    /**
     * ä¸»å¯åŠ¨æ–¹æ³•
     *
     * @param args å¯åŠ¨å‚æ•°
     */
    public static void main(String[] args) {
        SpringApplication.run({ServiceName}Application.class, args);
    }
}
```

#### æ¨¡æ¿2ï¼šæ ‡å‡†é…ç½®æ–‡ä»¶æ¨¡æ¿

```yaml
# ==================== æœåŠ¡åŸºæœ¬ä¿¡æ¯ ====================
spring:
  application:
    name: ioedream-{module}-service
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

# ==================== NacosæœåŠ¡å‘ç°é…ç½® ====================
  cloud:
    nacos:
      discovery:
        server-addr: ${NACOS_SERVER_ADDR:127.0.0.1:8848}
        namespace: ${NACOS_NAMESPACE:dev}
        group: ${NACOS_GROUP:IOE-DREAM}
        username: ${NACOS_USERNAME:nacos}
        password: ${NACOS_PASSWORD:nacos}
        enabled: true
        register-enabled: true
      config:
        server-addr: ${NACOS_SERVER_ADDR:127.0.0.1:8848}
        namespace: ${NACOS_NAMESPACE:dev}
        group: ${NACOS_GROUP:IOE-DREAM}
        file-extension: yaml
        enabled: true

# ==================== æœåŠ¡å™¨é…ç½® ====================
server:
  port: {PORT}

# ==================== MyBatis-Plusé…ç½® ====================
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl
  mapper-locations: classpath*:/mapper/**/*.xml
  type-aliases-package: net.lab1024.sa.common.entity,net.lab1024.sa.{module}.entity

# ==================== æ—¥å¿—é…ç½® ====================
logging:
  level:
    root: INFO
    net.lab1024.sa: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n"

# ==================== Actuatorç›‘æ§é…ç½® ====================
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: when-authorized
```

---

## ğŸ”§ ä¸‰ã€è¯¦ç»†ä¿®å¤å®æ–½è®¡åˆ’

### 3.1 ioedream-common-serviceï¼ˆ8088ï¼‰- P0ä¼˜å…ˆçº§

**ä¿®å¤æ¸…å•**ï¼š
- [ ] åˆ›å»ºå¯åŠ¨ç±» `CommonServiceApplication.java`
- [ ] åˆ›å»ºé…ç½®æ–‡ä»¶ `application.yml`
- [ ] åˆ›å»ºèµ„æºç›®å½• `src/main/resources`
- [ ] éªŒè¯å¯åŠ¨ç±»èƒ½æ­£å¸¸å¯åŠ¨
- [ ] éªŒè¯æœåŠ¡æ³¨å†Œåˆ°Nacos

**å¯åŠ¨ç±»è·¯å¾„**ï¼š
```
src/main/java/net/lab1024/sa/admin/CommonServiceApplication.java
```

**å…³é”®é…ç½®**ï¼š
- åŒ…æ‰«æï¼š`net.lab1024.sa.common`
- MapperScanï¼šåŒ…å«æ‰€æœ‰commonæ¨¡å—çš„DAOåŒ… + notification.dao + scheduler.dao
- ç«¯å£ï¼š8088

### 3.2 ioedream-gateway-serviceï¼ˆ8080ï¼‰- P0ä¼˜å…ˆçº§

**ä¿®å¤æ¸…å•**ï¼š
- [ ] åˆ›å»ºå¯åŠ¨ç±» `GatewayServiceApplication.java`
- [ ] åˆ›å»ºå®Œæ•´é…ç½®æ–‡ä»¶ `application.yml`
- [ ] éªŒè¯ç½‘å…³è·¯ç”±é…ç½®

**å…³é”®é…ç½®**ï¼š
- ç«¯å£ï¼š8080
- éœ€è¦é…ç½®è·¯ç”±è§„åˆ™

### 3.3 ioedream-device-comm-serviceï¼ˆ8087ï¼‰- P0ä¼˜å…ˆçº§

**ä¿®å¤æ¸…å•**ï¼š
- [ ] åˆ›å»ºå¯åŠ¨ç±» `DeviceCommServiceApplication.java`
- [ ] åˆ›å»ºé…ç½®æ–‡ä»¶ `application.yml`
- [ ] åˆ›å»ºèµ„æºç›®å½•

**å…³é”®é…ç½®**ï¼š
- åŒ…æ‰«æï¼š`net.lab1024.sa.common, net.lab1024.sa.device`
- ç«¯å£ï¼š8087

### 3.4 å…¶ä»–ä¸šåŠ¡æœåŠ¡ï¼ˆP1-P2ï¼‰

**ç»Ÿä¸€ä¿®å¤æ­¥éª¤**ï¼š
1. åˆ›å»ºå¯åŠ¨ç±»ï¼ˆä½¿ç”¨æ¨¡æ¿ï¼‰
2. åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆä½¿ç”¨æ¨¡æ¿ï¼‰
3. åˆ›å»ºèµ„æºç›®å½•ç»“æ„
4. éªŒè¯å¯åŠ¨å’ŒæœåŠ¡æ³¨å†Œ

---

## ğŸ“ å››ã€å¯åŠ¨ç±»åˆ›å»ºè¯¦ç»†æ­¥éª¤

### æ­¥éª¤1ï¼šç¡®å®šåŒ…è·¯å¾„

æ ¹æ®CLAUDE.mdè§„èŒƒï¼š
- Common Service: `net.lab1024.sa.admin`ï¼ˆå·²ç¡®è®¤æœ‰adminç›®å½•ï¼‰
- å…¶ä»–æœåŠ¡: `net.lab1024.sa.{module}`

### æ­¥éª¤2ï¼šç¡®å®šMapperScanè·¯å¾„

**æ ‡å‡†MapperScanè·¯å¾„ï¼ˆæ‰€æœ‰æœåŠ¡é€šç”¨ï¼‰**ï¼š
```java
@MapperScan(basePackages = {
    // Commonæ¨¡å—DAOï¼ˆ15ä¸ªåŒ…ï¼‰
    "net.lab1024.sa.common.auth.dao",
    "net.lab1024.sa.common.security.dao",
    "net.lab1024.sa.common.hr.dao",
    "net.lab1024.sa.common.system.employee.dao",
    "net.lab1024.sa.common.access.dao",
    "net.lab1024.sa.common.visitor.dao",
    "net.lab1024.sa.common.audit.dao",
    "net.lab1024.sa.common.monitor.dao",
    "net.lab1024.sa.common.config.dao",
    "net.lab1024.sa.common.document.dao",
    "net.lab1024.sa.common.file.dao",
    "net.lab1024.sa.common.menu.dao",
    "net.lab1024.sa.common.dict.dao",
    "net.lab1024.sa.common.organization.dao",
    "net.lab1024.sa.common.workflow.dao",
    "net.lab1024.sa.common.system.dao",
    "net.lab1024.sa.common.notification.dao",
    "net.lab1024.sa.common.scheduler.dao",
    // ä¸šåŠ¡æ¨¡å—DAOï¼ˆæ ¹æ®å®é™…æ¨¡å—æ·»åŠ ï¼‰
    "net.lab1024.sa.{module}.dao"
})
```

### æ­¥éª¤3ï¼šç¡®å®šåŒ…æ‰«æè·¯å¾„

**æ ‡å‡†åŒ…æ‰«æè·¯å¾„**ï¼š
```java
scanBasePackages = {
    "net.lab1024.sa.common",  // å…¬å…±æ¨¡å—
    "net.lab1024.sa.{module}"  // ä¸šåŠ¡æ¨¡å—
}
```

---

## ğŸ“‹ äº”ã€é…ç½®æ–‡ä»¶åˆ›å»ºè¯¦ç»†æ­¥éª¤

### æ­¥éª¤1ï¼šåˆ›å»ºèµ„æºç›®å½•ç»“æ„

```
src/main/resources/
â”œâ”€â”€ application.yml              # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ application-dev.yml          # å¼€å‘ç¯å¢ƒé…ç½®ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ application-test.yml         # æµ‹è¯•ç¯å¢ƒé…ç½®ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ application-prod.yml         # ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆå¯é€‰ï¼‰
```

### æ­¥éª¤2ï¼šé…ç½®ç«¯å£ï¼ˆä¸¥æ ¼æŒ‰ç…§CLAUDE.mdï¼‰

| æœåŠ¡ | ç«¯å£ |
|------|------|
| gateway-service | 8080 |
| device-comm-service | 8087 |
| common-service | 8088 |
| oa-service | 8089 |
| access-service | 8090 |
| attendance-service | 8091 |
| video-service | 8092 |
| consume-service | 8094 |
| visitor-service | 8095 |

### æ­¥éª¤3ï¼šé…ç½®NacosæœåŠ¡å‘ç°

æ‰€æœ‰æœåŠ¡å¿…é¡»é…ç½®ï¼š
- æœåŠ¡æ³¨å†Œï¼š`register-enabled: true`
- æœåŠ¡å‘ç°ï¼š`enabled: true`
- å‘½åç©ºé—´ï¼š`namespace: ${NACOS_NAMESPACE:dev}`
- åˆ†ç»„ï¼š`group: ${NACOS_GROUP:IOE-DREAM}`

---

## âœ… å…­ã€éªŒè¯å’Œæµ‹è¯•

### 6.1 å¯åŠ¨ç±»éªŒè¯æ¸…å•

- [ ] å¯åŠ¨ç±»èƒ½æ­£å¸¸ç¼–è¯‘
- [ ] å¯åŠ¨ç±»èƒ½æ­£å¸¸å¯åŠ¨ï¼ˆæ— ç¼–è¯‘é”™è¯¯ï¼‰
- [ ] åŒ…æ‰«æè·¯å¾„æ­£ç¡®ï¼ˆèƒ½åŠ è½½æ‰€æœ‰Beanï¼‰
- [ ] MapperScanè·¯å¾„æ­£ç¡®ï¼ˆèƒ½æ‰«ææ‰€æœ‰DAOï¼‰
- [ ] æœåŠ¡èƒ½æ³¨å†Œåˆ°Nacos
- [ ] å¥åº·æ£€æŸ¥ç«¯ç‚¹å¯è®¿é—®ï¼ˆ`/actuator/health`ï¼‰

### 6.2 é…ç½®æ–‡ä»¶éªŒè¯æ¸…å•

- [ ] é…ç½®æ–‡ä»¶è¯­æ³•æ­£ç¡®ï¼ˆYAMLæ ¼å¼ï¼‰
- [ ] ç«¯å£é…ç½®æ­£ç¡®ï¼ˆç¬¦åˆCLAUDE.mdï¼‰
- [ ] Nacosé…ç½®æ­£ç¡®ï¼ˆèƒ½è¿æ¥åˆ°Nacosï¼‰
- [ ] æ—¥å¿—é…ç½®æ­£ç¡®ï¼ˆæ—¥å¿—èƒ½æ­£å¸¸è¾“å‡ºï¼‰

### 6.3 å…¨å±€ä¸€è‡´æ€§éªŒè¯

- [ ] æ‰€æœ‰æœåŠ¡ä½¿ç”¨ç›¸åŒçš„å¯åŠ¨ç±»æ¨¡æ¿
- [ ] æ‰€æœ‰æœåŠ¡ä½¿ç”¨ç›¸åŒçš„é…ç½®æ–‡ä»¶æ¨¡æ¿
- [ ] æ‰€æœ‰æœåŠ¡éµå¾ªç›¸åŒçš„å‘½åè§„èŒƒ
- [ ] æ‰€æœ‰æœåŠ¡éµå¾ªCLAUDE.mdæ¶æ„è§„èŒƒ

---

## ğŸš¨ ä¸ƒã€é£é™©ä¸æ³¨æ„äº‹é¡¹

### 7.1 ä¿®å¤é£é™©

1. **å¯åŠ¨ç±»è·¯å¾„å†²çª**
   - é£é™©ï¼šå¦‚æœå¯åŠ¨ç±»è·¯å¾„ä¸ç°æœ‰ä»£ç å†²çª
   - ç¼“è§£ï¼šæ£€æŸ¥ç°æœ‰ä»£ç ç»“æ„ï¼Œç¡®ä¿è·¯å¾„æ­£ç¡®

2. **é…ç½®è¦†ç›–é—®é¢˜**
   - é£é™©ï¼šæ–°é…ç½®æ–‡ä»¶å¯èƒ½è¦†ç›–Nacosé…ç½®
   - ç¼“è§£ï¼šé…ç½®æ–‡ä»¶ä»…åŒ…å«æœ¬åœ°é…ç½®ï¼Œå…³é”®é…ç½®ä»Nacosè¯»å–

3. **ä¾èµ–ç¼ºå¤±**
   - é£é™©ï¼šå¯åŠ¨ç±»å¯èƒ½ç¼ºå°‘å¿…è¦çš„ä¾èµ–
   - ç¼“è§£ï¼šæ£€æŸ¥pom.xmlä¾èµ–ï¼Œç¡®ä¿æ‰€æœ‰ä¾èµ–å·²æ·»åŠ 

### 7.2 æ³¨æ„äº‹é¡¹

1. **ç¦æ­¢ä¿®æ”¹ç°æœ‰ä¸šåŠ¡ä»£ç **
   - ä»…åˆ›å»ºå¯åŠ¨ç±»å’Œé…ç½®æ–‡ä»¶
   - ä¸ä¿®æ”¹Controllerã€Serviceã€DAOç­‰ä¸šåŠ¡ä»£ç 

2. **ä¸¥æ ¼éµå¾ªå‘½åè§„èŒƒ**
   - å¯åŠ¨ç±»ï¼š`{ServiceName}Application`
   - é…ç½®æ–‡ä»¶ï¼š`application.yml`
   - åŒ…è·¯å¾„ï¼šä¸¥æ ¼æŒ‰ç…§CLAUDE.mdè§„èŒƒ

3. **ç»Ÿä¸€ä½¿ç”¨æ¨¡æ¿**
   - æ‰€æœ‰æœåŠ¡ä½¿ç”¨ç›¸åŒçš„å¯åŠ¨ç±»æ¨¡æ¿
   - æ‰€æœ‰æœåŠ¡ä½¿ç”¨ç›¸åŒçš„é…ç½®æ–‡ä»¶æ¨¡æ¿
   - ç¡®ä¿å…¨å±€ä¸€è‡´æ€§

---

## ğŸ“Š å…«ã€ä¿®å¤è¿›åº¦è·Ÿè¸ª

### 8.1 ä¿®å¤çŠ¶æ€è¡¨

| å¾®æœåŠ¡ | å¯åŠ¨ç±» | é…ç½®æ–‡ä»¶ | èµ„æºç›®å½• | çŠ¶æ€ | ä¿®å¤æ—¶é—´ |
|--------|--------|---------|---------|------|---------|
| ioedream-common-service | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | è¿›è¡Œä¸­ | - |
| ioedream-gateway-service | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | âœ… å·²å­˜åœ¨ | å¾…å¼€å§‹ | - |
| ioedream-device-comm-service | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | å¾…å¼€å§‹ | - |
| ioedream-oa-service | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | å¾…å¼€å§‹ | - |
| ioedream-access-service | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | å¾…å¼€å§‹ | - |
| ioedream-attendance-service | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | å¾…å¼€å§‹ | - |
| ioedream-video-service | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | å¾…å¼€å§‹ | - |
| ioedream-consume-service | â³ å¾…ä¿®å¤ | âš ï¸ éƒ¨åˆ†å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å¾…å¼€å§‹ | - |
| ioedream-visitor-service | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | â³ å¾…ä¿®å¤ | å¾…å¼€å§‹ | - |

**å›¾ä¾‹**ï¼š
- âœ… å·²å®Œæˆ
- â³ å¾…ä¿®å¤
- âš ï¸ éƒ¨åˆ†å®Œæˆ
- âŒ å­˜åœ¨é—®é¢˜

---

## ğŸ¯ ä¹ã€æœ€ä½³å®è·µæ€»ç»“

### 9.1 å¯åŠ¨ç±»æœ€ä½³å®è·µ

1. **ç»Ÿä¸€æ¨¡æ¿**ï¼šæ‰€æœ‰æœåŠ¡ä½¿ç”¨ç›¸åŒçš„å¯åŠ¨ç±»æ¨¡æ¿
2. **å®Œæ•´æ³¨é‡Š**ï¼šåŒ…å«æœåŠ¡èŒè´£ã€ç«¯å£ã€éµå¾ªè§„èŒƒç­‰ä¿¡æ¯
3. **æ­£ç¡®é…ç½®**ï¼šåŒ…æ‰«æã€MapperScanè·¯å¾„å‡†ç¡®æ— è¯¯
4. **å¯ç”¨å‘ç°**ï¼šå¿…é¡»æ·»åŠ `@EnableDiscoveryClient`

### 9.2 é…ç½®æ–‡ä»¶æœ€ä½³å®è·µ

1. **ç¯å¢ƒå˜é‡**ï¼šæ•æ„Ÿé…ç½®ä½¿ç”¨ç¯å¢ƒå˜é‡
2. **é…ç½®ä¸­å¿ƒ**ï¼šå…³é”®é…ç½®ä»Nacosè¯»å–
3. **å¤šç¯å¢ƒæ”¯æŒ**ï¼šæ”¯æŒdev/test/prodç¯å¢ƒ
4. **ç«¯å£è§„èŒƒ**ï¼šä¸¥æ ¼æŒ‰ç…§CLAUDE.mdç«¯å£åˆ†é…

### 9.3 å…¨å±€ä¸€è‡´æ€§æœ€ä½³å®è·µ

1. **ç»Ÿä¸€è§„èŒƒ**ï¼šä¸¥æ ¼éµå¾ªCLAUDE.mdæ¶æ„è§„èŒƒ
2. **é¿å…å†—ä½™**ï¼šå…¬å…±é…ç½®æŠ½å–åˆ°å…¬å…±æ¨¡å—
3. **ç»Ÿä¸€å‘½å**ï¼šéµå¾ªç»Ÿä¸€çš„å‘½åè§„èŒƒ
4. **ä»£ç å®¡æŸ¥**ï¼šä¿®å¤åè¿›è¡Œå…¨é¢ä»£ç å®¡æŸ¥

---

## ğŸ“ é™„å½•

### A. å‚è€ƒæ–‡æ¡£

- [CLAUDE.md - å…¨å±€æ¶æ„æ ‡å‡†](../../CLAUDE.md)
- [å¯åŠ¨æ–‡ä»¶åˆ†ææŠ¥å‘Š](./å¯åŠ¨æ–‡ä»¶åˆ†ææŠ¥å‘Š-2025-01-30-164000.md)
- [Spring Bootå®˜æ–¹æ–‡æ¡£](https://spring.io/projects/spring-boot)
- [Nacoså®˜æ–¹æ–‡æ¡£](https://nacos.io/)

### B. ç›¸å…³æ–‡ä»¶æ¸…å•

**é…ç½®æ–‡ä»¶æ¨¡æ¿**ï¼š
- `application.yml` - æ ‡å‡†é…ç½®æ–‡ä»¶æ¨¡æ¿
- `application-dev.yml` - å¼€å‘ç¯å¢ƒé…ç½®æ¨¡æ¿ï¼ˆå¯é€‰ï¼‰
- `application-test.yml` - æµ‹è¯•ç¯å¢ƒé…ç½®æ¨¡æ¿ï¼ˆå¯é€‰ï¼‰
- `application-prod.yml` - ç”Ÿäº§ç¯å¢ƒé…ç½®æ¨¡æ¿ï¼ˆå¯é€‰ï¼‰

**å¯åŠ¨ç±»æ¨¡æ¿**ï¼š
- `{ServiceName}Application.java` - æ ‡å‡†å¯åŠ¨ç±»æ¨¡æ¿

### C. ä¿®å¤éªŒè¯è„šæœ¬

**PowerShelléªŒè¯è„šæœ¬**ï¼ˆå¾…åˆ›å»ºï¼‰ï¼š
```powershell
# éªŒè¯å¯åŠ¨ç±»æ˜¯å¦å­˜åœ¨
# éªŒè¯é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
# éªŒè¯æœåŠ¡èƒ½å¦å¯åŠ¨
```

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-01-30  
**æŠ¥å‘Šç‰ˆæœ¬**: v1.0.0  
**ä¸‹æ¬¡æ›´æ–°**: ä¿®å¤å®Œæˆåæ›´æ–°è¿›åº¦è¡¨
