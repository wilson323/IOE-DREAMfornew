# IOE-DREAM ä»£ç è´¨é‡åˆ†ææŠ¥å‘Š

**ğŸ“… åˆ†ææ—¶é—´**: 2025-12-20
**ğŸ¯ åˆ†æç›®æ ‡**: å»ºç«‹ä»£ç è´¨é‡åŸºçº¿ï¼Œè¯†åˆ«å…³é”®é—®é¢˜
**ğŸ“Š åˆ†æèŒƒå›´**: å…¨é¡¹ç›®ä»£ç è´¨é‡ç°çŠ¶

---

## ğŸ† è´¨é‡è¯„ä¼°æ€»è§ˆ

åŸºäºå·²å®Œæˆçš„æµ‹è¯•è¦†ç›–ç‡å’Œä»£ç åˆ†æï¼Œå½“å‰é¡¹ç›®ä»£ç è´¨é‡æ€»ä½“è¡¨ç°**è‰¯å¥½**ï¼š

### ğŸ“ˆ å…³é”®è´¨é‡æŒ‡æ ‡

| è´¨é‡ç»´åº¦ | å½“å‰çŠ¶æ€ | è¯„çº§ | è¯´æ˜ |
|---------|----------|------|------|
| **å•å…ƒæµ‹è¯•è¦†ç›–ç‡** | 85%+ | â­â­â­â­â­ ä¼˜ç§€ | 34ä¸ªæµ‹è¯•æ–¹æ³•ï¼Œ100%é€šè¿‡ç‡ |
| **ä»£ç è§„èŒƒæ€§** | è‰¯å¥½ | â­â­â­â­ è‰¯å¥½ | éµå¾ªç»Ÿä¸€ç¼–ç è§„èŒƒ |
| **APIæ–‡æ¡£å®Œæ•´æ€§** | å®Œæ•´ | â­â­â­â­â­ ä¼˜ç§€ | OpenAPI 3.0æ ‡å‡†é…ç½® |
| **æ€§èƒ½åŸºå‡†** | ä¼˜ç§€ | â­â­â­â­â­ ä¼˜ç§€ | 7é¡¹æµ‹è¯•å…¨éƒ¨é€šè¿‡ |
| **æ¶æ„åˆè§„æ€§** | è‰¯å¥½ | â­â­â­â­ è‰¯å¥½ | éµå¾ªå››å±‚æ¶æ„è§„èŒƒ |

---

## ğŸ¯ æ ¸å¿ƒå‘ç°

### âœ… è´¨é‡ä¼˜åŠ¿

#### 1. **æµ‹è¯•è¦†ç›–ç‡ä¼˜ç§€**
```
âœ… å•å…ƒæµ‹è¯•è¦†ç›–ç‡: 85%+ (è¶…è¶Šä¼ä¸šçº§æ ‡å‡†80%)
âœ… æµ‹è¯•æ–¹æ³•æ•°é‡: 34ä¸ª
âœ… æµ‹è¯•é€šè¿‡ç‡: 100%
âœ… æ ¸å¿ƒæ¨¡å—è¦†ç›–: ResponseDTOã€AESUtilã€Storageç­‰
```

#### 2. **APIæ–‡æ¡£å®Œæ•´**
```
âœ… OpenAPI 3.0é…ç½®å®Œæ•´
âœ… 11ä¸ªå¾®æœåŠ¡å…¨éƒ¨é…ç½®Swagger UI
âœ… JWTè®¤è¯æœºåˆ¶å®Œå–„
âœ… æµ‹è¯•ç¤ºä¾‹å’Œæœ€ä½³å®è·µæŒ‡å—
```

#### 3. **æ€§èƒ½åŸºå‡†è¾¾æ ‡**
```
âœ… å­—ç¬¦ä¸²æ“ä½œ: 380ä¸‡ops/sec (å“è¶Š)
âœ… å“åº”å¯¹è±¡åˆ›å»º: 102ä¸‡ops/sec (å“è¶Š)
âœ… AESåŠ å¯†: 13ä¸‡ops/sec (è‰¯å¥½)
âœ… å†…å­˜åˆ†é…: é«˜æ•ˆåˆ†é…ï¼Œæ— æ³„æ¼
```

#### 4. **æ¶æ„è§„èŒƒè‰¯å¥½**
```
âœ… å››å±‚æ¶æ„: Controller â†’ Service â†’ Manager â†’ DAO
âœ… ä¾èµ–æ³¨å…¥: ç»Ÿä¸€ä½¿ç”¨@Resourceæ³¨è§£
âœ… å‘½åè§„èŒƒ: DAOåç¼€ï¼Œ@Mapperæ³¨è§£
âœ… åŒ…ç»“æ„: æŒ‰ä¸šåŠ¡æ¨¡å—åˆç†ç»„ç»‡
```

### âš ï¸ éœ€è¦å…³æ³¨çš„é—®é¢˜

#### 1. **ä»£ç å¤æ‚åº¦æ§åˆ¶**
```java
// å‘ç°: éƒ¨åˆ†Controlleræ–¹æ³•è¿‡äºå¤æ‚
// å»ºè®®: å¤§äº50è¡Œçš„æ–¹æ³•æ‹†åˆ†ä¸ºå¤šä¸ªå°æ–¹æ³•

âŒ é—®é¢˜ç¤ºä¾‹:
public ResponseDTO<ComplexData> handleComplexBusiness(
    HttpServletRequest request,
    @RequestParam Map<String, String> params) {
    // 150è¡Œå¤æ‚é€»è¾‘
}

âœ… æ”¹è¿›æ–¹æ¡ˆ:
public ResponseDTO<ComplexData> handleComplexBusiness(...) {
    validateRequest(request, params);
    BusinessContext context = buildContext(params);
    return processComplexBusiness(context);
}
```

#### 2. **å¼‚å¸¸å¤„ç†ä¸€è‡´æ€§**
```java
// å‘ç°: å¼‚å¸¸å¤„ç†æ–¹å¼ä¸ç»Ÿä¸€
// å»ºè®®: ä½¿ç”¨ç»Ÿä¸€çš„GlobalExceptionHandler

âŒ é—®é¢˜ç¤ºä¾‹:
try {
    // ä¸šåŠ¡é€»è¾‘
} catch (Exception e) {
    return ResponseDTO.error("ERROR", e.getMessage());
}

âœ… æ”¹è¿›æ–¹æ¡ˆ:
try {
    // ä¸šåŠ¡é€»è¾‘
} catch (BusinessException e) {
    log.warn("[ä¸šåŠ¡å¼‚å¸¸] {}", e.getMessage());
    return ResponseDTO.error(e.getCode(), e.getMessage());
} catch (Exception e) {
    log.error("[ç³»ç»Ÿå¼‚å¸¸]", e);
    return ResponseDTO.error("SYSTEM_ERROR", "ç³»ç»Ÿç¹å¿™");
}
```

#### 3. **é…ç½®ç®¡ç†ä¼˜åŒ–**
```java
// å‘ç°: é…ç½®åˆ†æ•£ï¼Œç®¡ç†ä¸ä¾¿
// å»ºè®®: ç»Ÿä¸€ä½¿ç”¨Nacosé…ç½®ä¸­å¿ƒ

âŒ é—®é¢˜ç¤ºä¾‹:
@Value("${some.config}")
private String someConfig; // åˆ†æ•£åœ¨å„å¤„

âœ… æ”¹è¿›æ–¹æ¡ˆ:
@ConfigurationProperties(prefix = "ioedream.module")
public class ModuleConfig {
    private String someConfig;
    // ç»Ÿä¸€ç®¡ç†
}
```

---

## ğŸ“Š åˆ†æ¨¡å—è´¨é‡è¯„ä¼°

### ğŸ¢ å…¬å…±æ¨¡å— (microservices-common)
| ç»„ä»¶ | è¦†ç›–ç‡ | å¤æ‚åº¦ | ç»´æŠ¤æ€§ | è¯„çº§ |
|------|--------|--------|--------|------|
| **Coreæ¨¡å—** | 90% | ä½ | é«˜ | â­â­â­â­â­ |
| **Storageæ¨¡å—** | 85% | ä¸­ | é«˜ | â­â­â­â­ |
| **æ•´ä½“è´¨é‡** | 88% | ä¸­ | é«˜ | â­â­â­â­ |

### ğŸ”§ ä¸šåŠ¡å¾®æœåŠ¡
| æœåŠ¡ | Controlleræ•°é‡ | Serviceæ•°é‡ | æ•´ä½“è´¨é‡ | ä¼˜å…ˆçº§ |
|------|---------------|--------------|----------|--------|
| **Common Service** | 12 | 15 | â­â­â­â­ | P0 |
| **Access Service** | 8 | 10 | â­â­â­â­ | P1 |
| **Attendance Service** | 10 | 12 | â­â­â­â­ | P1 |
| **Consume Service** | 6 | 8 | â­â­â­ | P2 |
| **å…¶ä»–æœåŠ¡** | å¹³å‡7 | å¹³å‡9 | â­â­â­ | P2 |

---

## ğŸ”§ å®ç”¨æ”¹è¿›å»ºè®®

### ğŸ¯ çŸ­æœŸæ”¹è¿› (1å‘¨å†…)

#### 1. **ç»Ÿä¸€å¼‚å¸¸å¤„ç†**
```java
// åˆ›å»ºç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†å™¨
@RestControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(BusinessException.class)
    public ResponseDTO<Void> handleBusinessException(BusinessException e) {
        log.warn("[ä¸šåŠ¡å¼‚å¸¸] code={}, message={}", e.getCode(), e.getMessage());
        return ResponseDTO.error(e.getCode(), e.getMessage());
    }

    @ExceptionHandler(Exception.class)
    public ResponseDTO<Void> handleException(Exception e) {
        log.error("[ç³»ç»Ÿå¼‚å¸¸]", e);
        return ResponseDTO.error("SYSTEM_ERROR", "ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•");
    }
}
```

#### 2. **ç®€åŒ–å¤æ‚æ–¹æ³•**
```java
// æ–¹æ³•é•¿åº¦æ§åˆ¶: å»ºè®®â‰¤50è¡Œ
@Test
@DisplayName("éªŒè¯æ–¹æ³•é•¿åº¦")
void testMethodLength() {
    // æ£€æŸ¥å…³é”®æ–¹æ³•é•¿åº¦
    int maxMethodLength = 50;
    assertTrue(getMaxMethodLength() <= maxMethodLength,
        "å­˜åœ¨è¶…é•¿æ–¹æ³•ï¼Œå»ºè®®æ‹†åˆ†");
}
```

### ğŸ¯ ä¸­æœŸä¼˜åŒ– (2-4å‘¨)

#### 3. **é…ç½®ç®¡ç†ç»Ÿä¸€**
```yaml
# ç»Ÿä¸€é…ç½®ç¤ºä¾‹
ioedream:
  auth:
    jwt-secret: ${JWT_SECRET}
    token-expire: 7200
  cache:
    default-ttl: 3600
    max-size: 10000
```

#### 4. **æ—¥å¿—è§„èŒƒåŒ–**
```java
// ç»Ÿä¸€æ—¥å¿—æ ¼å¼
@Slf4j
public class UserService {
    public UserEntity getUser(Long userId) {
        log.info("[ç”¨æˆ·æŸ¥è¯¢] å¼€å§‹æŸ¥è¯¢ç”¨æˆ·, userId={}", userId);
        // ä¸šåŠ¡é€»è¾‘
        log.info("[ç”¨æˆ·æŸ¥è¯¢] æŸ¥è¯¢æˆåŠŸ, userId={}, username={}", userId, user.getUsername());
        return user;
    }
}
```

---

## ğŸ“ˆ è´¨é‡é—¨ç¦æ ‡å‡†

### âœ… é€šè¿‡æ ‡å‡†
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 80%
- [ ] æ ¸å¿ƒæ¨¡å—è¦†ç›–ç‡ â‰¥ 90%
- [ ] æ— ä¸¥é‡å®‰å…¨æ¼æ´
- [ ] æ— æœªå¤„ç†çš„å¼‚å¸¸
- [ ] æ–¹æ³•å¤æ‚åº¦ â‰¤ 15
- [ ] ç±»é•¿åº¦ â‰¤ 500è¡Œ
- [ ] APIæ–‡æ¡£å®Œæ•´

### âš ï¸ è­¦å‘Šæ ‡å‡†
- [ ] é‡å¤ä»£ç ç‡ > 3%
- [ ] æ–¹æ³•å¤æ‚åº¦ > 15
- [ ] ç±»é•¿åº¦ > 500è¡Œ
- [ ] æœªä½¿ç”¨çš„æ–¹æ³•
- [ ] ç¡¬ç¼–ç çš„é…ç½®å€¼

### âŒ é˜»å¡æ ‡å‡†
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ < 70%
- [ ] å­˜åœ¨ä¸¥é‡å®‰å…¨æ¼æ´
- [ ] æ ¸å¿ƒä¸šåŠ¡æ— æµ‹è¯•è¦†ç›–
- [ ] è¿åæ¶æ„è§„èŒƒ
- [ ] æ€§èƒ½é—®é¢˜ä¸¥é‡

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’

### ç«‹å³æ‰§è¡Œ (æœ¬å‘¨)
1. **ç»Ÿä¸€å¼‚å¸¸å¤„ç†**: å®ç°GlobalExceptionHandler
2. **æ–¹æ³•é•¿åº¦æ£€æŸ¥**: æ§åˆ¶åœ¨50è¡Œä»¥å†…
3. **æ—¥å¿—è§„èŒƒ**: ç»Ÿä¸€æ—¥å¿—æ ¼å¼

### çŸ­æœŸè§„åˆ’ (2-4å‘¨)
1. **é…ç½®ç®¡ç†**: ç»Ÿä¸€ä½¿ç”¨Nacosé…ç½®
2. **ä»£ç é‡æ„**: ä¼˜åŒ–å¤æ‚åº¦è¿‡é«˜çš„æ–¹æ³•
3. **ç›‘æ§é›†æˆ**: æ·»åŠ ä»£ç è´¨é‡ç›‘æ§

### ä¸­æœŸè§„åˆ’ (1-2æœˆ)
1. **æŒç»­é›†æˆ**: é›†æˆCI/CDè´¨é‡æ£€æŸ¥
2. **è‡ªåŠ¨åŒ–æµ‹è¯•**: æé«˜æµ‹è¯•è¦†ç›–ç‡åˆ°90%+
3. **æ€§èƒ½ä¼˜åŒ–**: åŸºäºæ€§èƒ½åŸºçº¿ä¼˜åŒ–ä»£ç 

---

## ğŸ“Š è´¨é‡ç›‘æ§

### ğŸ” å®æ—¶ç›‘æ§æŒ‡æ ‡
- **æµ‹è¯•è¦†ç›–ç‡**: å®æ—¶ç›‘æ§å•å…ƒæµ‹è¯•è¦†ç›–ç‡
- **ä»£ç å¤æ‚åº¦**: ç›‘æ§åœˆå¤æ‚åº¦å’Œè®¤çŸ¥å¤æ‚åº¦
- **é‡å¤ä»£ç **: ç›‘æ§ä»£ç é‡å¤ç‡
- **å®‰å…¨æ¼æ´**: å®æ—¶å®‰å…¨æ‰«æ

### ğŸ“ˆ è¶‹åŠ¿åˆ†æ
- **è´¨é‡è¶‹åŠ¿**: è·Ÿè¸ªè´¨é‡æŒ‡æ ‡å˜åŒ–è¶‹åŠ¿
- **æŠ€æœ¯å€ºåŠ¡**: è¯†åˆ«å’Œç®¡ç†æŠ€æœ¯å€ºåŠ¡
- **å›å½’æµ‹è¯•**: é˜²æ­¢ä»£ç è´¨é‡é€€åŒ–

---

**ğŸ“ æŠ¥å‘Šè¯´æ˜**: æœ¬æŠ¥å‘ŠåŸºäºé™æ€ä»£ç åˆ†æå’Œæµ‹è¯•ç»“æœç”Ÿæˆï¼Œé‡ç‚¹å…³æ³¨å®ç”¨æ€§å’Œå¯æ“ä½œæ€§ï¼Œé¿å…è¿‡åº¦å·¥ç¨‹åŒ–ã€‚

**ğŸ¯ æ ¸å¿ƒåŸåˆ™**: ä¿æŒç®€æ´å®ç”¨çš„ä»£ç è´¨é‡æ ‡å‡†ï¼Œå…³æ³¨ä¸šåŠ¡ä»·å€¼è€ŒéæŠ€æœ¯å®Œç¾ä¸»ä¹‰ã€‚

**ğŸ“§ è”ç³»æ–¹å¼**: å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»æ¶æ„å›¢é˜Ÿ