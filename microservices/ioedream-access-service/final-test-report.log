[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------< net.lab1024.sa:ioedream-access-service >---------------
[INFO] Building IOE-DREAM Access Service 1.0.0
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[WARNING] Parameter 'encoding' is unknown for plugin 'jacoco-maven-plugin:0.8.12:prepare-agent (jacoco-prepare-agent)'
[WARNING] Parameter 'encoding' is unknown for plugin 'jacoco-maven-plugin:0.8.12:report (jacoco-report)'
[INFO] 
[INFO] --- enforcer:3.5.0:enforce (enforce-java-maven) @ ioedream-access-service ---
[INFO] Rule 0: org.apache.maven.enforcer.rules.version.RequireJavaVersion passed
[INFO] Rule 1: org.apache.maven.enforcer.rules.version.RequireMavenVersion passed
[INFO] 
[INFO] --- exec:3.1.1:exec (check-manager-bean-registration) @ ioedream-access-service ---
[INFO] skipping execute as per configuration
[INFO] 
[INFO] --- jacoco:0.8.12:prepare-agent (jacoco-prepare-agent) @ ioedream-access-service ---
[INFO] jacocoArgLine set to -javaagent:C:\\Users\\10201\\.m2\\repository\\org\\jacoco\\org.jacoco.agent\\0.8.12\\org.jacoco.agent-0.8.12-runtime.jar=destfile=D:\\IOE-DREAM\\microservices\\ioedream-access-service\\target\\jacoco.exec,includes=**/*.class,excludes=**/*Test*.class:**/*Tests.class:**/*Application.class:**/*Config*.class:**/*Configuration.class:**/dto/**/*.class:**/vo/**/*.class:**/form/**/*.class:**/entity/**/*.class:**/constant/**/*.class:**/constants/**/*.class:**/exception/**/*.class:**/*Exception.class:**/*Enum.class:**/generated/**/*.class:**/openapi/**/*.class
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ ioedream-access-service ---
[INFO] Copying 7 resources from src\main\resources to target\classes
[INFO] Copying 10 resources from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ ioedream-access-service ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ ioedream-access-service ---
[INFO] Copying 1 resource from src\test\resources to target\test-classes
[INFO] Copying 0 resource from src\test\resources to target\test-classes
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ ioedream-access-service ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- surefire:3.2.5:test (default-test) @ ioedream-access-service ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[WARNING] The system property user.timezone is configured twice! The property appears in <argLine/> and any of <systemPropertyVariables/>, <systemProperties/> or user property.
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running net.lab1024.sa.access.service.AccessInterlockServiceTest
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
19:35:33.259 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 测试互锁规则: ruleId=1
19:35:33.363 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 触发互锁: areaId=1001, doorId=3001, action=DOOR_OPEN
19:35:33.372 [pool-3-thread-1] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 执行互锁规则: ruleId=1, triggerAreaId=1001
19:35:33.374 [pool-3-thread-1] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 互锁执行成功: ruleId=1, targetAreaId=1002
19:35:33.386 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 触发互锁: areaId=1001, doorId=3001, action=DOOR_OPEN
19:35:33.388 [pool-4-thread-1] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 执行互锁规则: ruleId=1, triggerAreaId=1001
19:35:33.389 [pool-4-thread-1] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 互锁执行成功: ruleId=1, targetAreaId=1002
19:35:33.422 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 分页查询互锁规则: queryForm=AccessInterlockRuleQueryForm(pageNum=1, pageSize=10, ruleName=null, interlockMode=BIDIRECTIONAL, unlockCondition=null, enabled=null)
19:35:33.496 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 更新启用状态: ruleId=1, enabled=0
19:35:33.509 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 获取规则详情: ruleId=999
19:35:33.517 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 获取规则详情: ruleId=1
19:35:33.524 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 删除互锁规则: ruleId=1
19:35:33.530 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 触发互锁: areaId=9999, doorId=9999, action=DOOR_OPEN
19:35:33.535 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 更新互锁规则: ruleId=1, updateForm=AccessInterlockRuleUpdateForm(ruleName=更新后的互锁规则, ruleCode=null, areaAId=null, areaBId=null, interlockMode=UNIDIRECTIONAL, areaADoorIds=null, areaBDoorIds=null, unlockCondition=null, unlockDelaySeconds=null, priority=null, description=null)
19:35:33.567 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 更新互锁规则: ruleId=999, updateForm=AccessInterlockRuleUpdateForm(ruleName=更新后的互锁规则, ruleCode=null, areaAId=null, areaBId=null, interlockMode=UNIDIRECTIONAL, areaADoorIds=null, areaBDoorIds=null, unlockCondition=null, unlockDelaySeconds=null, priority=null, description=null)
19:35:33.576 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 新增互锁规则: addForm=AccessInterlockRuleAddForm(ruleName=测试互锁规则, ruleCode=null, areaAId=1001, areaBId=1002, interlockMode=BIDIRECTIONAL, areaADoorIds=[3001, 3002], areaBDoorIds=[3003, 3004], unlockCondition=MANUAL, unlockDelaySeconds=0, priority=100, description=null)
19:35:33.578 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 新增互锁规则成功: ruleId=1
19:35:33.584 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 分页查询互锁规则: queryForm=AccessInterlockRuleQueryForm(pageNum=1, pageSize=10, ruleName=null, interlockMode=null, unlockCondition=null, enabled=null)
19:35:33.589 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 删除互锁规则: ruleId=1
19:35:33.597 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 手动解锁: ruleId=1, areaId=1002
19:35:33.604 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 测试互锁规则: ruleId=999
19:35:33.612 [main] INFO net.lab1024.sa.access.service.impl.AccessInterlockServiceImpl -- [互锁管理] 手动解锁: ruleId=999, areaId=9998
[ERROR] Tests run: 17, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.665 s <<< FAILURE! -- in net.lab1024.sa.access.service.AccessInterlockServiceTest
[ERROR] net.lab1024.sa.access.service.AccessInterlockServiceTest.testTestRule_Success -- Time elapsed: 2.360 s <<< ERROR!
org.mockito.exceptions.misusing.UnnecessaryStubbingException: 

Unnecessary stubbings detected.
Clean & maintainable test code requires zero unnecessary code.
Following stubbings are unnecessary (click to navigate to relevant line of code):
  1. -> at net.lab1024.sa.access.service.AccessInterlockServiceTest.testTestRule_Success(AccessInterlockServiceTest.java:365)
Please remove unnecessary stubbings or use 'lenient' strictness. More info: javadoc for UnnecessaryStubbingException class.
	at org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:197)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Errors: 
[ERROR]   AccessInterlockServiceTest.testTestRule_Success » UnnecessaryStubbing 
Unnecessary stubbings detected.
Clean & maintainable test code requires zero unnecessary code.
Following stubbings are unnecessary (click to navigate to relevant line of code):
  1. -> at net.lab1024.sa.access.service.AccessInterlockServiceTest.testTestRule_Success(AccessInterlockServiceTest.java:365)
Please remove unnecessary stubbings or use 'lenient' strictness. More info: javadoc for UnnecessaryStubbingException class.
[INFO] 
[ERROR] Tests run: 17, Failures: 0, Errors: 1, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  7.231 s
[INFO] Finished at: 2025-12-25T19:35:33+08:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.2.5:test (default-test) on project ioedream-access-service: 
[ERROR] 
[ERROR] Please refer to D:\IOE-DREAM\microservices\ioedream-access-service\target\surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
