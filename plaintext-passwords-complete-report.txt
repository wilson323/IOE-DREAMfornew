============================================================
IOE-DREAM 明文密码完整扫描报告
生成时间: 2025-01-30
============================================================

扫描结果:
- 发现明文密码: 42个实例（排除target目录后约20个）
- 主要问题: Nacos密码使用明文默认值 "nacos"

============================================================
需要修复的文件清单（按服务分组）
============================================================

【1】ioedream-gateway-service (4个)
----------------------------------------
文件: microservices/ioedream-gateway-service/src/main/resources/application.yml
  行74: password: ${NACOS_PASSWORD:nacos}
  行82: password: ${NACOS_PASSWORD:nacos}

文件: microservices/ioedream-gateway-service/src/main/resources/bootstrap.yml
  行30: password: ${NACOS_PASSWORD:nacos}
  行45: password: ${NACOS_PASSWORD:nacos}

【2】ioedream-consume-service (6个)
----------------------------------------
文件: microservices/ioedream-consume-service/src/main/resources/application.yml
  行78: password: ${NACOS_PASSWORD:nacos}
  行86: password: ${NACOS_PASSWORD:nacos}

文件: microservices/ioedream-consume-service/src/main/resources/bootstrap.yml
  行30: password: ${NACOS_PASSWORD:nacos}
  行47: password: ${NACOS_PASSWORD:nacos}
  行101: password: ${NACOS_PASSWORD}
  行111: password: ${NACOS_PASSWORD}

【3】ioedream-access-service (1个)
----------------------------------------
文件: microservices/ioedream-access-service/src/main/resources/application.yml
  行35: password: ${NACOS_PASSWORD:nacos}

【4】ioedream-attendance-service (2个)
----------------------------------------
文件: microservices/ioedream-attendance-service/src/main/resources/bootstrap.yml
  行30: password: ${NACOS_PASSWORD:nacos}
  行48: password: ${NACOS_PASSWORD:nacos}

【5】ioedream-video-service (2个)
----------------------------------------
文件: microservices/ioedream-video-service/src/main/resources/bootstrap.yml
  行30: password: ${NACOS_PASSWORD:nacos}
  行48: password: ${NACOS_PASSWORD:nacos}

【6】ioedream-visitor-service (2个)
----------------------------------------
文件: microservices/ioedream-visitor-service/src/main/resources/bootstrap.yml
  行30: password: ${NACOS_PASSWORD:nacos}
  行48: password: ${NACOS_PASSWORD:nacos}

【7】ioedream-device-comm-service (2个)
----------------------------------------
文件: microservices/ioedream-device-comm-service/src/main/resources/bootstrap.yml
  行30: password: ${NACOS_PASSWORD:nacos}
  行47: password: ${NACOS_PASSWORD:nacos}

【8】ioedream-oa-service (2个)
----------------------------------------
文件: microservices/ioedream-oa-service/src/main/resources/bootstrap.yml
  行30: password: ${NACOS_PASSWORD:nacos}
  行47: password: ${NACOS_PASSWORD:nacos}

【9】ioedream-database-service (1个)
----------------------------------------
文件: microservices/ioedream-database-service/src/main/resources/application.yml
  行17: password: ${NACOS_PASSWORD:nacos}

【10】公共配置 (2个)
----------------------------------------
文件: microservices/common-config/seata/application-seata.yml
  行23: password: ${NACOS_PASSWORD:nacos}
  行33: password: ${NACOS_PASSWORD:nacos}

============================================================
修复步骤
============================================================

1. 生成加密值
   .\scripts\security\nacos-encrypt-password.ps1 -Password "nacos"

2. 手动修复格式
   修复前: password: ${NACOS_PASSWORD:nacos}
   修复后: password: ${NACOS_PASSWORD:ENC(AES256:加密后的值)}

3. 验证修复
   .\scripts\security\verify-encrypted-config.ps1

============================================================
总计需要修复
============================================================
- 文件数: 10个源文件（排除target目录）
- 实例数: 22个明文密码实例
- 主要类型: Nacos密码明文默认值

============================================================

