# IOE-DREAM 项目介绍

**项目类型**: 智慧园区一卡通管理平台
**架构模式**: 七微服务架构
**技术栈**: Spring Boot 3.5.8 + Java 17 + Nacos
**文档版本**: v2.0.0

---

## 📋 项目概述

IOE-DREAM智慧园区一卡通管理平台是一个企业级的智能化管理平台，采用现代化的微服务架构，为园区提供门禁、考勤、消费、视频监控、访客管理等多种智能化服务。

### 🎯 核心价值
- **统一身份认证**: 一卡通通行所有服务
- **智能化管理**: AI赋能的智能安防和数据分析
- **高可用架构**: 微服务化保证系统稳定性
- **便捷用户体验**: 移动端和Web端统一体验

---

## 🏗️ 技术架构

### 七微服务架构
```
ioedream-gateway-service (8080)     # API网关 - 统一入口
ioedream-common-service (8088)     # 公共服务 - 认证、配置、监控
ioedream-device-comm-service (8087) # 设备通讯 - 协议适配、连接管理
ioedream-oa-service (8089)         # OA服务 - 文档、流程、企业信息
ioedream-access-service (8090)     # 门禁服务 - 权限控制、门禁管理
ioedream-attendance-service (8091) # 考勤服务 - 考勤管理、排班统计
ioedream-video-service (8092)      # 视频服务 - 视频监控、智能分析
ioedream-consume-service (8094)    # 消费服务 - 消费管理、支付、商户
ioedream-visitor-service (8095)    # 访客服务 - 访客管理、预约登记
```

### 四层架构规范
```
Controller → Service → Manager → DAO
```

**严格分层职责**:
- **Controller层**: HTTP接口、参数验证、响应封装
- **Service层**: 核心业务逻辑、事务管理
- **Manager层**: 复杂流程编排、多数据组装、缓存管理
- **DAO层**: 数据库CRUD、SQL查询实现

### 核心技术栈
- **后端框架**: Spring Boot 3.5.8
- **数据库**: MySQL 8.0+ with Druid连接池
- **缓存**: Redis (db=0)
- **服务注册**: Nacos
- **API网关**: Spring Cloud Gateway
- **权限框架**: Sa-Token
- **ORM框架**: MyBatis-Plus
- **构建工具**: Maven 3.8+

---

## 🚀 核心功能模块
## 📋 IOE-DREAM七微服务架构

**核心架构组成**:
- **Gateway Service (8080)**: API网关
- **Common Service (8088)**: 公共模块微服务
- **DeviceComm Service (8087)**: 设备通讯微服务
- **OA Service (8089)**: OA微服务
- **Access Service (8090)**: 门禁服务
- **Attendance Service (8091)**: 考勤服务
- **Video Service (8092)**: 视频服务
- **Consume Service (8094)**: 消费服务
- **Visitor Service (8095)**: 访客服务

**架构特点**:
- 基于Spring Boot 3.5.8 + Java 17
- 严格遵循企业级微服务规范
- 支持高并发、高可用、水平扩展

**技术栈标准**:
- **数据库**: MySQL 8.0 + Druid连接池
- **缓存**: Redis + Caffeine多级缓存
- **注册中心**: Nacos
- **配置中心**: Nacos Config
- **认证授权**: Sa-Token

## 🏗️ 四层架构规范

**标准架构模式**:
```
Controller (接口控制层)
    ↓
Service (核心业务层)
    ↓
Manager (流程管理层)
    ↓
DAO (数据访问层)
```

**层级职责**:
- **Controller层**: HTTP请求处理、参数验证、权限控制
- **Service层**: 核心业务逻辑、事务管理、业务规则验证
- **Manager层**: 复杂流程编排、多数据组装、第三方服务集成
- **DAO层**: 数据库CRUD操作、SQL查询实现、数据访问边界

**严格禁止跨层访问**: Controller不能直接调用Manager/DAO！
### 🔐 门禁管理系统
## ⚠️ IOE-DREAM零容忍规则（强制执行）

**必须遵守的架构规则**:
- ✅ **必须使用 @Resource 注入依赖**
- ✅ **必须使用 @Mapper 注解** (禁止@Repository)
- ✅ **必须使用 Dao 后缀** (禁止Repository)
- ✅ **必须使用 @RestController 注解**
- ✅ **必须使用 @Valid 参数校验**
- ✅ **必须返回统一ResponseDTO格式**
- ✅ **必须遵循四层架构边界**

**严格禁止事项**:
- ❌ **禁止使用 @Autowired 注入**
- ❌ **禁止使用 @Repository 注解**
- ❌ **禁止使用 Repository 后缀命名**
- ❌ **禁止跨层访问**
- ❌ **禁止在Controller中包含业务逻辑**
- ❌ **禁止直接访问数据库**

**违规后果**: P0级问题，立即修复，禁止合并！
- **智能权限控制**: 基于区域、时间、角色的权限管理
- **多模态认证**: 人脸、指纹、刷卡、密码等多重认证
- **实时监控**: 门禁状态实时监控和异常报警
- **设备管理**: 支持多种门禁设备的统一管理

### ⏰ 考勤管理系统
- **智能排班**: 灵活的排班规则和班次管理
- **多模态考勤**: 人脸识别、指纹、刷卡等多种考勤方式
- **异常处理**: 迟到、早退、缺勤等异常的智能处理
- **统计报表**: 考勤数据的统计分析和报表生成

### 💳 消费管理系统
- **账户管理**: 个人账户、企业账户的统一管理
- **多种支付**: 支持刷卡、扫码、人脸支付等多种方式
- **商户管理**: 餐厅、超市等商户的统一管理
- **补贴管理**: 餐补、交通补等补贴的智能管理

### 📹 视频监控系统
- **智能分析**: 人脸识别、行为分析等AI功能
- **实时预览**: 多路视频流的实时预览
- **录像回放**: 历史录像的智能检索和回放
- **报警联动**: 异常事件的自动报警和联动处理

### 👥 访客管理系统
- **在线预约**: 访客信息的在线预约和管理
- **智能审批**: 多级审批流程和智能审批
- **临时授权**: 访客临时门禁和设备授权
- **轨迹跟踪**: 访客在园区内的轨迹跟踪

---

## 🎯 开发核心规范

### 必须遵守的零容忍规则

**1. 依赖注入规范**
```java
// ✅ 正确：使用 @Resource
@Resource
private UserService userService;

// ❌ 禁止：使用 @Autowired
@Autowired
private UserService userService;
```

**2. DAO层命名规范**
```java
// ✅ 正确：使用 Dao 后缀和 @Mapper
@Mapper
public interface UserDao extends BaseMapper<UserEntity> {
}

// ❌ 禁止：使用 Repository 后缀和 @Repository
@Repository
public interface UserRepository extends JpaRepository<User, Long> {
}
```

**3. 架构分层规范**
```java
// ✅ 正确：严格遵循四层架构
@RestController
public class UserController {
    @Resource
    private UserService userService;  // 只能访问Service层
}

// ❌ 禁止：跨层访问
@RestController
public class UserController {
    @Resource
    private UserDao userDao;  // 禁止直接访问DAO层
}
```

### 代码质量标准
- **圈复杂度** ≤ 10
- **方法行数** ≤ 50行
- **类行数** ≤ 500行
- **代码覆盖率** ≥ 80%
- **重复代码率** ≤ 3%

---

## 🔧 开发环境要求

### 必需软件
- **Java**: OpenJDK 17+
- **Maven**: 3.8+
- **MySQL**: 8.0+
- **Redis**: 6.0+
- **Node.js**: 18+ (前端开发)
- **IDE**: IntelliJ IDEA 2023+

### 推荐配置
- **内存**: 16GB+ RAM
- **硬盘**: 100GB+ SSD
- **操作系统**: Windows 10/11, macOS 10.15+, Ubuntu 18.04+

---

## 📚 学习路径

### 新手入门 (第1周)
1. **了解项目架构**: 阅读 [全局架构规范](../../01-核心规范/架构规范/全局架构规范.md)
2. **搭建开发环境**: 按照环境搭建指南配置本地环境
3. **学习编码规范**: 掌握 [Java编码规范](../../01-核心规范/开发规范/Java编码规范.md)
4. **运行示例项目**: 克隆代码并成功启动项目

### 进阶开发 (第2-4周)
1. **业务模块学习**: 深入了解各业务模块的实现
2. **数据库设计**: 学习数据库表结构和设计原则
3. **接口开发**: 学习RESTful API设计和开发
4. **测试编写**: 掌握单元测试和集成测试

### 高级特性 (第2个月)
1. **缓存策略**: 学习多级缓存和性能优化
2. **分布式事务**: 了解SAGA分布式事务模式
3. **监控运维**: 掌握系统监控和运维工具
4. **安全设计**: 学习系统安全设计和防护

---

## 🔗 相关文档

### 核心规范
- [全局架构规范](../../01-核心规范/架构规范/全局架构规范.md) - 最重要的架构文档
- [Java编码规范](../../01-核心规范/开发规范/Java编码规范.md) - 开发必读
- [API设计规范](../../01-核心规范/开发规范/API设计规范.md) - 接口设计标准

### 开发指南
- [环境搭建指南](./环境搭建.md) - 本地环境配置
- [快速开始教程](./10分钟上手指南.md) - 10分钟快速上手
- [架构设计指南](../架构设计/系统架构设计.md) - 架构设计原则

### 业务模块
- [门禁系统文档](../../03-业务模块/门禁系统/功能概述.md)
- [考勤系统文档](../../03-业务模块/考勤系统/功能概述.md)
- [消费系统文档](../../03-业务模块/消费系统/功能概述.md)

---

## 📞 支持与联系

### 技术支持
- **架构问题**: 咨询架构委员会
- **开发问题**: 在团队群中求助
- **环境问题**: 联系DevOps团队

### 文档反馈
- **文档问题**: 提交Git Issue
- **内容建议**: 联系文档维护团队
- **更新请求**: 向架构委员会提出

---

## 📝 版本信息

**当前版本**: v2.0.0
**最后更新**: 2025-12-02
**维护团队**: IOE-DREAM架构委员会
**下次更新**: 根据项目进展持续更新

---

**🎯 欢迎加入IOE-DREAM项目，让我们一起构建优秀的智慧园区管理平台！**