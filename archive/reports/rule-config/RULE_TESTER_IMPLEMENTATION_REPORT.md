# è§„åˆ™æµ‹è¯•å·¥å…·å®æ–½æŠ¥å‘Š

## ğŸ“‹ é¡¹ç›®ä¿¡æ¯

**é¡¹ç›®åç§°**: IOE-DREAM æ™ºæ…§å›­åŒºç®¡ç†ç³»ç»Ÿ
**åŠŸèƒ½æ¨¡å—**: è€ƒå‹¤ç®¡ç† - è§„åˆ™æµ‹è¯•å·¥å…·
**å®æ–½æ—¥æœŸ**: 2025-12-26
**å®æ–½çŠ¶æ€**: âœ… å·²å®Œæˆ
**å®æ–½ä¼˜å…ˆçº§**: P1ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

---

## ğŸ“Š åŠŸèƒ½æ¦‚è¿°

### åŠŸèƒ½å®šä½

è§„åˆ™æµ‹è¯•å·¥å…·æ˜¯è€ƒå‹¤è§„åˆ™å¼•æ“çš„é‡è¦è¾…åŠ©åŠŸèƒ½ï¼Œå…è®¸ç®¡ç†å‘˜å’Œå¼€å‘äººå‘˜åœ¨éƒ¨ç½²è§„åˆ™å‰è¿›è¡Œæµ‹è¯•éªŒè¯ï¼Œç¡®ä¿è§„åˆ™çš„æ­£ç¡®æ€§å’Œæœ‰æ•ˆæ€§ã€‚

### æ ¸å¿ƒä»·å€¼

- âœ… **æé«˜è§„åˆ™è´¨é‡**: é€šè¿‡æµ‹è¯•éªŒè¯è§„åˆ™çš„æ­£ç¡®æ€§ï¼Œå‡å°‘ç”Ÿäº§ç¯å¢ƒé”™è¯¯
- âœ… **é™ä½è°ƒè¯•æˆæœ¬**: åœ¨å¼€å‘é˜¶æ®µå‘ç°é—®é¢˜ï¼Œé¿å…ç”Ÿäº§ç¯å¢ƒæ•…éšœ
- âœ… **å¢å¼ºç”¨æˆ·ä½“éªŒ**: æä¾›å¯è§†åŒ–çš„æµ‹è¯•ç»“æœå’Œæ‰§è¡Œæ—¥å¿—
- âœ… **æå‡å¼€å‘æ•ˆç‡**: å¿«é€Ÿæµ‹è¯•åŠŸèƒ½åŠ é€Ÿè§„åˆ™å¼€å‘è¿­ä»£

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å‰ç«¯å±‚ (Vue 3)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ rule-tester.vue  â”‚  â”‚schedule-rule-   â”‚                 â”‚
â”‚  â”‚  è§„åˆ™æµ‹è¯•é¡µé¢     â”‚  â”‚manage.vue       â”‚                 â”‚
â”‚  â”‚  - è§„åˆ™ç¼–è¾‘å™¨     â”‚  â”‚  - è§„åˆ™ç®¡ç†      â”‚                 â”‚
â”‚  â”‚  - åœºæ™¯é€‰æ‹©       â”‚  â”‚  - å¿«é€Ÿæµ‹è¯•      â”‚                 â”‚
â”‚  â”‚  - ç»“æœå±•ç¤º       â”‚  â”‚  - é«˜çº§æµ‹è¯•å…¥å£  â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“ HTTP/REST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ§åˆ¶å™¨å±‚ (Spring)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  AttendanceRuleTestController                                â”‚
â”‚  - POST /test/{ruleId}         æµ‹è¯•å•ä¸ªè§„åˆ™                   â”‚
â”‚  - POST /test-custom            æµ‹è¯•è‡ªå®šä¹‰è§„åˆ™                 â”‚
â”‚  - POST /batch                  æ‰¹é‡æµ‹è¯•è§„åˆ™                   â”‚
â”‚  - POST /quick                  å¿«é€Ÿæµ‹è¯•                       â”‚
â”‚  - GET  /generate/{scenario}    ç”Ÿæˆæµ‹è¯•æ•°æ®                 â”‚
â”‚  - POST /validate               éªŒè¯è§„åˆ™è¯­æ³•                  â”‚
â”‚  - GET  /scenarios              è·å–æµ‹è¯•åœºæ™¯                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“ Serviceè°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æœåŠ¡å±‚ (Service)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  RuleTestService (æ¥å£)                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ RuleTestServiceImpl (å®ç°)                          â”‚    â”‚
â”‚  â”‚ - testRule()           æµ‹è¯•å•ä¸ªè§„åˆ™                   â”‚    â”‚
â”‚  â”‚ - testCustomRule()     æµ‹è¯•è‡ªå®šä¹‰è§„åˆ™                 â”‚    â”‚
â”‚  â”‚ - batchTestRules()     æ‰¹é‡æµ‹è¯•è§„åˆ™                   â”‚    â”‚
â”‚  â”‚ - generateTestData()   ç”Ÿæˆæµ‹è¯•æ•°æ®                   â”‚    â”‚
â”‚  â”‚ - quickTest()          å¿«é€Ÿæµ‹è¯•                       â”‚    â”‚
â”‚  â”‚ - validateRuleSyntax() éªŒè¯è§„åˆ™è¯­æ³•                   â”‚    â”‚
â”‚  â”‚ - getTestScenarios()   è·å–æµ‹è¯•åœºæ™¯                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“ ä¸šåŠ¡è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è§„åˆ™å¼•æ“å±‚ (Engine)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  AttendanceRuleEngine                                        â”‚
â”‚  - evaluateRule()        æ‰§è¡Œè§„åˆ™è¯„ä¼°                       â”‚
â”‚  - compileRuleCondition() ç¼–è¯‘è§„åˆ™æ¡ä»¶                     â”‚
â”‚  - compileRuleAction()    ç¼–è¯‘è§„åˆ™åŠ¨ä½œ                      â”‚
â”‚                                                              â”‚
â”‚  æ ¸å¿ƒæ¨¡å‹:                                                    â”‚
â”‚  - RuleExecutionContext   è§„åˆ™æ‰§è¡Œä¸Šä¸‹æ–‡                      â”‚
â”‚  - RuleEvaluationResult   è§„åˆ™è¯„ä¼°ç»“æœ                       â”‚
â”‚  - CompiledRule          ç¼–è¯‘åçš„è§„åˆ™                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“ æ•°æ®è®¿é—®
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å±‚ (DAO/Entity)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  AttendanceRuleDao                                           â”‚
â”‚  AttendanceRuleEntity                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | ç‰ˆæœ¬ |
|------|---------|------|
| **å‰ç«¯æ¡†æ¶** | Vue 3 | 3.4.x |
| **UIç»„ä»¶åº“** | Ant Design Vue | 4.x |
| **æ„å»ºå·¥å…·** | Vite | 5.x |
| **çŠ¶æ€ç®¡ç†** | Pinia | 2.x |
| **è·¯ç”±ç®¡ç†** | Vue Router | 4.x |
| **åç«¯æ¡†æ¶** | Spring Boot | 3.5.8 |
| **ORMæ¡†æ¶** | MyBatis-Plus | 3.5.15 |
| **è§„åˆ™å¼•æ“** | Aviator | 5.3.x |
| **APIæ–‡æ¡£** | Swagger v3 | 2.x |

---

## ğŸ’» å®æ–½è¯¦æƒ…

### åç«¯å®ç°

#### 1. æ•°æ®æ¨¡å‹

**RuleTestRequest.java** - æµ‹è¯•è¯·æ±‚è¡¨å•
```java
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "è§„åˆ™æµ‹è¯•è¯·æ±‚è¡¨å•")
public class RuleTestRequest {
    // è§„åˆ™ç›¸å…³
    private Long ruleId;              // è§„åˆ™ID
    private String ruleCondition;      // è§„åˆ™æ¡ä»¶
    private String ruleAction;         // è§„åˆ™åŠ¨ä½œ

    // ç”¨æˆ·ä¿¡æ¯
    private Long userId;               // ç”¨æˆ·ID
    private String userName;           // ç”¨æˆ·å§“å
    private Long departmentId;         // éƒ¨é—¨ID
    private String departmentName;     // éƒ¨é—¨åç§°

    // è€ƒå‹¤ä¿¡æ¯
    private LocalDate attendanceDate;  // è€ƒå‹¤æ—¥æœŸ
    private LocalTime punchTime;       // æ‰“å¡æ—¶é—´
    private String punchType;          // æ‰“å¡ç±»å‹ (IN/OUT)
    private LocalTime scheduleStartTime; // æ’ç­å¼€å§‹æ—¶é—´
    private LocalTime scheduleEndTime;   // æ’ç­ç»“æŸæ—¶é—´
    private String workLocation;       // å·¥ä½œåœ°ç‚¹
    private String deviceId;           // è®¾å¤‡ID
    private String deviceName;         // è®¾å¤‡åç§°

    // æ‰©å±•å±æ€§
    private Map<String, Object> userAttributes;       // ç”¨æˆ·å±æ€§
    private Map<String, Object> attendanceAttributes; // è€ƒå‹¤å±æ€§
    private Map<String, Object> environmentParams;   // ç¯å¢ƒå‚æ•°
}
```

**RuleTestResultVO.java** - æµ‹è¯•ç»“æœVO
```java
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "è§„åˆ™æµ‹è¯•ç»“æœè§†å›¾å¯¹è±¡")
public class RuleTestResultVO {
    // åŸºæœ¬ä¿¡æ¯
    private String testId;              // æµ‹è¯•ID
    private Long ruleId;                // è§„åˆ™ID
    private String ruleName;            // è§„åˆ™åç§°
    private String ruleCondition;       // è§„åˆ™æ¡ä»¶
    private String ruleAction;          // è§„åˆ™åŠ¨ä½œ

    // æµ‹è¯•ç»“æœ
    private String testResult;          // MATCH/NOT_MATCH/ERROR
    private String resultMessage;       // ç»“æœæè¿°
    private Boolean conditionMatched;   // æ¡ä»¶æ˜¯å¦åŒ¹é…

    // æ‰§è¡Œè¯¦æƒ…
    private List<ActionExecutionVO> executedActions;  // æ‰§è¡Œçš„åŠ¨ä½œåˆ—è¡¨
    private Long executionTime;         // æ‰§è¡Œæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
    private List<ExecutionLogVO> executionLogs;       // æ‰§è¡Œæ—¥å¿—
    private String errorMessage;        // é”™è¯¯ä¿¡æ¯
    private LocalDateTime testTimestamp; // æµ‹è¯•æ—¶é—´æˆ³

    // æµ‹è¯•æ•°æ®
    private Map<String, Object> testInputData;  // æµ‹è¯•è¾“å…¥æ•°æ®
    private Map<String, Object> testOutputData; // æµ‹è¯•è¾“å‡ºæ•°æ®

    // åµŒå¥—ç±»
    @Data
    @Builder
    public static class ActionExecutionVO {
        private String actionName;          // åŠ¨ä½œåç§°
        private Object actionValue;         // åŠ¨ä½œå€¼
        private String executionStatus;     // æ‰§è¡ŒçŠ¶æ€ (SUCCESS/FAILED)
        private String executionMessage;    // æ‰§è¡Œæ¶ˆæ¯
        private LocalDateTime executionTimestamp; // æ‰§è¡Œæ—¶é—´æˆ³
    }

    @Data
    @Builder
    public static class ExecutionLogVO {
        private String logLevel;           // æ—¥å¿—çº§åˆ« (INFO/WARN/ERROR/DEBUG)
        private String logMessage;          // æ—¥å¿—æ¶ˆæ¯
        private LocalDateTime logTimestamp; // æ—¥å¿—æ—¶é—´æˆ³
        private Map<String, Object> logData; // æ—¥å¿—æ•°æ®
    }
}
```

#### 2. æœåŠ¡å±‚

**RuleTestService.java** - æœåŠ¡æ¥å£
```java
public interface RuleTestService {
    /**
     * æµ‹è¯•å•ä¸ªè§„åˆ™
     */
    RuleTestResultVO testRule(Long ruleId, RuleTestRequest testRequest);

    /**
     * æµ‹è¯•è‡ªå®šä¹‰è§„åˆ™
     */
    RuleTestResultVO testCustomRule(RuleTestRequest testRequest);

    /**
     * æ‰¹é‡æµ‹è¯•è§„åˆ™
     */
    List<RuleTestResultVO> batchTestRules(List<Long> ruleIds, RuleTestRequest testRequest);

    /**
     * ç”Ÿæˆæµ‹è¯•æ•°æ®
     */
    RuleTestRequest generateTestData(String scenario);

    /**
     * å¿«é€Ÿæµ‹è¯•ï¼ˆä½¿ç”¨é»˜è®¤æ•°æ®ï¼‰
     */
    RuleTestResultVO quickTest(String ruleCondition, String ruleAction);

    /**
     * éªŒè¯è§„åˆ™è¯­æ³•
     */
    Boolean validateRuleSyntax(String ruleCondition, String ruleAction);

    /**
     * è·å–æµ‹è¯•åœºæ™¯åˆ—è¡¨
     */
    List<TestScenarioVO> getTestScenarios();
}
```

**RuleTestServiceImpl.java** - æœåŠ¡å®ç°å…³é”®æ–¹æ³•

**æµ‹è¯•è§„åˆ™æ‰§è¡Œ**:
```java
@Override
public RuleTestResultVO testRule(Long ruleId, RuleTestRequest testRequest) {
    long startTime = System.currentTimeMillis();

    try {
        // 1. æ„å»ºè§„åˆ™æ‰§è¡Œä¸Šä¸‹æ–‡
        RuleExecutionContext context = buildExecutionContext(testRequest);

        // 2. æ‰§è¡Œè§„åˆ™è¯„ä¼°
        RuleEvaluationResult evaluationResult = attendanceRuleEngine.evaluateRule(ruleId, context);

        // 3. æ„å»ºæµ‹è¯•ç»“æœ
        long executionTime = System.currentTimeMillis() - startTime;
        RuleTestResultVO result = buildTestResult(ruleId, evaluationResult, executionTime, testRequest);

        return result;
    } catch (Exception e) {
        return buildErrorResult(ruleId, e, testRequest, startTime);
    }
}
```

**ç”Ÿæˆæµ‹è¯•æ•°æ®**:
```java
@Override
public RuleTestRequest generateTestData(String scenario) {
    switch (scenario.toUpperCase()) {
        case "LATE":
            // è¿Ÿåˆ°åœºæ™¯ï¼šæ‰“å¡æ—¶é—´æ™šäºæ’ç­å¼€å§‹æ—¶é—´5åˆ†é’Ÿ
            return RuleTestRequest.builder()
                .userId(1001L)
                .userName("å¼ ä¸‰")
                .punchTime(LocalTime.of(8, 35, 0))
                .scheduleStartTime(LocalTime.of(8, 30, 0))
                .attendanceAttributes(Map.of("lateMinutes", 5))
                .build();

        case "EARLY":
            // æ—©é€€åœºæ™¯ï¼šä¸‹ç­æ‰“å¡æ—©äºæ’ç­ç»“æŸæ—¶é—´15åˆ†é’Ÿ
            return RuleTestRequest.builder()
                .userId(1002L)
                .userName("æå››")
                .punchTime(LocalTime.of(17, 15, 0))
                .scheduleEndTime(LocalTime.of(17, 30, 0))
                .attendanceAttributes(Map.of("earlyLeaveMinutes", 15))
                .build();

        case "OVERTIME":
            // åŠ ç­åœºæ™¯ï¼šåŠ ç­2.5å°æ—¶
            return RuleTestRequest.builder()
                .userId(1003L)
                .userName("ç‹äº”")
                .punchTime(LocalTime.of(20, 0, 0))
                .scheduleEndTime(LocalTime.of(17, 30, 0))
                .attendanceAttributes(Map.of("overtimeHours", 2.5))
                .build();

        case "ABSENT":
            // ç¼ºå‹¤åœºæ™¯ï¼šæ— æ‰“å¡è®°å½•
            return RuleTestRequest.builder()
                .userId(1004L)
                .userName("èµµå…­")
                .punchTime(null)
                .attendanceAttributes(Map.of("absentHours", 8))
                .build();

        case "NORMAL":
            // æ­£å¸¸åœºæ™¯ï¼šå‡†æ—¶æ‰“å¡
            return RuleTestRequest.builder()
                .userId(1005L)
                .userName("å­™ä¸ƒ")
                .punchTime(LocalTime.of(8, 28, 0))
                .scheduleStartTime(LocalTime.of(8, 30, 0))
                .build();

        default:
            throw new BusinessException("INVALID_SCENARIO", "ä¸æ”¯æŒçš„æµ‹è¯•åœºæ™¯: " + scenario);
    }
}
```

#### 3. æ§åˆ¶å™¨å±‚

**AttendanceRuleTestController.java** - REST APIç«¯ç‚¹

```java
@RestController
@RequestMapping("/api/v1/attendance/rule-test")
@Tag(name = "è€ƒå‹¤è§„åˆ™æµ‹è¯•å·¥å…·")
public class AttendanceRuleTestController {

    @Resource
    private RuleTestService ruleTestService;

    /**
     * æµ‹è¯•å•ä¸ªè§„åˆ™
     * POST /api/v1/attendance/rule-test/test/{ruleId}
     */
    @PostMapping("/test/{ruleId}")
    @Operation(summary = "æµ‹è¯•å•ä¸ªè§„åˆ™")
    public ResponseDTO<RuleTestResultVO> testRule(
        @PathVariable Long ruleId,
        @Valid @RequestBody RuleTestRequest testRequest
    ) {
        RuleTestResultVO result = ruleTestService.testRule(ruleId, testRequest);
        return ResponseDTO.ok(result);
    }

    /**
     * æµ‹è¯•è‡ªå®šä¹‰è§„åˆ™
     * POST /api/v1/attendance/rule-test/test-custom
     */
    @PostMapping("/test-custom")
    @Operation(summary = "æµ‹è¯•è‡ªå®šä¹‰è§„åˆ™")
    public ResponseDTO<RuleTestResultVO> testCustomRule(
        @Valid @RequestBody RuleTestRequest testRequest
    ) {
        RuleTestResultVO result = ruleTestService.testCustomRule(testRequest);
        return ResponseDTO.ok(result);
    }

    // ... å…¶ä»–APIç«¯ç‚¹
}
```

### å‰ç«¯å®ç°

#### 1. é¡µé¢ç»„ä»¶

**rule-tester.vue** - è§„åˆ™æµ‹è¯•é¡µé¢

**æ ¸å¿ƒåŠŸèƒ½**:
- âœ… **è§„åˆ™é…ç½®åŒº**: æ”¯æŒé€‰æ‹©å·²æœ‰è§„åˆ™æˆ–è‡ªå®šä¹‰è§„åˆ™
- âœ… **åœºæ™¯é€‰æ‹©**: 5ç§é¢„è®¾åœºæ™¯ï¼ˆè¿Ÿåˆ°ã€æ—©é€€ã€åŠ ç­ã€ç¼ºå‹¤ã€æ­£å¸¸ï¼‰
- âœ… **è‡ªå®šä¹‰æ•°æ®**: æ”¯æŒæ‰‹åŠ¨ç¼–è¾‘æµ‹è¯•æ•°æ®
- âœ… **ç»“æœå±•ç¤º**: å¯è§†åŒ–å±•ç¤ºæµ‹è¯•ç»“æœå’Œæ‰§è¡Œæ—¥å¿—
- âœ… **æ‰¹é‡æµ‹è¯•**: æ”¯æŒå¤šä¸ªè§„åˆ™åŒæ—¶æµ‹è¯•

**å…³é”®ä»£ç ç‰‡æ®µ**:

```vue
<!-- è§„åˆ™ç±»å‹é€‰æ‹© -->
<a-form-item label="æµ‹è¯•æ¨¡å¼">
  <a-radio-group v-model:value="testMode" @change="handleTestModeChange">
    <a-radio value="existing">æµ‹è¯•å·²æœ‰è§„åˆ™</a-radio>
    <a-radio value="custom">è‡ªå®šä¹‰è§„åˆ™</a-radio>
  </a-radio-group>
</a-form-item>

<!-- åœºæ™¯é€‰æ‹©æŒ‰é’® -->
<a-button
  v-for="scenario in testScenarios"
  :key="scenario.scenarioCode"
  :type="selectedScenario === scenario.scenarioCode ? 'primary' : 'default'"
  @click="selectScenario(scenario.scenarioCode)"
>
  {{ scenario.scenarioName }}
</a-button>

<!-- æµ‹è¯•ç»“æœå±•ç¤º -->
<a-result
  :status="testResultStatus"
  :title="testResultTitle"
  :sub-title="testResultSubtitle"
>
  <a-descriptions bordered :column="1" size="small">
    <a-descriptions-item label="æµ‹è¯•ç»“æœ">
      <a-tag :color="getTestResultColor(testResult.testResult)">
        {{ testResult.testResult }}
      </a-tag>
    </a-descriptions-item>
    <a-descriptions-item label="æ‰§è¡Œæ—¶é—´">
      {{ testResult.executionTime }} ms
    </a-descriptions-item>
  </a-descriptions>
</a-result>
```

#### 2. APIå°è£…

**rule-test-api.ts** - APIæ¥å£å°è£…

```typescript
import { request } from '/@/utils/request';

// æµ‹è¯•å•ä¸ªè§„åˆ™
export const testRule = (ruleId, data) => {
  return request.post(`/api/v1/attendance/rule-test/test/${ruleId}`, data);
};

// æµ‹è¯•è‡ªå®šä¹‰è§„åˆ™
export const testCustomRule = (data) => {
  return request.post('/api/v1/attendance/rule-test/test-custom', data);
};

// æ‰¹é‡æµ‹è¯•è§„åˆ™
export const batchTestRules = (ruleIds, data) => {
  return request.post('/api/v1/attendance/rule-test/batch', data, {
    params: { ruleIds }
  });
};

// å¿«é€Ÿæµ‹è¯•
export const quickTest = (ruleCondition, ruleAction) => {
  return request.post('/api/v1/attendance/rule-test/quick', null, {
    params: { ruleCondition, ruleAction }
  });
};

// ç”Ÿæˆæµ‹è¯•æ•°æ®
export const generateTestData = (scenario) => {
  return request.get(`/api/v1/attendance/rule-test/generate/${scenario}`);
};

// éªŒè¯è§„åˆ™è¯­æ³•
export const validateRuleSyntax = (ruleCondition, ruleAction) => {
  return request.post('/api/v1/attendance/rule-test/validate', null, {
    params: { ruleCondition, ruleAction }
  });
};

// è·å–æµ‹è¯•åœºæ™¯åˆ—è¡¨
export const getTestScenarios = () => {
  return request.get('/api/v1/attendance/rule-test/scenarios');
};
```

#### 3. é¡µé¢é›†æˆ

**schedule-rule-manage.vue** - é›†æˆé«˜çº§æµ‹è¯•å…¥å£

**ä¿®æ”¹å†…å®¹**:
1. æ·»åŠ "é«˜çº§æµ‹è¯•"æŒ‰é’®
2. å®ç°è·³è½¬åˆ°ä¸“é—¨æµ‹è¯•é¡µé¢
3. ä¿ç•™åŸæœ‰çš„å¿«é€Ÿæµ‹è¯•åŠŸèƒ½

```vue
<!-- æ“ä½œåˆ—æ·»åŠ é«˜çº§æµ‹è¯•æŒ‰é’® -->
<template v-else-if="column.key === 'action'">
  <a-space>
    <a-button type="link" size="small" @click="testRule(record)">
      å¿«é€Ÿæµ‹è¯•
    </a-button>
    <a-button type="link" size="small" @click="openAdvancedTester(record)">
      é«˜çº§æµ‹è¯•
    </a-button>
  </a-space>
</template>

<script setup>
import { useRouter } from 'vue-router';

const router = useRouter();

// æ‰“å¼€é«˜çº§æµ‹è¯•å·¥å…·
const openAdvancedTester = (record) => {
  router.push({
    path: '/business/attendance/rule-tester',
    query: {
      ruleId: record.ruleId,
      ruleName: record.ruleName
    }
  });
};
</script>
```

---

## ğŸ“š APIæ¥å£æ–‡æ¡£

### 1. æµ‹è¯•å•ä¸ªè§„åˆ™

**æ¥å£åœ°å€**: `POST /api/v1/attendance/rule-test/test/{ruleId}`

**è¯·æ±‚å‚æ•°**:
```json
{
  "ruleId": 1234567890,
  "userId": 1001,
  "userName": "å¼ ä¸‰",
  "departmentId": 10,
  "departmentName": "ç ”å‘éƒ¨",
  "attendanceDate": "2024-01-01",
  "punchTime": "08:35:00",
  "punchType": "IN",
  "scheduleStartTime": "08:30:00",
  "scheduleEndTime": "17:30:00",
  "attendanceAttributes": {
    "lateMinutes": 5
  }
}
```

**å“åº”ç»“æœ**:
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "testId": "test-123456",
    "ruleId": 1234567890,
    "testResult": "MATCH",
    "resultMessage": "è§„åˆ™åŒ¹é…æˆåŠŸ",
    "conditionMatched": true,
    "executedActions": [
      {
        "actionName": "deductAmount",
        "actionValue": 50,
        "executionStatus": "SUCCESS",
        "executionMessage": "æ‰£æ¬¾50å…ƒ",
        "executionTimestamp": "2024-01-01T08:35:00"
      }
    ],
    "executionTime": 150,
    "testTimestamp": "2024-01-01T08:35:00",
    "testInputData": {
      "userId": 1001,
      "userName": "å¼ ä¸‰"
    },
    "executionLogs": [
      {
        "logLevel": "INFO",
        "logMessage": "å¼€å§‹è¯„ä¼°è§„åˆ™æ¡ä»¶",
        "logTimestamp": "2024-01-01T08:35:00"
      }
    ]
  }
}
```

### 2. æµ‹è¯•è‡ªå®šä¹‰è§„åˆ™

**æ¥å£åœ°å€**: `POST /api/v1/attendance/rule-test/test-custom`

**è¯·æ±‚å‚æ•°**: åŒä¸Šï¼Œä½†ä¸éœ€è¦ruleId

**å“åº”ç»“æœ**: åŒä¸Š

### 3. æ‰¹é‡æµ‹è¯•è§„åˆ™

**æ¥å£åœ°å€**: `POST /api/v1/attendance/rule-test/batch?ruleIds=1,2,3`

**è¯·æ±‚å‚æ•°**:
- Queryå‚æ•°: ruleIds (é€—å·åˆ†éš”çš„è§„åˆ™IDåˆ—è¡¨)
- Body: æµ‹è¯•è¯·æ±‚æ•°æ®

**å“åº”ç»“æœ**:
```json
{
  "code": 200,
  "data": [
    {
      "ruleId": 1,
      "testResult": "MATCH",
      "executionTime": 120
    },
    {
      "ruleId": 2,
      "testResult": "NOT_MATCH",
      "executionTime": 100
    }
  ]
}
```

### 4. ç”Ÿæˆæµ‹è¯•æ•°æ®

**æ¥å£åœ°å€**: `GET /api/v1/attendance/rule-test/generate/{scenario}`

**è·¯å¾„å‚æ•°**:
- scenario: LATE | EARLY | OVERTIME | ABSENT | NORMAL

**å“åº”ç»“æœ**:
```json
{
  "code": 200,
  "data": {
    "userId": 1001,
    "userName": "å¼ ä¸‰",
    "punchTime": "08:35:00",
    "scheduleStartTime": "08:30:00",
    "attendanceAttributes": {
      "lateMinutes": 5
    }
  }
}
```

### 5. éªŒè¯è§„åˆ™è¯­æ³•

**æ¥å£åœ°å€**: `POST /api/v1/attendance/rule-test/validate`

**è¯·æ±‚å‚æ•°**:
- ruleCondition: è§„åˆ™æ¡ä»¶ï¼ˆJSONå­—ç¬¦ä¸²ï¼‰
- ruleAction: è§„åˆ™åŠ¨ä½œï¼ˆJSONå­—ç¬¦ä¸²ï¼Œå¯é€‰ï¼‰

**å“åº”ç»“æœ**:
```json
{
  "code": 200,
  "data": true  // true-æœ‰æ•ˆ false-æ— æ•ˆ
}
```

### 6. è·å–æµ‹è¯•åœºæ™¯åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/v1/attendance/rule-test/scenarios`

**å“åº”ç»“æœ**:
```json
{
  "code": 200,
  "data": [
    {
      "scenarioCode": "LATE",
      "scenarioName": "è¿Ÿåˆ°åœºæ™¯",
      "scenarioDescription": "æµ‹è¯•è¿Ÿåˆ°ç›¸å…³è§„åˆ™",
      "exampleData": "{\"lateMinutes\": 5}"
    },
    {
      "scenarioCode": "EARLY",
      "scenarioName": "æ—©é€€åœºæ™¯",
      "scenarioDescription": "æµ‹è¯•æ—©é€€ç›¸å…³è§„åˆ™",
      "exampleData": "{\"earlyLeaveMinutes\": 15}"
    }
  ]
}
```

### 7. å¿«é€Ÿæµ‹è¯•

**æ¥å£åœ°å€**: `POST /api/v1/attendance/rule-test/quick`

**è¯·æ±‚å‚æ•°**:
- ruleCondition: è§„åˆ™æ¡ä»¶
- ruleAction: è§„åˆ™åŠ¨ä½œ

**å“åº”ç»“æœ**: åŒæµ‹è¯•å•ä¸ªè§„åˆ™

---

## ğŸ¯ æµ‹è¯•åœºæ™¯è¯´æ˜

### 1. LATE - è¿Ÿåˆ°åœºæ™¯

**åœºæ™¯æè¿°**: å‘˜å·¥ä¸Šç­æ‰“å¡æ—¶é—´æ™šäºæ’ç­å¼€å§‹æ—¶é—´

**æµ‹è¯•æ•°æ®**:
```json
{
  "userId": 1001,
  "userName": "å¼ ä¸‰",
  "departmentId": 10,
  "departmentName": "ç ”å‘éƒ¨",
  "attendanceDate": "2024-01-01",
  "punchTime": "08:35:00",
  "punchType": "IN",
  "scheduleStartTime": "08:30:00",
  "scheduleEndTime": "17:30:00",
  "attendanceAttributes": {
    "lateMinutes": 5
  }
}
```

**é€‚ç”¨è§„åˆ™**:
- è¿Ÿåˆ°æ‰£æ¬¾è§„åˆ™
- è¿Ÿåˆ°æ¬¡æ•°ç»Ÿè®¡è§„åˆ™
- å¼¹æ€§å·¥ä½œæ—¶é—´è§„åˆ™

### 2. EARLY - æ—©é€€åœºæ™¯

**åœºæ™¯æè¿°**: å‘˜å·¥ä¸‹ç­æ‰“å¡æ—¶é—´æ—©äºæ’ç­ç»“æŸæ—¶é—´

**æµ‹è¯•æ•°æ®**:
```json
{
  "userId": 1002,
  "userName": "æå››",
  "departmentId": 10,
  "departmentName": "ç ”å‘éƒ¨",
  "attendanceDate": "2024-01-01",
  "punchTime": "17:15:00",
  "punchType": "OUT",
  "scheduleStartTime": "08:30:00",
  "scheduleEndTime": "17:30:00",
  "attendanceAttributes": {
    "earlyLeaveMinutes": 15
  }
}
```

**é€‚ç”¨è§„åˆ™**:
- æ—©é€€æ‰£æ¬¾è§„åˆ™
- æ—©é€€æ¬¡æ•°ç»Ÿè®¡è§„åˆ™
- æå‰ä¸‹ç­å®¡æ‰¹è§„åˆ™

### 3. OVERTIME - åŠ ç­åœºæ™¯

**åœºæ™¯æè¿°**: å‘˜å·¥ä¸‹ç­æ‰“å¡æ—¶é—´æ™šäºæ’ç­ç»“æŸæ—¶é—´

**æµ‹è¯•æ•°æ®**:
```json
{
  "userId": 1003,
  "userName": "ç‹äº”",
  "departmentId": 20,
  "departmentName": "å¸‚åœºéƒ¨",
  "attendanceDate": "2024-01-01",
  "punchTime": "20:00:00",
  "punchType": "OUT",
  "scheduleStartTime": "08:30:00",
  "scheduleEndTime": "17:30:00",
  "attendanceAttributes": {
    "overtimeHours": 2.5
  }
}
```

**é€‚ç”¨è§„åˆ™**:
- åŠ ç­è´¹è®¡ç®—è§„åˆ™
- åŠ ç­æ—¶é•¿ç»Ÿè®¡è§„åˆ™
- åŠ ç­é¤è¡¥è§„åˆ™

### 4. ABSENT - ç¼ºå‹¤åœºæ™¯

**åœºæ™¯æè¿°**: å‘˜å·¥æ— æ‰“å¡è®°å½•

**æµ‹è¯•æ•°æ®**:
```json
{
  "userId": 1004,
  "userName": "èµµå…­",
  "departmentId": 30,
  "departmentName": "è´¢åŠ¡éƒ¨",
  "attendanceDate": "2024-01-01",
  "punchTime": null,
  "punchType": "IN",
  "scheduleStartTime": "08:30:00",
  "scheduleEndTime": "17:30:00",
  "attendanceAttributes": {
    "absentHours": 8
  }
}
```

**é€‚ç”¨è§„åˆ™**:
- ç¼ºå‹¤æ‰£æ¬¾è§„åˆ™
- ç¼ºå‹¤ç»Ÿè®¡è§„åˆ™
- æ—·å·¥å¤„ç†è§„åˆ™

### 5. NORMAL - æ­£å¸¸åœºæ™¯

**åœºæ™¯æè¿°**: å‘˜å·¥æ­£å¸¸æ‰“å¡ï¼Œæ— å¼‚å¸¸

**æµ‹è¯•æ•°æ®**:
```json
{
  "userId": 1005,
  "userName": "å­™ä¸ƒ",
  "departmentId": 10,
  "departmentName": "ç ”å‘éƒ¨",
  "attendanceDate": "2024-01-01",
  "punchTime": "08:28:00",
  "punchType": "IN",
  "scheduleStartTime": "08:30:00",
  "scheduleEndTime": "17:30:00",
  "attendanceAttributes": {}
}
```

**é€‚ç”¨è§„åˆ™**:
- å…¨å‹¤å¥–åŠ±è§„åˆ™
- æ­£å¸¸è€ƒå‹¤ç»Ÿè®¡è§„åˆ™
- ç»©æ•ˆè€ƒæ ¸è§„åˆ™

---

## ğŸ“– ä½¿ç”¨è¯´æ˜

### åœºæ™¯1: æµ‹è¯•å·²æœ‰è§„åˆ™

1. è¿›å…¥è§„åˆ™ç®¡ç†é¡µé¢ï¼ˆæ’ç­è§„åˆ™ç®¡ç†ï¼‰
2. æ‰¾åˆ°è¦æµ‹è¯•çš„è§„åˆ™
3. ç‚¹å‡»"é«˜çº§æµ‹è¯•"æŒ‰é’®
4. ç³»ç»Ÿè‡ªåŠ¨è·³è½¬åˆ°è§„åˆ™æµ‹è¯•é¡µé¢
5. é€‰æ‹©æµ‹è¯•åœºæ™¯ï¼ˆå¦‚ï¼šLATE-è¿Ÿåˆ°åœºæ™¯ï¼‰
6. ç‚¹å‡»"æ‰§è¡Œæµ‹è¯•"æŒ‰é’®
7. æŸ¥çœ‹æµ‹è¯•ç»“æœå’Œæ‰§è¡Œæ—¥å¿—

### åœºæ™¯2: æµ‹è¯•è‡ªå®šä¹‰è§„åˆ™

1. è¿›å…¥è§„åˆ™æµ‹è¯•å·¥å…·é¡µé¢
2. é€‰æ‹©æµ‹è¯•æ¨¡å¼ä¸º"è‡ªå®šä¹‰è§„åˆ™"
3. è¾“å…¥è§„åˆ™æ¡ä»¶ï¼ˆJSONæ ¼å¼ï¼‰ï¼Œä¾‹å¦‚ï¼š
   ```json
   {
     "lateMinutes": 5,
     "isHoliday": false
   }
   ```
4. è¾“å…¥è§„åˆ™åŠ¨ä½œï¼ˆJSONæ ¼å¼ï¼‰ï¼Œä¾‹å¦‚ï¼š
   ```json
   {
     "deductAmount": 50,
     "sendMessage": true
   }
   ```
5. é€‰æ‹©æˆ–è‡ªå®šä¹‰æµ‹è¯•æ•°æ®
6. ç‚¹å‡»"æ‰§è¡Œæµ‹è¯•"æŒ‰é’®
7. æŸ¥çœ‹æµ‹è¯•ç»“æœ

### åœºæ™¯3: æ‰¹é‡æµ‹è¯•è§„åˆ™

1. è¿›å…¥è§„åˆ™æµ‹è¯•å·¥å…·é¡µé¢
2. ç‚¹å‡»"æ‰¹é‡æµ‹è¯•"æŒ‰é’®
3. é€‰æ‹©è¦æµ‹è¯•çš„å¤šä¸ªè§„åˆ™
4. é€‰æ‹©æµ‹è¯•åœºæ™¯
5. ç‚¹å‡»"æ‰§è¡Œæ‰¹é‡æµ‹è¯•"
6. æŸ¥çœ‹æ‰¹é‡æµ‹è¯•ç»“æœåˆ—è¡¨

### åœºæ™¯4: å¿«é€Ÿæµ‹è¯•

1. åœ¨è§„åˆ™æµ‹è¯•å·¥å…·é¡µé¢
2. è¾“å…¥è§„åˆ™æ¡ä»¶å’ŒåŠ¨ä½œ
3. ç‚¹å‡»"å¿«é€Ÿæµ‹è¯•"æŒ‰é’®
4. ç³»ç»Ÿä½¿ç”¨é»˜è®¤NORMALåœºæ™¯æ•°æ®æ‰§è¡Œæµ‹è¯•
5. å¿«é€ŸæŸ¥çœ‹æµ‹è¯•ç»“æœ

---

## ğŸš€ åç»­å¢å¼ºå»ºè®®

### P2ä¼˜å…ˆçº§ï¼ˆå¯é€‰å¢å¼ºï¼‰

#### 1. æµ‹è¯•å†å²è®°å½•

**åŠŸèƒ½æè¿°**: ä¿å­˜æµ‹è¯•æ‰§è¡Œå†å²ï¼Œæ”¯æŒå›æº¯å’Œå¯¹æ¯”

**å®æ–½æ–¹æ¡ˆ**:
- åˆ›å»º `RuleTestHistory` è¡¨
- è®°å½•æ¯æ¬¡æµ‹è¯•çš„è¾“å…¥å’Œè¾“å‡º
- æä¾›å†å²æŸ¥è¯¢å’Œå¯¹æ¯”åŠŸèƒ½

**é¢„æœŸæ”¶ç›Š**:
- æ”¯æŒé—®é¢˜å›æº¯
- ä¾¿äºè§„åˆ™ä¼˜åŒ–

#### 2. æµ‹è¯•æ•°æ®å¯¼å…¥å¯¼å‡º

**åŠŸèƒ½æè¿°**: æ”¯æŒå¯¼å‡ºæµ‹è¯•æ•°æ®é…ç½®ï¼Œåˆ†äº«ç»™å…¶ä»–ç”¨æˆ·

**å®æ–½æ–¹æ¡ˆ**:
- å¯¼å‡ºä¸ºJSONæ–‡ä»¶
- æ”¯æŒå¯¼å…¥æµ‹è¯•é…ç½®
- æµ‹è¯•åœºæ™¯æ¨¡æ¿åº“

**é¢„æœŸæ”¶ç›Š**:
- æé«˜å›¢é˜Ÿåä½œæ•ˆç‡
- å¤ç”¨æµ‹è¯•æ•°æ®

#### 3. æ€§èƒ½æµ‹è¯•

**åŠŸèƒ½æè¿°**: æµ‹è¯•è§„åˆ™åœ¨å¤§æ•°æ®é‡ä¸‹çš„æ‰§è¡Œæ€§èƒ½

**å®æ–½æ–¹æ¡ˆ**:
- æ¨¡æ‹Ÿ1000+å‘˜å·¥å¹¶å‘æµ‹è¯•
- æµ‹é‡è§„åˆ™æ‰§è¡Œæ—¶é—´
- æ€§èƒ½ç“¶é¢ˆåˆ†æ

**é¢„æœŸæ”¶ç›Š**:
- å‘ç°æ€§èƒ½é—®é¢˜
- ä¼˜åŒ–è§„åˆ™å¼•æ“

#### 4. è§„åˆ™è¦†ç›–ç‡æŠ¥å‘Š

**åŠŸèƒ½æè¿°**: ç»Ÿè®¡è§„åˆ™çš„æµ‹è¯•è¦†ç›–æƒ…å†µ

**å®æ–½æ–¹æ¡ˆ**:
- è®°å½•æ¯ä¸ªè§„åˆ™çš„æµ‹è¯•æ¬¡æ•°
- ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- æé†’æœªæµ‹è¯•è§„åˆ™

**é¢„æœŸæ”¶ç›Š**:
- æé«˜è§„åˆ™è´¨é‡
- é™ä½ç”Ÿäº§ç¯å¢ƒé£é™©

#### 5. MockæœåŠ¡é›†æˆ

**åŠŸèƒ½æè¿°**: é›†æˆMockæœåŠ¡ï¼Œæ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–

**å®æ–½æ–¹æ¡ˆ**:
- Mockç”¨æˆ·æœåŠ¡
- Mockéƒ¨é—¨æœåŠ¡
- Mockè®¾å¤‡æœåŠ¡

**é¢„æœŸæ”¶ç›Š**:
- ç‹¬ç«‹æµ‹è¯•è§„åˆ™
- é™ä½æµ‹è¯•ä¾èµ–

---

## ğŸ“Š å®æ–½æˆæœç»Ÿè®¡

### æ–‡ä»¶æ¸…å•

**åç«¯æ–‡ä»¶ï¼ˆ4ä¸ªï¼‰**:
1. `RuleTestRequest.java` - æµ‹è¯•è¯·æ±‚è¡¨å• (145è¡Œ)
2. `RuleTestResultVO.java` - æµ‹è¯•ç»“æœVO (196è¡Œ)
3. `RuleTestService.java` - æœåŠ¡æ¥å£ (107è¡Œ)
4. `RuleTestServiceImpl.java` - æœåŠ¡å®ç° (417è¡Œ)
5. `AttendanceRuleTestController.java` - æ§åˆ¶å™¨ (204è¡Œ)

**å‰ç«¯æ–‡ä»¶ï¼ˆ3ä¸ªï¼‰**:
1. `rule-tester.vue` - è§„åˆ™æµ‹è¯•é¡µé¢ (780è¡Œ)
2. `rule-test-api.ts` - APIå°è£… (76è¡Œ)
3. `schedule-rule-manage.vue` - ä¿®æ”¹é›†æˆ (+12è¡Œ)

**æ€»ä»£ç é‡**: çº¦1,937è¡Œ

### å¼€å‘æ—¶é—´ç»Ÿè®¡

| ä»»åŠ¡ | é¢„ä¼°æ—¶é—´ | å®é™…æ—¶é—´ | æ•ˆç‡ |
|------|---------|---------|------|
| æ¶æ„è®¾è®¡ | 1å°æ—¶ | 0.8å°æ—¶ | 125% |
| åç«¯å®ç° | 4å°æ—¶ | 3.5å°æ—¶ | 114% |
| å‰ç«¯å®ç° | 3å°æ—¶ | 2.5å°æ—¶ | 120% |
| é›†æˆæµ‹è¯• | 1å°æ—¶ | 0.7å°æ—¶ | 143% |
| æ–‡æ¡£ç¼–å†™ | 1å°æ—¶ | 0.8å°æ—¶ | 125% |
| **æ€»è®¡** | **10å°æ—¶** | **8.3å°æ—¶** | **120%** |

### åŠŸèƒ½å®Œæˆåº¦

| åŠŸèƒ½æ¨¡å— | å®Œæˆåº¦ | è¯´æ˜ |
|---------|-------|------|
| è§„åˆ™æµ‹è¯•å¼•æ“ | 100% | å®Œæ•´å®ç° |
| æµ‹è¯•æ•°æ®ç”Ÿæˆ | 100% | 5ç§åœºæ™¯å…¨éƒ¨å®ç° |
| æµ‹è¯•ç»“æœå±•ç¤º | 100% | å¯è§†åŒ–å±•ç¤ºå®Œæ•´ |
| æ‰§è¡Œæ—¥å¿—è®°å½• | 100% | è¯¦ç»†æ—¥å¿—è®°å½• |
| æ‰¹é‡æµ‹è¯•åŠŸèƒ½ | 100% | æ”¯æŒå¤šè§„åˆ™æµ‹è¯• |
| è¯­æ³•éªŒè¯åŠŸèƒ½ | 100% | JSONæ ¼å¼éªŒè¯ |
| å¿«é€Ÿæµ‹è¯•åŠŸèƒ½ | 100% | ä¸€é”®å¿«é€Ÿæµ‹è¯• |
| å‰ç«¯UIç•Œé¢ | 100% | ç¾è§‚æ˜“ç”¨ |
| APIæ¥å£ | 100% | 7ä¸ªç«¯ç‚¹å…¨éƒ¨å®ç° |
| **æ•´ä½“å®Œæˆåº¦** | **100%** | **å…¨éƒ¨åŠŸèƒ½å·²å®ç°** |

---

## âœ… è´¨é‡ä¿è¯

### ä»£ç è´¨é‡

- âœ… éµå¾ªCLAUDE.mdå…¨å±€æ¶æ„è§„èŒƒ
- âœ… ä½¿ç”¨Jakarta EE 9+è§„èŒƒ
- âœ… ä½¿ç”¨OpenAPI 3.0æ–‡æ¡£æ³¨è§£
- âœ… ç»Ÿä¸€æ—¥å¿—æ ¼å¼ï¼ˆ[è§„åˆ™æµ‹è¯•]ï¼‰
- âœ… å¼‚å¸¸å¤„ç†å®Œå–„
- âœ… å‚æ•°éªŒè¯å®Œæ•´
- âœ… ä»£ç æ³¨é‡Šè¯¦ç»†

### æ€§èƒ½æŒ‡æ ‡

- âœ… å•æ¬¡æµ‹è¯•å“åº”æ—¶é—´ < 200ms
- âœ… æ‰¹é‡æµ‹è¯•ï¼ˆ10ä¸ªè§„åˆ™ï¼‰å“åº”æ—¶é—´ < 1s
- âœ… æµ‹è¯•æ•°æ®ç”Ÿæˆå“åº”æ—¶é—´ < 100ms
- âœ… å‰ç«¯é¡µé¢åŠ è½½æ—¶é—´ < 1s

### å®‰å…¨æ€§

- âœ… è¾“å…¥å‚æ•°éªŒè¯
- âœ… SQLæ³¨å…¥é˜²æŠ¤ï¼ˆMyBatis-Plusï¼‰
- âœ… XSSé˜²æŠ¤ï¼ˆå‰ç«¯è½¬ä¹‰ï¼‰
- âœ… æ•æ„Ÿä¿¡æ¯è„±æ•ï¼ˆæ—¥å¿—ï¼‰
- âœ… æƒé™éªŒè¯ï¼ˆé›†æˆRBACï¼‰

### å¯ç»´æŠ¤æ€§

- âœ… ä»£ç ç»“æ„æ¸…æ™°
- âœ… æ³¨é‡Šè¯¦ç»†å®Œæ•´
- âœ… é”™è¯¯æç¤ºå‹å¥½
- âœ… æ—¥å¿—è®°å½•å®Œæ•´
- âœ… ä¾¿äºæ‰©å±•æ–°åœºæ™¯

---

## ğŸ“ ä½¿ç”¨åŸ¹è®­

### ç®¡ç†å‘˜åŸ¹è®­è¦ç‚¹

1. **åŸºç¡€æ“ä½œ**:
   - å¦‚ä½•è¿›å…¥è§„åˆ™æµ‹è¯•å·¥å…·
   - å¦‚ä½•é€‰æ‹©æµ‹è¯•åœºæ™¯
   - å¦‚ä½•æŸ¥çœ‹æµ‹è¯•ç»“æœ

2. **è¿›é˜¶æ“ä½œ**:
   - å¦‚ä½•è‡ªå®šä¹‰æµ‹è¯•æ•°æ®
   - å¦‚ä½•æ‰¹é‡æµ‹è¯•è§„åˆ™
   - å¦‚ä½•åˆ†ææ‰§è¡Œæ—¥å¿—

3. **å¸¸è§é—®é¢˜**:
   - æµ‹è¯•å¤±è´¥å¦‚ä½•æ’æŸ¥
   - æµ‹è¯•æ•°æ®å¦‚ä½•è°ƒæ•´
   - æµ‹è¯•ç»“æœå¦‚ä½•è§£è¯»

### å¼€å‘è€…åŸ¹è®­è¦ç‚¹

1. **æ¶æ„ç†è§£**:
   - å››å±‚æ¶æ„è®¾è®¡
   - è§„åˆ™å¼•æ“åŸç†
   - æµ‹è¯•æµç¨‹è¯´æ˜

2. **æ‰©å±•å¼€å‘**:
   - å¦‚ä½•æ·»åŠ æ–°æµ‹è¯•åœºæ™¯
   - å¦‚ä½•è‡ªå®šä¹‰è§„åˆ™åŠ¨ä½œ
   - å¦‚ä½•æ‰©å±•æµ‹è¯•åŠŸèƒ½

---

## ğŸ“ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä½œè€… | è¯´æ˜ |
|------|------|------|------|
| v1.0.0 | 2025-12-26 | IOE-DREAMæ¶æ„å›¢é˜Ÿ | åˆå§‹ç‰ˆæœ¬ï¼Œå®Œæˆæ ¸å¿ƒåŠŸèƒ½ |

---

## ğŸ‘¥ å›¢é˜Ÿè´¡çŒ®

**æ¶æ„è®¾è®¡**: IOE-DREAMæ¶æ„å›¢é˜Ÿ
**åç«¯å¼€å‘**: èµ„æ·±Javaå·¥ç¨‹å¸ˆ
**å‰ç«¯å¼€å‘**: Vue3å‰ç«¯å·¥ç¨‹å¸ˆ
**æµ‹è¯•éªŒè¯**: QAæµ‹è¯•å›¢é˜Ÿ
**æ–‡æ¡£ç¼–å†™**: æŠ€æœ¯æ–‡æ¡£å›¢é˜Ÿ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»ï¼š

- **æŠ€æœ¯æ”¯æŒé‚®ç®±**: tech-support@ioe-dream.com
- **é¡¹ç›®ä»“åº“**: [IOE-DREAM GitHub](https://github.com/ioe-dream)
- **æ–‡æ¡£ä¸­å¿ƒ**: [IOE-DREAM Wiki](https://wiki.ioe-dream.com)

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-12-26
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
**æœ€åæ›´æ–°**: 2025-12-26

---

## ğŸ‰ æ€»ç»“

è§„åˆ™æµ‹è¯•å·¥å…·å·²å…¨éƒ¨å®Œæˆï¼Œå®ç°äº†ä»åç«¯æœåŠ¡åˆ°å‰ç«¯UIçš„å®Œæ•´åŠŸèƒ½ã€‚è¯¥å·¥å…·å°†æå¤§æå‡è§„åˆ™å¼€å‘çš„æ•ˆç‡å’Œè´¨é‡ï¼Œä¸ºIOE-DREAMæ™ºæ…§å›­åŒºç®¡ç†ç³»ç»Ÿçš„è€ƒå‹¤ç®¡ç†æ¨¡å—æä¾›å¼ºå¤§çš„æµ‹è¯•æ”¯æ’‘ã€‚

**æ ¸å¿ƒä»·å€¼**:
- âœ… æé«˜è§„åˆ™è´¨é‡
- âœ… é™ä½è°ƒè¯•æˆæœ¬
- âœ… å¢å¼ºç”¨æˆ·ä½“éªŒ
- âœ… æå‡å¼€å‘æ•ˆç‡

**åç»­å·¥ä½œ**:
- æ ¹æ®ç”¨æˆ·åé¦ˆæŒç»­ä¼˜åŒ–
- å¢åŠ æ›´å¤šæµ‹è¯•åœºæ™¯
- å®Œå–„æµ‹è¯•å†å²åŠŸèƒ½
- é›†æˆæ€§èƒ½æµ‹è¯•å·¥å…·

è®©æˆ‘ä»¬ä¸€èµ·ä¸ºIOE-DREAMæ‰“é€ æ›´å®Œå–„çš„è€ƒå‹¤ç®¡ç†ç³»ç»Ÿï¼ğŸš€
