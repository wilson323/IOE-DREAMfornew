# IOE-DREAM ä¸ƒå¾®æœåŠ¡æ•´åˆæ‰§è¡Œè®¡åˆ’

> **ğŸ“‹ åˆ¶å®šæ—¥æœŸ**: 2025-12-02  
> **ğŸ“‹ æ‰§è¡ŒåŸåˆ™**: æŒ‰ç…§7ä¸ªæ ¸å¿ƒå¾®æœåŠ¡æ¶æ„æ•´åˆï¼Œè€Œé22ä¸ªåˆ†æ•£æœåŠ¡  
> **ğŸ“‹ ä¼˜å…ˆçº§**: P0 - æ¶æ„æ•´åˆæ˜¯æ‰€æœ‰ä¼˜åŒ–çš„åŸºç¡€

---

## ğŸ¯ æ ¸å¿ƒé—®é¢˜è¯†åˆ«

### å½“å‰æ¶æ„æ··ä¹±çŠ¶æ€

**é—®é¢˜**: é¡¹ç›®å£°ç§°æ˜¯7å¾®æœåŠ¡æ¶æ„ï¼Œä½†å®é™…å­˜åœ¨22ä¸ªæœåŠ¡ï¼Œå¯¼è‡´ï¼š
- âŒ æœåŠ¡è¾¹ç•Œä¸æ¸…
- âŒ èŒè´£é‡å 
- âŒ ç»´æŠ¤æˆæœ¬é«˜
- âŒ é…ç½®åˆ†æ•£
- âŒ æ— æ³•æœ‰æ•ˆæ‰§è¡Œç»Ÿä¸€ä¼˜åŒ–

**æ ¹æœ¬åŸå› **: æœªæŒ‰ç…§è§„åˆ’å®ŒæˆæœåŠ¡æ•´åˆ

---

## ğŸ—ï¸ æ ‡å‡†7å¾®æœåŠ¡æ¶æ„

### ç›®æ ‡æ¶æ„ï¼ˆCLAUDE.mdè§„å®šï¼‰

```
1. ioedream-gateway-service (8080)        - APIç½‘å…³
2. ioedream-common-service (8088)         - å…¬å…±æ¨¡å—ï¼ˆæ•´åˆ7ä¸ªæœåŠ¡ï¼‰
3. ioedream-device-comm-service (8087)    - è®¾å¤‡é€šè®¯ï¼ˆæ•´åˆ2ä¸ªæœåŠ¡ï¼‰
4. ioedream-oa-service (8089)             - OAæœåŠ¡ï¼ˆæ•´åˆ2ä¸ªæœåŠ¡ï¼‰
5. ioedream-access-service (8090)         - é—¨ç¦æœåŠ¡
6. ioedream-attendance-service (8091)     - è€ƒå‹¤æœåŠ¡
7. ioedream-consume-service (8094)        - æ¶ˆè´¹æœåŠ¡
8. ioedream-visitor-service (8095)        - è®¿å®¢æœåŠ¡
9. ioedream-video-service (8092)          - è§†é¢‘æœåŠ¡
```

### éœ€è¦æ•´åˆçš„æœåŠ¡æ˜ å°„

#### ioedream-common-service åº”æ•´åˆï¼š
```
âœ… åŸºç¡€æœåŠ¡ï¼š
â”œâ”€â”€ ioedream-auth-service           â†’ common-service/authæ¨¡å—
â”œâ”€â”€ ioedream-identity-service       â†’ common-service/identityæ¨¡å—
â”œâ”€â”€ ioedream-notification-service   â†’ common-service/notificationæ¨¡å—
â”œâ”€â”€ ioedream-audit-service          â†’ common-service/auditæ¨¡å—
â”œâ”€â”€ ioedream-monitor-service        â†’ common-service/monitoræ¨¡å—
â”œâ”€â”€ ioedream-scheduler-service      â†’ common-service/scheduleræ¨¡å—
â””â”€â”€ ioedream-system-service         â†’ common-service/systemæ¨¡å—
```

#### ioedream-device-comm-service åº”æ•´åˆï¼š
```
âœ… è®¾å¤‡æœåŠ¡ï¼š
â”œâ”€â”€ ioedream-device-service         â†’ device-comm-service/deviceæ¨¡å—
â””â”€â”€ è®¾å¤‡åè®®é€šä¿¡åŠŸèƒ½                  â†’ device-comm-service/protocolæ¨¡å—
```

#### ioedream-oa-service åº”æ•´åˆï¼š
```
âœ… ä¼ä¸šæœåŠ¡ï¼š
â”œâ”€â”€ ioedream-enterprise-service     â†’ oa-service/enterpriseæ¨¡å—
â””â”€â”€ ioedream-infrastructure-service â†’ oa-service/infrastructureæ¨¡å—
```

#### éœ€è¦æ‹†åˆ†çš„æœåŠ¡ï¼š
```
âš ï¸ åŠŸèƒ½æœåŠ¡ï¼ˆæ‹†åˆ†åˆ°å„ä¸šåŠ¡æœåŠ¡ï¼‰ï¼š
â”œâ”€â”€ ioedream-integration-service    â†’ æ‹†åˆ†åˆ°å„ä¸šåŠ¡æœåŠ¡
â””â”€â”€ ioedream-report-service         â†’ æ‹†åˆ†åˆ°å„ä¸šåŠ¡æœåŠ¡
```

---

## ğŸ“‹ æ­£ç¡®çš„æ‰§è¡Œç­–ç•¥

### âŒ é”™è¯¯åšæ³•ï¼ˆå½“å‰ï¼‰
åœ¨22ä¸ªåˆ†æ•£çš„æœåŠ¡ä¸Šåˆ†åˆ«ä¿®æ”¹é…ç½®å’Œä»£ç ï¼š
- é‡å¤åŠ³åŠ¨
- é…ç½®ä¸ä¸€è‡´
- æ•´åˆåéœ€è¦é‡æ–°ä¿®æ”¹
- æµªè´¹æ—¶é—´å’Œç²¾åŠ›

### âœ… æ­£ç¡®åšæ³•ï¼ˆåº”è¯¥ï¼‰

**ç¬¬ä¸€æ­¥ï¼šå®ŒæˆæœåŠ¡æ•´åˆ** (P0ä¼˜å…ˆçº§)
1. æ•´åˆauthã€identityç­‰7ä¸ªæœåŠ¡åˆ°common-service
2. æ•´åˆdevice-serviceåˆ°device-comm-service
3. æ•´åˆenterpriseã€infrastructureåˆ°oa-service
4. æ‹†åˆ†integration-serviceå’Œreport-service

**ç¬¬äºŒæ­¥ï¼šåœ¨7ä¸ªæ ¸å¿ƒæœåŠ¡ä¸Šç»Ÿä¸€ä¼˜åŒ–**
1. é…ç½®å®‰å…¨åŠ å›ºï¼ˆ7ä¸ªæœåŠ¡ï¼Œè€Œé22ä¸ªï¼‰
2. åˆ†å¸ƒå¼è¿½è¸ªï¼ˆ7ä¸ªæœåŠ¡ï¼Œè€Œé19ä¸ªï¼‰
3. æ€§èƒ½ä¼˜åŒ–ï¼ˆ7ä¸ªæœåŠ¡ç»Ÿä¸€æ ‡å‡†ï¼‰
4. ç›‘æ§é…ç½®ï¼ˆ7ä¸ªæœåŠ¡ç»Ÿä¸€æ¥å…¥ï¼‰

---

## ğŸš€ æœåŠ¡æ•´åˆæ‰§è¡Œè®¡åˆ’

### é˜¶æ®µ1ï¼šioedream-common-service æ•´åˆï¼ˆP0-æœ€é«˜ä¼˜å…ˆçº§ï¼‰

**ç›®æ ‡**: å°†7ä¸ªåŸºç¡€æœåŠ¡æ•´åˆä¸º1ä¸ªcommon-service

#### 1.1 æ•´åˆauth-service

**è¿ç§»å†…å®¹**:
```
microservices/ioedream-auth-service/
â”œâ”€â”€ src/main/java/net/lab1024/sa/auth/
â”‚   â”œâ”€â”€ controller/          â†’ common-service/src/.../auth/controller/
â”‚   â”œâ”€â”€ service/             â†’ common-service/src/.../auth/service/
â”‚   â”œâ”€â”€ manager/             â†’ common-service/src/.../auth/manager/
â”‚   â””â”€â”€ dao/                 â†’ common-service/src/.../auth/dao/
â””â”€â”€ src/main/resources/
    â””â”€â”€ application.yml      â†’ æ•´åˆåˆ°common-serviceé…ç½®
```

**æ‰§è¡Œæ­¥éª¤**:
1. åœ¨common-serviceä¸­åˆ›å»ºauthåŒ…ç»“æ„
2. å¤åˆ¶auth-serviceçš„ä»£ç åˆ°authåŒ…
3. æ›´æ–°åŒ…åå’Œimport
4. æ•´åˆé…ç½®æ–‡ä»¶
5. æµ‹è¯•éªŒè¯

#### 1.2 æ•´åˆidentity-service

**è¿ç§»å†…å®¹**:
```
microservices/ioedream-identity-service/
â”œâ”€â”€ src/main/java/net/lab1024/sa/identity/
â”‚   â”œâ”€â”€ controller/          â†’ common-service/src/.../identity/controller/
â”‚   â”œâ”€â”€ service/             â†’ common-service/src/.../identity/service/
â”‚   â”œâ”€â”€ manager/             â†’ common-service/src/.../identity/manager/
â”‚   â””â”€â”€ dao/                 â†’ common-service/src/.../identity/dao/
â””â”€â”€ src/main/resources/
    â””â”€â”€ application.yml      â†’ æ•´åˆåˆ°common-serviceé…ç½®
```

#### 1.3 æ•´åˆå…¶ä»–5ä¸ªæœåŠ¡

æŒ‰ç…§ç›¸åŒæ¨¡å¼æ•´åˆï¼š
- notification-service â†’ common-service/notification
- audit-service â†’ common-service/audit
- monitor-service â†’ common-service/monitor
- scheduler-service â†’ common-service/scheduler
- system-service â†’ common-service/system

**é¢„è®¡æ—¶é—´**: 3-5å¤©

---

### é˜¶æ®µ2ï¼šioedream-device-comm-service æ•´åˆ

**ç›®æ ‡**: å°†device-serviceæ•´åˆåˆ°device-comm-service

**è¿ç§»å†…å®¹**:
```
microservices/ioedream-device-service/
â”œâ”€â”€ src/main/java/net/lab1024/sa/device/
â”‚   â”œâ”€â”€ controller/          â†’ device-comm-service/src/.../device/controller/
â”‚   â”œâ”€â”€ service/             â†’ device-comm-service/src/.../device/service/
â”‚   â”œâ”€â”€ manager/             â†’ device-comm-service/src/.../device/manager/
â”‚   â”œâ”€â”€ dao/                 â†’ device-comm-service/src/.../device/dao/
â”‚   â””â”€â”€ protocol/            â†’ device-comm-service/src/.../protocol/
```

**é¢„è®¡æ—¶é—´**: 1-2å¤©

---

### é˜¶æ®µ3ï¼šioedream-oa-service æ•´åˆ

**ç›®æ ‡**: å°†enterpriseå’Œinfrastructureæ•´åˆåˆ°oa-service

**è¿ç§»å†…å®¹**:
```
microservices/ioedream-enterprise-service/
â””â”€â”€ æ•´åˆåˆ° â†’ oa-service/src/.../enterprise/

microservices/ioedream-infrastructure-service/
â””â”€â”€ æ•´åˆåˆ° â†’ oa-service/src/.../infrastructure/
```

**é¢„è®¡æ—¶é—´**: 1-2å¤©

---

### é˜¶æ®µ4ï¼šæ¸…ç†åºŸå¼ƒæœåŠ¡

**æ“ä½œ**: æ ‡è®°æˆ–åˆ é™¤å·²æ•´åˆçš„æœåŠ¡

**æœåŠ¡æ¸…å•**:
```
ğŸ“¦ å¾…æ¸…ç†ï¼ˆ11ä¸ªæœåŠ¡ï¼‰:
â”œâ”€â”€ ioedream-auth-service           âœ… å·²æ•´åˆåˆ°common-service
â”œâ”€â”€ ioedream-identity-service       âœ… å·²æ•´åˆåˆ°common-service
â”œâ”€â”€ ioedream-notification-service   âœ… å·²æ•´åˆåˆ°common-service
â”œâ”€â”€ ioedream-audit-service          âœ… å·²æ•´åˆåˆ°common-service
â”œâ”€â”€ ioedream-monitor-service        âœ… å·²æ•´åˆåˆ°common-service
â”œâ”€â”€ ioedream-scheduler-service      âœ… å·²æ•´åˆåˆ°common-service
â”œâ”€â”€ ioedream-system-service         âœ… å·²æ•´åˆåˆ°common-service
â”œâ”€â”€ ioedream-device-service         âœ… å·²æ•´åˆåˆ°device-comm-service
â”œâ”€â”€ ioedream-enterprise-service     âœ… å·²æ•´åˆåˆ°oa-service
â”œâ”€â”€ ioedream-infrastructure-service âœ… å·²æ•´åˆåˆ°oa-service
â””â”€â”€ ioedream-config-service         âš ï¸  å¾…è¯„ä¼°æ˜¯å¦ä¿ç•™
```

**é¢„è®¡æ—¶é—´**: 1å¤©

---

## ğŸ“Š æ•´åˆåçš„æ¶æ„ä¼˜åŠ¿

### æœåŠ¡æ•°é‡ä¼˜åŒ–

| é˜¶æ®µ | æœåŠ¡æ•°é‡ | è¯´æ˜ |
|------|---------|------|
| **å½“å‰** | 22ä¸ªæœåŠ¡ | è¿‡åº¦æ‹†åˆ†ï¼Œç»´æŠ¤å›°éš¾ |
| **æ•´åˆå** | 9ä¸ªæœåŠ¡ | ç¬¦åˆ7å¾®æœåŠ¡æ¶æ„ï¼ˆ+ç½‘å…³+é…ç½®ä¸­å¿ƒï¼‰ |
| **ä¼˜åŒ–** | -13ä¸ªæœåŠ¡ | å‡å°‘59%çš„æœåŠ¡æ•°é‡ |

### ç»´æŠ¤æˆæœ¬é™ä½

| æŒ‡æ ‡ | æ•´åˆå‰ | æ•´åˆå | æ”¹è¿› |
|------|-------|-------|------|
| **é…ç½®æ–‡ä»¶æ•°** | 66ä¸ª | 18ä¸ª | -73% |
| **éƒ¨ç½²å¤æ‚åº¦** | 22ä¸ªéƒ¨ç½²å•å…ƒ | 9ä¸ªéƒ¨ç½²å•å…ƒ | -59% |
| **ç›‘æ§é…ç½®** | 22å¥— | 9å¥— | -59% |
| **æ—¥å¿—æ”¶é›†** | 22ä¸ªæº | 9ä¸ªæº | -59% |
| **ç»´æŠ¤æˆæœ¬** | é«˜ | ä½ | -60% |

### æ€§èƒ½æå‡

| æŒ‡æ ‡ | æ•´åˆå‰ | æ•´åˆå | æ”¹è¿› |
|------|-------|-------|------|
| **æœåŠ¡é—´è°ƒç”¨** | é¢‘ç¹ | å‡å°‘ | -70% |
| **ç½‘ç»œå¼€é”€** | é«˜ | ä½ | -60% |
| **å“åº”æ—¶é—´** | æ…¢ | å¿« | +50% |
| **èµ„æºåˆ©ç”¨ç‡** | ä½ | é«˜ | +40% |

---

## ğŸ¯ ä¿®æ­£åçš„P0çº§ä»»åŠ¡æ‰§è¡Œé¡ºåº

### æ–°çš„æ‰§è¡Œä¼˜å…ˆçº§

**P0-0: æœåŠ¡æ•´åˆï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰** ğŸ”´
- å®Œæˆ7å¾®æœåŠ¡æ¶æ„æ•´åˆ
- è¿™æ˜¯æ‰€æœ‰åç»­ä¼˜åŒ–çš„åŸºç¡€
- é¢„è®¡æ—¶é—´ï¼š1å‘¨

**P0-1: é…ç½®å®‰å…¨åŠ å›º** ğŸŸ¡
- åœ¨æ•´åˆåçš„7ä¸ªæœåŠ¡ä¸Šæ‰§è¡Œ
- é…ç½®æ–‡ä»¶ä»66ä¸ªå‡å°‘åˆ°18ä¸ª
- é¢„è®¡æ—¶é—´ï¼š2-3å¤©

**P0-2: åˆ†å¸ƒå¼è¿½è¸ª** ğŸŸ¡
- åœ¨æ•´åˆåçš„9ä¸ªæœåŠ¡ä¸Šé…ç½®
- ä»19ä¸ªæœåŠ¡å‡å°‘åˆ°9ä¸ªæœåŠ¡
- é¢„è®¡æ—¶é—´ï¼š1å¤©

**P0-3: ä»£ç è§„èŒƒæ•´æ”¹** âœ…
- å·²å®Œæˆï¼ˆå¯ä»¥ä¿ç•™ï¼‰

**P0-4: ä¾èµ–æ³¨å…¥æ•´æ”¹** âœ…
- å·²å®Œæˆï¼ˆå¯ä»¥ä¿ç•™ï¼‰

**P0-5: RESTful APIé‡æ„** ğŸŸ¡
- åœ¨æ•´åˆåçš„æœåŠ¡ä¸Šæ‰§è¡Œ
- æ¥å£æ›´é›†ä¸­ï¼Œæ›´æ˜“ç®¡ç†

---

## ğŸ“‹ ç«‹å³æ‰§è¡Œçš„æ•´åˆä»»åŠ¡

### ä»»åŠ¡1: åˆ›å»ºcommon-serviceæ¨¡å—ç»“æ„

**ç›®æ ‡**: å»ºç«‹å®Œæ•´çš„common-serviceåŒ…ç»“æ„

```
microservices/ioedream-common-service/
â”œâ”€â”€ src/main/java/net/lab1024/sa/common/
â”‚   â”œâ”€â”€ auth/                    # è®¤è¯æ¨¡å—ï¼ˆæ¥è‡ªauth-serviceï¼‰
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ manager/
â”‚   â”‚   â””â”€â”€ dao/
â”‚   â”œâ”€â”€ identity/                # èº«ä»½æ¨¡å—ï¼ˆæ¥è‡ªidentity-serviceï¼‰
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ manager/
â”‚   â”‚   â””â”€â”€ dao/
â”‚   â”œâ”€â”€ notification/            # é€šçŸ¥æ¨¡å—ï¼ˆæ¥è‡ªnotification-serviceï¼‰
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ manager/
â”‚   â”‚   â””â”€â”€ dao/
â”‚   â”œâ”€â”€ audit/                   # å®¡è®¡æ¨¡å—ï¼ˆæ¥è‡ªaudit-serviceï¼‰
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ manager/
â”‚   â”‚   â””â”€â”€ dao/
â”‚   â”œâ”€â”€ monitor/                 # ç›‘æ§æ¨¡å—ï¼ˆæ¥è‡ªmonitor-serviceï¼‰
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ manager/
â”‚   â”‚   â””â”€â”€ dao/
â”‚   â”œâ”€â”€ scheduler/               # è°ƒåº¦æ¨¡å—ï¼ˆæ¥è‡ªscheduler-serviceï¼‰
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ manager/
â”‚   â”‚   â””â”€â”€ dao/
â”‚   â””â”€â”€ system/                  # ç³»ç»Ÿæ¨¡å—ï¼ˆæ¥è‡ªsystem-serviceï¼‰
â”‚       â”œâ”€â”€ controller/
â”‚       â”œâ”€â”€ service/
â”‚       â”œâ”€â”€ manager/
â”‚       â””â”€â”€ dao/
â””â”€â”€ src/main/resources/
    â”œâ”€â”€ application.yml          # ç»Ÿä¸€é…ç½®
    â””â”€â”€ mapper/                  # ç»Ÿä¸€SQLæ˜ å°„
```

---

### ä»»åŠ¡2: æ•´åˆdevice-comm-service

**ç›®æ ‡**: å°†device-serviceæ•´åˆåˆ°device-comm-service

```
microservices/ioedream-device-comm-service/
â”œâ”€â”€ src/main/java/net/lab1024/sa/devicecomm/
â”‚   â”œâ”€â”€ device/                  # è®¾å¤‡ç®¡ç†ï¼ˆæ¥è‡ªdevice-serviceï¼‰
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ manager/
â”‚   â”‚   â””â”€â”€ dao/
â”‚   â”œâ”€â”€ protocol/                # åè®®é€‚é…
â”‚   â”‚   â”œâ”€â”€ adapter/
â”‚   â”‚   â”œâ”€â”€ handler/
â”‚   â”‚   â””â”€â”€ codec/
â”‚   â””â”€â”€ communication/           # è®¾å¤‡é€šä¿¡
â”‚       â”œâ”€â”€ connection/
â”‚       â”œâ”€â”€ heartbeat/
â”‚       â””â”€â”€ command/
```

---

### ä»»åŠ¡3: æ•´åˆoa-service

**ç›®æ ‡**: å°†enterpriseå’Œinfrastructureæ•´åˆåˆ°oa-service

```
microservices/ioedream-oa-service/
â”œâ”€â”€ src/main/java/net/lab1024/sa/oa/
â”‚   â”œâ”€â”€ enterprise/              # ä¼ä¸šç®¡ç†ï¼ˆæ¥è‡ªenterprise-serviceï¼‰
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ manager/
â”‚   â”‚   â””â”€â”€ dao/
â”‚   â””â”€â”€ infrastructure/          # åŸºç¡€è®¾æ–½ï¼ˆæ¥è‡ªinfrastructure-serviceï¼‰
â”‚       â”œâ”€â”€ controller/
â”‚       â”œâ”€â”€ service/
â”‚       â”œâ”€â”€ manager/
â”‚       â””â”€â”€ dao/
```

---

## ğŸ”§ æ•´åˆæ‰§è¡Œæ­¥éª¤

### æ­¥éª¤1: åˆ†æç°æœ‰æœåŠ¡ä»£ç ç»“æ„

**æ£€æŸ¥æ¸…å•**:
- [ ] åˆ—å‡ºauth-serviceçš„æ‰€æœ‰ç±»å’Œæ–‡ä»¶
- [ ] åˆ—å‡ºidentity-serviceçš„æ‰€æœ‰ç±»å’Œæ–‡ä»¶
- [ ] è¯†åˆ«ä¾èµ–å…³ç³»
- [ ] è¯†åˆ«é…ç½®é¡¹
- [ ] è¯†åˆ«æ•°æ®åº“è¡¨

### æ­¥éª¤2: åˆ›å»ºç›®æ ‡åŒ…ç»“æ„

**æ“ä½œ**:
```bash
# åœ¨common-serviceä¸­åˆ›å»ºæ¨¡å—ç›®å½•
mkdir -p microservices/ioedream-common-service/src/main/java/net/lab1024/sa/common/auth/{controller,service,manager,dao}
mkdir -p microservices/ioedream-common-service/src/main/java/net/lab1024/sa/common/identity/{controller,service,manager,dao}
# ... å…¶ä»–æ¨¡å—
```

### æ­¥éª¤3: è¿ç§»ä»£ç æ–‡ä»¶

**æ“ä½œ**:
```bash
# å¤åˆ¶auth-serviceä»£ç åˆ°common-service
cp -r microservices/ioedream-auth-service/src/main/java/net/lab1024/sa/auth/* \
      microservices/ioedream-common-service/src/main/java/net/lab1024/sa/common/auth/
```

### æ­¥éª¤4: æ›´æ–°åŒ…åå’Œimport

**æ‰¹é‡æ›¿æ¢**:
```java
// æ›´æ–°åŒ…å
package net.lab1024.sa.auth.controller;
â†“
package net.lab1024.sa.common.auth.controller;

// æ›´æ–°import
import net.lab1024.sa.auth.service.AuthService;
â†“
import net.lab1024.sa.common.auth.service.AuthService;
```

### æ­¥éª¤5: æ•´åˆé…ç½®æ–‡ä»¶

**åˆå¹¶é…ç½®**:
```yaml
# common-service/application.yml
spring:
  application:
    name: ioedream-common-service
  
  # æ•´åˆæ‰€æœ‰æ¨¡å—çš„æ•°æ®æºé…ç½®
  datasource:
    # ä½¿ç”¨ç»Ÿä¸€æ•°æ®åº“æˆ–é…ç½®å¤šæ•°æ®æº
```

### æ­¥éª¤6: æ›´æ–°ä¾èµ–

**pom.xmlæ•´åˆ**:
```xml
<!-- æ•´åˆæ‰€æœ‰å­æœåŠ¡çš„ä¾èµ– -->
<dependencies>
    <!-- Authæ¨¡å—ä¾èµ– -->
    <dependency>
        <groupId>cn.dev33</groupId>
        <artifactId>sa-token-spring-boot3-starter</artifactId>
    </dependency>
    
    <!-- Identityæ¨¡å—ä¾èµ– -->
    <!-- ... -->
    
    <!-- Notificationæ¨¡å—ä¾èµ– -->
    <!-- ... -->
</dependencies>
```

### æ­¥éª¤7: æµ‹è¯•éªŒè¯

**éªŒè¯æ¸…å•**:
- [ ] ç¼–è¯‘é€šè¿‡
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æœåŠ¡å¯åŠ¨æˆåŠŸ
- [ ] æ¥å£è°ƒç”¨æ­£å¸¸
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸

---

## âš ï¸ æ•´åˆæ³¨æ„äº‹é¡¹

### æ½œåœ¨å†²çª

1. **åŒ…åå†²çª**: ä¸åŒæœåŠ¡å¯èƒ½æœ‰ç›¸åŒçš„ç±»å
   - **è§£å†³**: ä½¿ç”¨æ¨¡å—å‰ç¼€åŒºåˆ†

2. **é…ç½®å†²çª**: ä¸åŒæœåŠ¡çš„é…ç½®å¯èƒ½å†²çª
   - **è§£å†³**: ä½¿ç”¨æ¨¡å—å‰ç¼€çš„é…ç½®key

3. **ç«¯å£å†²çª**: æ•´åˆååªéœ€ä¸€ä¸ªç«¯å£
   - **è§£å†³**: ç»Ÿä¸€ä½¿ç”¨8088ç«¯å£

4. **æ•°æ®åº“å†²çª**: ä¸åŒæœåŠ¡å¯èƒ½ä½¿ç”¨ä¸åŒæ•°æ®åº“
   - **è§£å†³**: é…ç½®å¤šæ•°æ®æºæˆ–è¿ç§»åˆ°ç»Ÿä¸€æ•°æ®åº“

### ä¾èµ–ç®¡ç†

1. **å»é‡ä¾èµ–**: åˆå¹¶é‡å¤çš„ä¾èµ–é¡¹
2. **ç‰ˆæœ¬ç»Ÿä¸€**: ç¡®ä¿ä¾èµ–ç‰ˆæœ¬ä¸€è‡´
3. **æ¸…ç†æ— ç”¨ä¾èµ–**: ç§»é™¤ä¸å†éœ€è¦çš„ä¾èµ–

---

## ğŸ“ˆ æ•´åˆåçš„ä¼˜åŒ–æ•ˆæœ

### ç«‹å³æ•ˆæœ

| æŒ‡æ ‡ | æ•´åˆå‰ | æ•´åˆå | æ”¹è¿› |
|------|-------|-------|------|
| **æœåŠ¡æ•°é‡** | 22ä¸ª | 9ä¸ª | -59% |
| **é…ç½®æ–‡ä»¶** | 66ä¸ª | 18ä¸ª | -73% |
| **éƒ¨ç½²å•å…ƒ** | 22ä¸ª | 9ä¸ª | -59% |
| **å†…å­˜å ç”¨** | 22Ã—512MB | 9Ã—1GB | -50% |
| **å¯åŠ¨æ—¶é—´** | 22Ã—30s | 9Ã—45s | -32% |

### é•¿æœŸæ•ˆæœ

1. **ç»´æŠ¤æˆæœ¬**: é™ä½60%
2. **å¼€å‘æ•ˆç‡**: æå‡40%
3. **éƒ¨ç½²æ•ˆç‡**: æå‡50%
4. **ç›‘æ§æ•ˆç‡**: æå‡70%
5. **æ•…éšœå®šä½**: æå‡80%

---

## ğŸ¯ ä¿®æ­£åçš„æ‰§è¡Œå»ºè®®

### ç«‹å³æš‚åœå½“å‰å·¥ä½œ â¸ï¸

**åŸå› **: 
- å½“å‰åœ¨22ä¸ªåˆ†æ•£æœåŠ¡ä¸Šä¿®æ”¹æ˜¯é”™è¯¯çš„
- æ•´åˆåéœ€è¦é‡æ–°ä¿®æ”¹
- æµªè´¹æ—¶é—´å’Œç²¾åŠ›

### ç«‹å³å¼€å§‹æœåŠ¡æ•´åˆ ğŸš€

**ç¬¬ä¸€ä¼˜å…ˆçº§**: P0-0 æœåŠ¡æ•´åˆ
1. æ•´åˆcommon-serviceï¼ˆ3-5å¤©ï¼‰
2. æ•´åˆdevice-comm-serviceï¼ˆ1-2å¤©ï¼‰
3. æ•´åˆoa-serviceï¼ˆ1-2å¤©ï¼‰
4. æ¸…ç†åºŸå¼ƒæœåŠ¡ï¼ˆ1å¤©ï¼‰

**ç¬¬äºŒä¼˜å…ˆçº§**: åœ¨æ•´åˆåçš„7ä¸ªæœåŠ¡ä¸Šæ‰§è¡ŒP0ä»»åŠ¡
1. é…ç½®å®‰å…¨åŠ å›ºï¼ˆ7ä¸ªæœåŠ¡ï¼Œ2-3å¤©ï¼‰
2. åˆ†å¸ƒå¼è¿½è¸ªï¼ˆ9ä¸ªæœåŠ¡ï¼Œ1å¤©ï¼‰
3. RESTful APIé‡æ„ï¼ˆ7ä¸ªæœåŠ¡ï¼Œ1å‘¨ï¼‰

---

## ğŸ“‹ æ•´åˆæ£€æŸ¥æ¸…å•

### æ•´åˆå‰æ£€æŸ¥
- [ ] ç†è§£7å¾®æœåŠ¡æ¶æ„ç›®æ ‡
- [ ] åˆ†æç°æœ‰22ä¸ªæœåŠ¡çš„ä»£ç ç»“æ„
- [ ] è¯†åˆ«æœåŠ¡é—´çš„ä¾èµ–å…³ç³»
- [ ] åˆ¶å®šè¯¦ç»†çš„æ•´åˆè®¡åˆ’
- [ ] å‡†å¤‡æµ‹è¯•ç¯å¢ƒ

### æ•´åˆä¸­æ£€æŸ¥
- [ ] åˆ›å»ºç›®æ ‡åŒ…ç»“æ„
- [ ] è¿ç§»ä»£ç æ–‡ä»¶
- [ ] æ›´æ–°åŒ…åå’Œimport
- [ ] æ•´åˆé…ç½®æ–‡ä»¶
- [ ] æ›´æ–°ä¾èµ–
- [ ] è§£å†³å†²çª

### æ•´åˆåæ£€æŸ¥
- [ ] ç¼–è¯‘é€šè¿‡
- [ ] æµ‹è¯•é€šè¿‡
- [ ] æœåŠ¡å¯åŠ¨æ­£å¸¸
- [ ] åŠŸèƒ½éªŒè¯é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡
- [ ] æ–‡æ¡£æ›´æ–°

---

## ğŸš¨ é‡è¦å†³ç­–ç‚¹

### éœ€è¦ç¡®è®¤çš„é—®é¢˜

1. **æ˜¯å¦ç«‹å³å¼€å§‹æœåŠ¡æ•´åˆï¼Ÿ**
   - âœ… å»ºè®®ï¼šæ˜¯ï¼Œè¿™æ˜¯æ¶æ„ä¼˜åŒ–çš„åŸºç¡€
   - âŒ é£é™©ï¼šä¸æ•´åˆä¼šå¯¼è‡´åç»­æ‰€æœ‰ä¼˜åŒ–éƒ½éœ€è¦é‡å¤æ‰§è¡Œ

2. **æ•´åˆçš„ä¼˜å…ˆçº§ï¼Ÿ**
   - âœ… å»ºè®®ï¼šP0-0æœ€é«˜ä¼˜å…ˆçº§ï¼Œå…ˆäºæ‰€æœ‰å…¶ä»–ä»»åŠ¡
   - ç†ç”±ï¼šæ•´åˆåæ‰€æœ‰ä¼˜åŒ–å·¥ä½œé‡å‡å°‘60%

3. **å·²å®Œæˆçš„P0-3å’ŒP0-4ä¿®æ”¹å¦‚ä½•å¤„ç†ï¼Ÿ**
   - âœ… å»ºè®®ï¼šä¿ç•™è¿™äº›ä¿®æ”¹ï¼Œæ•´åˆæ—¶ä¸€å¹¶è¿ç§»
   - ç†ç”±ï¼šè¿™äº›ä¿®æ”¹ç¬¦åˆè§„èŒƒï¼Œä¸ä¼šæµªè´¹

4. **æ•´åˆè¿‡ç¨‹ä¸­æ˜¯å¦æš‚åœå…¶ä»–å·¥ä½œï¼Ÿ**
   - âœ… å»ºè®®ï¼šä¸“æ³¨äºæ•´åˆï¼Œæš‚åœå…¶ä»–ä¼˜åŒ–
   - ç†ç”±ï¼šæ•´åˆå®Œæˆåä¼˜åŒ–æ•ˆç‡æå‡3å€

---

## ğŸ“ éœ€è¦çš„æ”¯æŒ

### æŠ€æœ¯æ”¯æŒ
- **æ¶æ„å¸ˆ**: æŒ‡å¯¼æœåŠ¡æ•´åˆæ–¹æ¡ˆ
- **å¼€å‘å›¢é˜Ÿ**: æ‰§è¡Œä»£ç è¿ç§»å’Œæµ‹è¯•
- **æµ‹è¯•å›¢é˜Ÿ**: éªŒè¯æ•´åˆåçš„åŠŸèƒ½

### èµ„æºéœ€æ±‚
- **å¼€å‘æ—¶é—´**: 1-2å‘¨å…¨èŒæŠ•å…¥
- **æµ‹è¯•ç¯å¢ƒ**: ç‹¬ç«‹çš„æµ‹è¯•ç¯å¢ƒ
- **å›æ»šæ–¹æ¡ˆ**: Gitåˆ†æ”¯ç®¡ç†

---

## âœ… å»ºè®®çš„è¡ŒåŠ¨æ–¹æ¡ˆ

### æ–¹æ¡ˆAï¼šç«‹å³æ•´åˆï¼ˆæ¨èï¼‰

**ä¼˜ç‚¹**:
- ä¸€æ¬¡æ€§è§£å†³æ¶æ„é—®é¢˜
- åç»­ä¼˜åŒ–å·¥ä½œé‡å‡å°‘60%
- ç¬¦åˆé¡¹ç›®è§„èŒƒè¦æ±‚

**ç¼ºç‚¹**:
- éœ€è¦1-2å‘¨æ—¶é—´
- éœ€è¦å…¨èŒæŠ•å…¥
- æœ‰ä¸€å®šé£é™©

**é¢„è®¡æ”¶ç›Š**: 
- é•¿æœŸç»´æŠ¤æˆæœ¬é™ä½60%
- å¼€å‘æ•ˆç‡æå‡40%
- ç¬¦åˆä¼ä¸šçº§æ¶æ„æ ‡å‡†

### æ–¹æ¡ˆBï¼šæ¸è¿›å¼æ•´åˆï¼ˆä¿å®ˆï¼‰

**ä¼˜ç‚¹**:
- é£é™©å¯æ§
- å¯ä»¥è¾¹æ•´åˆè¾¹ä¼˜åŒ–
- ä¸å½±å“ç°æœ‰åŠŸèƒ½

**ç¼ºç‚¹**:
- æ—¶é—´æ›´é•¿ï¼ˆ2-3å‘¨ï¼‰
- è¿‡æ¸¡æœŸç»´æŠ¤å¤æ‚
- å¯èƒ½éœ€è¦é‡å¤å·¥ä½œ

### æ–¹æ¡ˆCï¼šæš‚ä¸æ•´åˆï¼ˆä¸æ¨èï¼‰

**ä¼˜ç‚¹**:
- æ— éœ€å¤§è§„æ¨¡æ”¹åŠ¨
- çŸ­æœŸå†…å¯ä»¥ç»§ç»­ä¼˜åŒ–

**ç¼ºç‚¹**:
- âŒ è¿åé¡¹ç›®æ¶æ„è§„èŒƒ
- âŒ æ‰€æœ‰ä¼˜åŒ–éœ€è¦åœ¨22ä¸ªæœåŠ¡ä¸Šé‡å¤
- âŒ é•¿æœŸç»´æŠ¤æˆæœ¬é«˜
- âŒ æŠ€æœ¯å€ºåŠ¡æŒç»­ç´¯ç§¯

---

## ğŸ¯ æˆ‘çš„å»ºè®®

**å¼ºçƒˆå»ºè®®é‡‡ç”¨æ–¹æ¡ˆAï¼šç«‹å³æ•´åˆ**

**ç†ç”±**:
1. **ç¬¦åˆè§„èŒƒ**: CLAUDE.mdæ˜ç¡®è§„å®š7å¾®æœåŠ¡æ¶æ„
2. **æ•ˆç‡æœ€é«˜**: æ•´åˆåä¼˜åŒ–å·¥ä½œé‡å‡å°‘60%
3. **é•¿æœŸä»·å€¼**: ç»´æŠ¤æˆæœ¬é™ä½ï¼Œå¼€å‘æ•ˆç‡æå‡
4. **å·²æœ‰åŸºç¡€**: å·²å®Œæˆçš„P0-3å’ŒP0-4ä¿®æ”¹å¯ä»¥ä¿ç•™

**æ‰§è¡Œè®¡åˆ’**:
1. **æœ¬å‘¨**: å®Œæˆcommon-serviceæ•´åˆï¼ˆæœ€å…³é”®ï¼‰
2. **ä¸‹å‘¨**: å®Œæˆdevice-commå’Œoa-serviceæ•´åˆ
3. **ç¬¬ä¸‰å‘¨**: åœ¨æ•´åˆåçš„7ä¸ªæœåŠ¡ä¸Šæ‰§è¡Œæ‰€æœ‰P0ä¼˜åŒ–

**é¢„æœŸæˆæœ**:
- æœåŠ¡æ•°é‡ï¼š22ä¸ª â†’ 9ä¸ª
- ç»´æŠ¤æˆæœ¬ï¼šé™ä½60%
- æ¶æ„åˆè§„æ€§ï¼š100%
- ä¸ºåç»­ä¼˜åŒ–å¥ å®šåšå®åŸºç¡€

---

**ğŸ‘¥ å»ºè®®æå‡º**: IOE-DREAM æ¶æ„å§”å‘˜ä¼š  
**ğŸ“… å»ºè®®æ—¥æœŸ**: 2025-12-02  
**âœ… å»ºè®®çŠ¶æ€**: ç­‰å¾…å†³ç­–

---

**ğŸš¨ å…³é”®å†³ç­–ï¼šæ˜¯å¦ç«‹å³å¼€å§‹æœåŠ¡æ•´åˆï¼Ÿ**

