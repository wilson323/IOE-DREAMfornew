# ============================================================
# IOE-DREAM SonarQube项目配置
#
# @Author:    IOE-DREAM Team
# @Date:      2025-01-30
# @Description: SonarQube代码质量扫描配置
# ============================================================

# 项目基本信息
sonar.projectKey=ioe-dream
sonar.projectName=IOE-DREAM智慧园区一卡通管理平台
sonar.projectVersion=1.0.0

# 源代码目录（多模块）
# 说明：使用目录根 + inclusion/exclusion 的方式，兼容 microservices 下的多个 Maven 模块结构
sonar.sources=microservices
sonar.tests=microservices

# 源代码编码
sonar.sourceEncoding=UTF-8

# Java版本
sonar.java.source=17
sonar.java.target=17

# 仅扫描 Java 源码
sonar.inclusions=**/src/main/java/**
sonar.test.inclusions=**/src/test/java/**

# 排除文件（不参与扫描）
sonar.exclusions=**/src/test/**,**/target/**,**/node_modules/**,**/entity/**,**/domain/vo/**,**/domain/form/**,**/config/**,**/constant/**,**/enum/**,**/exception/**,**/dto/**,**/*Application.java,**/*Configuration.java

# 测试排除
sonar.test.exclusions=**/target/**

# 重复代码检测配置
# minimumTokens: 最小token数，低于此值的重复代码块不报告
sonar.cpd.java.minimumTokens=50
sonar.cpd.exclusions=**/entity/**,**/domain/vo/**,**/domain/form/**,**/config/**,**/constant/**,**/enum/**,**/exception/**,**/dto/**,**/*Application.java,**/*Configuration.java

# 代码质量规则
sonar.qualitygate.wait=true

# 语言设置
sonar.language=java

# 覆盖率报告路径（JaCoCo）
sonar.coverage.jacoco.xmlReportPaths=**/target/site/jacoco/jacoco.xml

# 测试报告路径
sonar.junit.reportPaths=**/target/surefire-reports/TEST-*.xml

# 代码行数统计排除
sonar.coverage.exclusions=**/entity/**,**/domain/vo/**,**/domain/form/**,**/config/**,**/constant/**,**/enum/**,**/exception/**,**/dto/**,**/*Application.java,**/*Configuration.java

