# ZKBioSecurity-ACC门禁系统业务流程图

## 项目概述

本项目基于ZKBioSecurity-ACC门禁系统，包含完整的业务流程图设计，涵盖设备管理、区域空间管理、实时监控、事件记录查询、审批流程管理、系统配置和高级功能等七大核心模块。

## 文件结构

```
门禁系统业务流程图/
├── README.md                           # 项目说明文件
├── 01-系统整体架构流程图.md             # 系统整体架构和模块关系
├── 02-设备管理模块流程图.md             # 设备管理模块详细流程
├── 03-区域空间管理模块流程图.md         # 区域空间管理模块流程
├── 04-实时监控模块流程图.md             # 实时监控模块流程
├── 05-事件记录查询模块流程图.md         # 事件记录查询模块流程
├── 06-审批流程管理模块流程图.md         # 审批流程管理模块流程
├── 07-系统配置模块流程图.md             # 系统配置模块流程
├── 08-高级功能模块流程图.md             # 高级功能模块流程
├── 09-系统交互流程图.md                 # 系统各模块交互时序图
├── 10-数据流转图.md                     # 数据在各模块间的流转
└── 11-关键控制点和性能指标.md           # 业务控制点和SLA要求
```

## 流程图说明

### 1. 系统整体架构流程图
展示ZKBioSecurity-ACC门禁系统的整体架构，包含七大核心模块及其相互关系和数据流。

### 2. 核心业务流程图（7个文件）
每个核心模块的详细业务流程：
- **设备管理模块**：设备管理、门管理、读头管理、I/O扩展板管理、远程控制流程
- **区域空间管理模块**：区域创建、人员权限分配、设备分配、占用监控流程
- **实时监控模块**：实时状态监控、报警处理、视频联动、人员追踪流程
- **事件记录查询模块**：事件查询、异常事件处理、统计报表生成流程
- **审批流程管理模块**：权限申请、访客预约、紧急权限处理、审批流程配置
- **系统配置模块**：系统参数配置、用户权限管理、许可证管理、备份恢复流程
- **高级功能模块**：全局反潜、全局联动、全局互锁、疏散点管理、人数控制、人员限制流程

### 3. 系统交互流程图
使用序列图展示用户与系统各模块之间的交互时序和数据流。

### 4. 数据流转图
展示数据在输入层、处理层、存储层、输出层之间的流转过程和反馈循环。

### 5. 关键控制点和性能指标
详细说明每个模块的关键业务控制点、SLA性能指标要求和监控告警机制。

## 技术特点

### Mermaid语法支持
所有流程图均使用Mermaid语法编写，支持：
- 在GitHub、GitLab等平台直接渲染
- 集成到Markdown文档中
- 支持在线编辑器修改
- 可以导出为PNG、SVG等格式

### 标准流程图符号
- 使用标准的流程图符号（开始/结束、处理、判断、输入输出、连接线）
- 清晰标注关键决策点和分支条件
- 包含完整的异常处理流程
- 标注数据流向和系统接口

### 详细业务逻辑
- 每个流程图都包含详细的流程说明
- 标注关键控制点和注意事项
- 包含性能指标和SLA要求
- 提供完整的业务规则说明

## 使用说明

### 查看流程图
1. **在线查看**：在支持Mermaid的平台直接查看渲染效果
2. **本地查看**：使用Mermaid在线编辑器或VS Code插件
3. **导出图片**：使用Mermaid工具导出为PNG、SVG格式

### 修改流程图
1. **文本编辑**：直接编辑MD文件中的Mermaid代码
2. **可视化编辑**：使用Mermaid在线编辑器进行可视化编辑
3. **版本控制**：使用Git进行版本控制和协作

### 集成使用
- 可以集成到项目文档中
- 可以用于系统设计和开发参考
- 可以作为培训和技术交流材料

## 业务覆盖范围

### 核心功能模块
1. **设备管理**：支持多种门禁设备的管理和控制
2. **区域管理**：灵活的区域划分和权限管理
3. **实时监控**：全方位的实时状态监控和报警处理
4. **事件查询**：完善的事件记录和查询分析功能
5. **审批管理**：灵活的权限申请和审批流程
6. **系统配置**：全面的系统配置和用户管理
7. **高级功能**：反潜、联动、互锁等高级安全功能

### 业务场景覆盖
- 企业办公楼宇门禁管理
- 工厂厂区安全管控
- 学校校园安全管理
- 医院病区访问控制
- 政府机关安全保卫
- 数据中心权限管理

## 性能指标

### 响应时间要求
- 系统登录：< 2秒
- 设备操作：< 1秒
- 实时监控更新：< 5秒
- 事件查询：< 3秒
- 报警响应：< 30秒

### 可用性要求
- 系统整体可用性：≥ 99.9%
- 核心功能可用性：≥ 99.99%
- 设备连接成功率：≥ 99.5%

### 并发处理能力
- 同时在线用户：≥ 500个
- 并发设备管理：≥ 1000个
- 实时事件处理：≥ 10000条/秒

## 实时监控与告警操作指南

为匹配多模态生物识别安全要求，门禁运营团队需要在控制中心完成如下配置与操作：

1. **心跳对接**  
   - 在边缘控制器/设备代理中集成 `/api/smart/biometric/monitor/status` 接口。  
   - 心跳间隔推荐 10 秒，接口需携带算法状态、成功/失败次数、资源占用等字段。  
   - 若 30 秒内未收到心跳，系统将把节点标记为 `stale` 并推送告警。

2. **仪表盘查看**  
   - 赋予账号权限码 `smart:biometric:monitor:read` 后，可在“实时监控”页面查看仪表盘。  
   - 仪表盘会展示引擎数量、成功率、平均耗时以及逾期告警列表，可通过 WebSocket 自动刷新。

3. **告警处理流程**  
   - 触发告警：系统自动触发，也可在“告警中心”使用 `smart:biometric:monitor:alert` 权限手动创建。  
   - 处理 SLA：30 秒内需要确认或解决，每次操作都要填写处理意见。  
   - 关闭告警：调用 `/alerts/{alertId}/resolve` 或在前端界面点击“关闭”，系统会记录 `resolution` 与 `updatedAt`。

4. **运营建议**  
   - 大屏轮询 `/dashboard` 周期为 5 秒，避免更高频率对后端造成压力。  
   - 对 CRITICAL 告警开启企业微信/飞书 Webhook 同步，确保夜间值班及时响应。  
   - 每周导出 `t_biometric_alert_log` 数据，与设备厂商共享，分析算法准确率波动。

## 质量保证

### 流程完整性
- 覆盖所有核心业务场景
- 包含完整的异常处理流程
- 标注关键控制点和决策点
- 提供详细的业务规则说明

### 技术规范性
- 使用标准的流程图符号
- 遵循Mermaid语法规范
- 统一的命名和标注规范
- 完整的文档说明

### 实用性
- 基于真实业务需求设计
- 考虑实际的技术实现
- 包含性能和扩展性要求
- 提供具体的实施指导

## 更新维护

### 版本管理
- 使用Git进行版本控制
- 记录每次修改的内容和原因
- 保持文档的同步更新
- 定期进行内容审查和优化

### 反馈机制
- 接受用户反馈和建议
- 根据实际使用情况进行调整
- 持续优化流程设计
- 保持与技术发展的同步

## 联系信息

如有问题或建议，请通过以下方式联系：
- 项目维护：系统架构团队
- 技术支持：技术开发团队
- 业务咨询：产品管理团队

---

**注意**：本流程图设计基于ZKBioSecurity-ACC门禁系统的标准功能，在实际项目中可能需要根据具体需求进行调整和定制。