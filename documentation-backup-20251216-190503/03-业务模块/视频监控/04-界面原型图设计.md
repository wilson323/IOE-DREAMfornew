# 界面原型图设计文档

## 📋 概述

本文档详细展示了智能视频模块的所有界面原型，包括每个页面的布局、按钮、功能区域、操作流程等。原型图采用ASCII艺术形式绘制，清晰展示界面结构和交互逻辑。

---

## 1. 整体布局设计

### 1.1 主界面布局

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 顶部导航栏 (Top Navigation)                                                  │
│ ┌──────────┬────────────────────────────────────────────────┬─────────────┐  │
│ │ 🏠 Logo  │ 系统标题: 智能视频监控系统              │ 👤 用户信息 │ │
│ │          │                                                  │ ⚙️ 设置    │ │
│ └──────────┴────────────────────────────────────────────────┴─────────────┘  │
├──────────────────────────────────────────────────────────────────────────────┤
│ 左侧菜单栏 (Left Menu)              │ 主内容区域 (Main Content Area)        │
│ ┌────────────────────────────────┐  │ ┌──────────────────────────────────┐ │
│ │ 🏠 首页                         │  │ │                                  │ │
│ │  📹 智能视频                     │  │ │                                  │ │
│ │    ├─ 实时监控                   │  │ │       主工作区                   │ │
│ │    ├─ 设备管理交互               │  │ │                                  │ │
│ │    ├─ 录像回放                   │  │ │                                  │ │
│ │    ├─ 告警管理                   │  │ │                                  │ │
│ │    ├─ 智能分析                   │  │ │                                  │ │
│ │    ├─ 解码上墙                   │  │ │                                  │ │
│ │    └─ 事件订阅                   │  │ │                                  │ │
│ │                                  │  │ │                                  │ │
│ │ 🔧 公共模块                       │  │ │                                  │ │
│ │    ├─ (用户权限在公共模块)        │  │ │                                  │ │
│ │    ├─ (系统日志在公共模块)        │  │ │                                  │ │
│ │    └─ (设备管理在公共模块)        │  │ │                                  │ │
│ │                                  │  │ │                                  │ │
│ └────────────────────────────────┘  │ └──────────────────────────────────┘ │
├──────────────────────────────────────────────────────────────────────────────┤
│ 底部状态栏 (Bottom Status)                                                  │
│ ┌──────────┬────────────────────┬──────────────┬──────────────┬────────────┐ │
│ │ 在线状态 │ 当前时间: 2024-01-15 │ 系统版本: v1.0│ 许可证状态: 有效│ 帮助 │ │
│ └──────────┴────────────────────┴──────────────┴──────────────┴────────────┘ │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 1.2 菜单结构图

```
智能视频监控系统
├── 🏠 首页
│   ├── 系统概览
│   ├── 设备状态总览
│   ├── 告警信息总览
│   └── 数据统计图表
│
├── 📹 智能视频
│   ├── 实时监控
│   │   ├── 视频预览
│   │   ├── 云台控制
│   │   └── 截图录像
│   ├── 设备管理交互
│   │   ├── 设备列表(从公共模块获取)
│   │   ├── 设备状态监控
│   │   └── 设备离线告警
│   ├── 录像回放
│   │   ├── 录像查询
│   │   ├── 录像回放
│   │   ├── 时间轴预览
│   │   ├── 下载前预览
│   │   ├── 水印配置
│   │   └── 录像管理
│   ├── 告警管理
│   │   ├── 实时告警
│   │   ├── 历史告警
│   │   ├── 告警配置
│   │   └── 告警统计
│   ├── 智能分析
│   │   ├── 人脸识别
│   │   ├── 行为分析
│   │   ├── 异常检测
│   │   ├── 联动抓拍
│   │   └── 分析统计
│   ├── 解码上墙
│   │   ├── 解码器管理
│   │   ├── 大屏控制
│   │   ├── 布局配置
│   │   └── 上墙任务
│   └── 事件订阅
│       ├── 事件订阅管理
│       ├── 数据推送
│       └── 跨模块交互
│
├── 🔧 公共模块
│   ├── 用户权限
│   │   ├── (在公共模块实现)
│   │   ├── 用户管理
│   │   ├── 角色管理
│   │   ├── 安全级别
│   │   └── 权限分配
│   ├── 系统配置
│   │   ├── (在公共模块实现)
│   │   ├── 系统参数
│   │   ├── 参数模板
│   │   ├── 邮件配置
│   │   └── 短信配置
│   └── 日志管理
│       ├── (在公共模块实现)
│       ├── 操作日志
│       ├── 系统日志
│       ├── 告警日志
│       └── 日志查询
│
└── 📊 报表统计
    ├── 设备统计
    ├── 录像统计
    ├── 告警统计
    └── 系统统计
```

---

## 2. 实时监控模块界面设计
## 📋 IOE-DREAM七微服务架构

**核心架构组成**:
- **Gateway Service (8080)**: API网关
- **Common Service (8088)**: 公共模块微服务
- **DeviceComm Service (8087)**: 设备通讯微服务
- **OA Service (8089)**: OA微服务
- **Access Service (8090)**: 门禁服务
- **Attendance Service (8091)**: 考勤服务
- **Video Service (8092)**: 视频服务
- **Consume Service (8094)**: 消费服务
- **Visitor Service (8095)**: 访客服务

**架构特点**:
- 基于Spring Boot 3.5.8 + Java 17
- 严格遵循企业级微服务规范
- 支持高并发、高可用、水平扩展

**技术栈标准**:
- **数据库**: MySQL 8.0 + Druid连接池
- **缓存**: Redis + Caffeine多级缓存
- **注册中心**: Nacos
- **配置中心**: Nacos Config
- **认证授权**: Sa-Token

## 🏗️ 四层架构规范

**标准架构模式**:
```
Controller (接口控制层)
    ↓
Service (核心业务层)
    ↓
Manager (流程管理层)
    ↓
DAO (数据访问层)
```

**层级职责**:
- **Controller层**: HTTP请求处理、参数验证、权限控制
- **Service层**: 核心业务逻辑、事务管理、业务规则验证
- **Manager层**: 复杂流程编排、多数据组装、第三方服务集成
- **DAO层**: 数据库CRUD操作、SQL查询实现、数据访问边界

**严格禁止跨层访问**: Controller不能直接调用Manager/DAO！
### 2.1 实时监控主界面
## ⚠️ IOE-DREAM零容忍规则（强制执行）

**必须遵守的架构规则**:
- ✅ **必须使用 @Resource 注入依赖**
- ✅ **必须使用 @Mapper 注解** (禁止@Repository)
- ✅ **必须使用 Dao 后缀** (禁止Repository)
- ✅ **必须使用 @RestController 注解**
- ✅ **必须使用 @Valid 参数校验**
- ✅ **必须返回统一ResponseDTO格式**
- ✅ **必须遵循四层架构边界**

**严格禁止事项**:
- ❌ **禁止使用 @Autowired 注入**
- ❌ **禁止使用 @Repository 注解**
- ❌ **禁止使用 Repository 后缀命名**
- ❌ **禁止跨层访问**
- ❌ **禁止在Controller中包含业务逻辑**
- ❌ **禁止直接访问数据库**

**违规后果**: P0级问题，立即修复，禁止合并！

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 智能视频 > 实时监控                                           │
├──────────────────────────────────────────────────────────────────────────────┤
│ 工具栏                                                                       │
│ ┌──────┬──────┬──────┬──────┬──────┬──────┬──────┬──────┬──────┐        │
│ │全屏模式│布局切换│云台控制│截图 │录像 │轮巡│声音│设置│帮助│        │
│ └──────┴──────┴──────┴──────┴──────┴──────┴──────┴──────┴──────┘        │
├──────────────────────────────────────────────────────────────────────────────┤
│ 左侧设备树                        │ 主视频预览区域                         │
│ ┌──────────────────────────────┐  │ ┌────────────────────────────────────┐ │
│ │ 搜索框: [_______________] 🔍 │  │ │ ┌──────┐ ┌──────┐ ┌──────┐      │ │
│ │                              │  │ │ │ 视频1 │ │ 视频2 │ │ 视频3 │      │ │
│ │ ☑️ 全部设备                   │  │ │ └──────┘ └──────┘ └──────┘      │ │
│ │   ☑️ 监控组1                  │  │ │ ┌──────┐ ┌──────┐ ┌──────┐      │ │
│ │     ├ 摄像头001 [在线]        │  │ │ │ 视频4 │ │ 视频5 │ │ 视频6 │      │ │
│ │     ├ 摄像头002 [离线]        │  │ │ └──────┘ └──────┘ └──────┘      │ │
│ │     └ 摄像头003 [在线]        │  │ │ ┌──────┐ ┌──────┐ ┌──────┐      │ │
│ │   ☑️ 监控组2                  │  │ │ │ 视频7 │ │ 视频8 │ │ 视频9 │      │ │
│ │     ├ 摄像头004 [在线]        │  │ │ └──────┘ └──────┘ └──────┘      │ │
│ │     ├ 摄像头005 [在线]        │  │ │                                    │ │
│ │     └ 摄像头006 [离线]        │  │ │         当前: 9画面模式            │ │
│ │                              │  │ │         总计: 100路设备           │ │
│ │ ☑️ 离线设备                   │  │ │         在线: 85路               │ │
│ │   摄像头007 [离线2小时]       │  │ │         离线: 15路               │ │
│ │   摄像头008 [离线1天]         │  │ └────────────────────────────────────┘ │
│ └──────────────────────────────┘  │                                       │
├──────────────────────────────────────────────────────────────────────────────┤
│ 底部信息栏                                                                   │
│ ┌────────────────────────────────┬──────────────┬─────────────────────────┐ │
│ │ 当前设备: 摄像头001             │ 码率: 2Mbps  │ 帧率: 25fps             │ │
│ │ 分辨率: 1920×1080              │ 编码: H.265  │ 时间: 2024-01-15 10:30   │ │
│ └────────────────────────────────┴──────────────┴─────────────────────────┘ │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 云台控制面板

```
┌─────────────────────────────────────────┐
│ 云台控制                                 │
├─────────────────────────────────────────┤
│                                         │
│        ↑                               │
│        │                               │
│   ←    │    →                          │
│        │                               │
│        ↓                               │
│                                         │
│  ┌─────────┐ ┌─────────┐              │
│  │  放大   │ │  缩小   │              │
│  └─────────┘ └─────────┘              │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │           预置位管理                 │ │
│ │ ┌─────────────────────────────────┐ │ │
│ │ │ 预置位1: 大门口               │ │ │
│ │ │ 预置位2: 大厅                   │ │ │
│ │ │ 预置位3: 走廊                   │ │ │
│ │ │ 预置位4: 楼梯                   │ │ │
│ │ └─────────────────────────────────┘ │ │
│ │                                     │ │
│ │ [设置] [调用] [清除] [巡航]         │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### 2.3 截图录像弹窗

```
┌─────────────────────────────────────────┐
│ 截图/录像操作                            │
├─────────────────────────────────────────┤
│ ┌─────────────────────────────────────┐ │
│ │ 当前设备: 摄像头001                 │ │
│ │ 状态: 在线                          │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ 操作类型:                               │
│ ○ 截图                                 │
│ ○ 开始录像                             │
│ ○ 停止录像                             │
│                                         │
│ 保存位置: [默认位置____________] [浏览] │
│                                         │
│ 文件名称: [自动生成_______] [编辑]      │
│                                         │
│ 图片格式: ○ JPEG ○ PNG                 │
│ 录像格式: ○ MP4 ○ AVI ○ MKV            │
│                                         │
│ ┌──────────────┬──────────────┐        │
│ │    确定      │     取消      │        │
│ └──────────────┴──────────────┘        │
└─────────────────────────────────────────┘
```

### 2.4 实时监控详细流程图

```
开始监控流程
    ↓
选择监控画面数量 (1/4/9/16/25)
    ↓
从设备树选择设备
    ↓
检查设备访问权限
    ↓ 失败
显示"无访问权限"提示
    ↓ 成功
获取视频流地址
    ↓
初始化播放器
    ↓
开始播放视频流
    ↓
显示视频画面
    ↓
持续播放状态
    ↓
提供实时控制功能
    ↓
┌──────────────────────────┐
│ 支持的操作:              │
│ ├─ 云台控制 (PTZ)        │
│ ├─ 截图功能              │
│ ├─ 录像功能              │
│ ├─ 画面调节              │
│ ├─ 全屏显示              │
│ └─ 画面切换              │
└──────────────────────────┘
    ↓
用户主动停止或系统异常
    ↓
停止播放
    ↓
释放资源
    ↓
结束
```

---

## 3. 设备管理交互模块界面设计

### 3.1 设备列表页面

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 智能视频 > 设备管理交互 > 设备列表                             │
├──────────────────────────────────────────────────────────────────────────────┤
│ 页面标题: 设备管理交互 (数据来源: 公共设备管理模块)                [用户级别: 机密级]│
├──────────────────────────────────────────────────────────────────────────────┤
│ 工具栏                                                                       │
│ ┌──────────┬──────────┬──────────┬──────────┬────────┬────────┐          │
│ │设备数据订阅│离线告警设置│联动抓拍配置│数据同步│刷新   │更多操作│          │
│ └──────────┴──────────┴──────────┴──────────┴────────┴────────┘          │
├──────────────────────────────────────────────────────────────────────────────┤
│ 搜索筛选区域                                                                 │
│ ┌──────┬──────┬──────┬──────┬──────┬──────┬──────┬──────────────┐      │
│ │设备名 │设备IP│设备类型│设备状态│设备分组│时间范围│搜索 │重置│      │
│ │[____]│[____]│[全部▼]│[全部▼]│[全部▼]│[____]│[🔍] │[↻] │      │
│ └──────┴──────┴──────┴──────┴──────┴──────┴──────┴──────────────┘      │
├──────────────────────────────────────────────────────────────────────────────┤
│ 设备列表 (共100条记录，数据来源: 公共设备管理模块)                             │
│ ┌─┬──────┬────────┬──────┬────────┬────────┬────────┬──────┬──────────┐   │
│ │☐│设备名称│设备类型 │IP地址 │设备状态 │设备分组 │最后在线 │ 在线时长│操作      │   │
│ ├─┼──────┼────────┼──────┼────────┼────────┼────────┼──────┼──────────┤   │
│ │☑│摄像头001│网络摄像头│192.168.1.101│在线 │监控组1 │2分钟前│2天│查看|监控│   │
│ │ │摄像头002│网络摄像头│192.168.1.102│离线 │监控组1 │1小时前│3天│查看|告警│   │
│ │☑│摄像头003│网络摄像头│192.168.1.103│在线 │监控组2 │5分钟前│1天│查看|监控│   │
│ │ │摄像头004│网络摄像头│192.168.1.104│在线 │监控组2 │3分钟前│5天│查看|监控│   │
│ │☑│摄像头005│网络摄像头│192.168.1.105│离线 │监控组3 │2小时前│7天│查看|告警│   │
│ └─┴──────┴────────┴──────┴────────┴────────┴────────┴──────┴──────────┘   │
├──────────────────────────────────────────────────────────────────────────────┤
│ 分页控件                                                                     │
│ ┌────────┬────────┬────────┬────────┬────────┐                           │
│ │ 上一页 │ 1 2 3 …10│ 下一页 │ 每页20条 │ 跳转至第___页│                           │
│ └────────┴────────┴────────┴────────┴────────┘                           │
├──────────────────────────────────────────────────────────────────────────────┤
│ 批量操作选区                                                                 │
│ 已选择: 2项 [批量设置离线告警] [批量联动抓拍] [数据同步] [取消选择]           │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 设备数据订阅配置弹窗

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 设备数据订阅配置                                      [用户级别: 机密级] │
├──────────────────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ 订阅模式: ● 实时推送 ○ 定时拉取 ● 设备状态变更 ● 设备离线告警     │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ 订阅设置                                                                     │
│ ┌──────────────┬─────────────────────────────────────────────────────────┐ │
│ │ 订阅设备类型│ [全部设备类型____________] <选择>                        │ │
│ ├──────────────┼─────────────────────────────────────────────────────────┤ │
│ │ 订阅设备列表│ [点击选择设备____________] <选择>                       │ │
│ ├──────────────┼─────────────────────────────────────────────────────────┤ │
│ │ 订阅事件类型│ ☑ 设备上线/离线                               │ │
│ │            │ ☑ 设备状态变更                               │ │
│ │            │ ☑ 设备性能告警                               │ │
│ │            │ ☑ 设备离线告警                               │ │
│ └──────────────┴─────────────────────────────────────────────────────────┘ │
│                                                                             │
│ 离线告警设置                                                                 │
│ ┌──────────────┬─────────────────────────────────────────────────────────┐ │
│ │ 心跳超时阈值│ [30]秒                                      │ │
│ ├──────────────┼─────────────────────────────────────────────────────────┤ │
│ │ 重试次数   │ [3]次                                       │ │
│ ├──────────────┼─────────────────────────────────────────────────────────┤ │
│ │ 告警通知方式│ ☑ 系统内通知 ☑ 邮件通知 ☑ 短信通知          │ │
│ └──────────────┴─────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌──────────────┬──────────────┬──────────────────────────┬──────────────┐ │
│ │   [测试订阅] │   [清空配置] │        [保存订阅配置]     │   [取消]    │ │
│ └──────────────┴──────────────┴──────────────────────────┴──────────────┘ │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 3.3 设备详情页面

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 智能视频 > 设备管理 > 设备列表 > 设备详情                       │
├──────────────────────────────────────────────────────────────────────────────┤
│ 设备详情: 摄像头001                                            [编辑] [删除] │
├──────────────────────────────────────────────────────────────────────────────┤
│ 标签页: 基本信息 | 网络配置 | 视频参数 | 录像设置 | AI配置 | 操作日志        │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 基本信息                                                                      │
│ ┌──────────────────────────────────────────────────────────────┐            │
│ │ 设备名称: 摄像头001                         设备状态: 在线    │            │
│ │ 设备编号: DEV-202401001                     在线时长: 2天     │            │
│ │ 设备类型: 网络摄像头                         最后心跳: 刚刚    │            │
│ │ 生产厂家: 海康威视                           固件版本: v3.4.2 │            │
│ │ 设备型号: DS-2CD3T85                          设备序列号:     │            │
│ │                                                   ××××××××× │            │
│ │ 安装位置: 一楼大厅                            经纬度:         │            │
│ │ 所属分组: 监控组1                              113.1234,     │            │
│ │                                                    23.5678   │            │
│ │ 设备描述: 大门口主监控点                       创建时间:       │            │
│ │                                                    2024-01-01 │            │
│ │                                                    10:00:00  │            │
│ └──────────────────────────────────────────────────────────────┘            │
│                                                                             │
│ 实时状态                                                                      │
│ ┌──────────────────────────────────────────────────────────────┐            │
│ │ CPU使用率: ████████░░ 80%          内存使用率: ██████░░░░ 60% │            │
│ │ 磁盘使用率: ████░░░░░░░ 40%        网络状态: 正常           │            │
│ │ 视频信号: 正常                            录像状态: 正在录像 │            │
│ │ 温度: 45℃                              湿度: 65%           │            │
│ └──────────────────────────────────────────────────────────────┘            │
│                                                                             │
│ 快捷操作                                                                      │
│ ┌────────┬────────┬────────┬────────┬────────┬────────┐          │
│ │[实时预览]│[云台控制]│[重启设备]│[截图]│[录像]│[更多信息]│          │
│ └────────┴────────┴────────┴────────┴────────┴────────┘          │
│                                                                             │
│ 最近操作日志                                                                  │
│ ┌──────────────────────────────────────────────────────────────┐            │
│ │ 2024-01-15 10:30:25  用户张三  访问实时预览                  │            │
│ │ 2024-01-15 10:25:10  系统      心跳正常                      │            │
│ │ 2024-01-15 10:20:00  用户李四  执行云台控制                  │            │
│ │ 2024-01-15 10:15:30  系统      开始录像                      │            │
│ │ 2024-01-15 10:10:00  用户王五  修改设备配置                  │            │
│ └──────────────────────────────────────────────────────────────┘            │
└──────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. 录像回放模块界面设计

### 4.1 录像回放主界面

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 智能视频 > 录像回放                                           │
├──────────────────────────────────────────────────────────────────────────────┤
│ 搜索条件                                                                      │
│ ┌──────┬──────┬──────┬──────┬──────┬──────────────────────────┐            │
│ │设备名称│[摄像头___]│日期 │[今天▼]│时间段 │[00:00-23:59] │[搜索]│      │
│ └──────┴──────┴──────┴──────┴──────┴──────────────────────────┘            │
├──────────────────────────────────────────────────────────────────────────────┤
│ 时间轴控件                                                                   │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ 2024-01-15 00:00                                          2024-01-15 24:00│ │
│ │ │──────┼──────┼──────┼──────┼──────┼──────┼──────┼──────┼──────│         │ │
│ │ 00    03    06    09    12    15    18    21    24                   │ │
│ │        ┌─────┐                                                       │ │
│ │        │录像段│ 录像段                                                │ │
│ │        └─────┘                                                       │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│ 00:00  02:00  04:00  06:00  08:00  10:00  12:00  14:00  16:00  18:00  20:00  │
├──────────────────────────────────────────────────────────────────────────────┤
│ 录像列表 (找到120段录像)                                                     │
│ ┌──┬────────┬────────┬────────┬──────┬────────┬──────┐         │
│ │☐│开始时间│结束时间│设备名称│ 时长 │文件大小│状态│操作│         │
│ ├──┼────────┼────────┼────────┼──────┼────────┼──────┤         │
│ │☑│10:00:00│10:30:15│摄像头001│30分15│1.2GB │正常│播放│         │
│ │☑│11:00:00│11:45:30│摄像头001│45分30│1.8GB │正常│播放│         │
│ │ │14:00:00│14:15:20│摄像头001│15分20│600MB │异常│播放│         │
│ └──┴────────┴────────┴────────┴──────┴────────┴──────┘         │
├──────────────────────────────────────────────────────────────────────────────┤
│ 播放器区域                                                                    │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ┌─────────────────────────────────────────────────────────────────────┐ │ │
│ │ │                     视频播放器画面                                    │ │ │
│ │ │                    (16:9比例显示区域)                                │ │ │
│ │ └─────────────────────────────────────────────────────────────────────┘ │ │
│ │                                                                     │ │
│ │ [⏮] [⏯] [⏭] [⏹] | ◐0.5x ◑1.0x ►1.5x ●2.0x [音量] [全屏]           │ │
│ │ ████████████░░░░░ 00:15:32 / 00:30:15                                  │ │
│ │                                                                     │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ 播放控制选项                                                                  │
│ ┌────────┬────────┬────────┬────────┬────────┬────────┐            │
│ │[下载]│[截图]│[剪辑]│[拼接]│[书签]│[设置]│            │
│ └────────┴────────┴────────┴────────┴────────┴────────┘            │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 4.2 录像下载对话框

```
┌─────────────────────────────────────────┐
│ 录像下载                                 │
├─────────────────────────────────────────┤
│ 录像信息                                  │
│ ┌─────────────────────────────────────┐ │
│ │ 设备名称: 摄像头001                  │ │
│ │ 开始时间: 2024-01-15 10:00:00       │ │
│ │ 结束时间: 2024-01-15 10:30:15       │ │
│ │ 时长: 30分15秒                      │ │
│ │ 文件大小: 预计 1.2GB                │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ 下载设置                                  │
│ ┌─────────────────────────────────────┐ │
│ │ 输出格式: ○ MP4 ○ AVI ○ MKV        │ │
│ │ 分辨率: ○ 原始分辨率 ○ 1080P ○720P│ │
│ │ 码率: ○ 原始码率 ○ 高品质 ○ 标清  │ │
│ │ 水印: ☑ 添加时间戳  ☑ 添加设备信息  │ │
│ │ 音频: ☑ 包含音频                    │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ 保存位置                                  │
│ ┌─────────────────────────────────────┐ │
│ │ [D:\Downloads\录像\_______________] │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ 任务设置                                  │
│ ┌─────────────────────────────────────┐ │
│ │ 优先级: ● 高 ○ 中 ○ 低              │ │
│ │ 开始时间: ● 立即 ○ 定时 12:00      │ │
│ │ 完成后: ○ 无动作 ○ 关机 ○ 通知      │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ ┌──────────────┬──────────────┐        │
│ │   [开始下载]  │   [取消]     │        │
│ └──────────────┴──────────────┘        │
└─────────────────────────────────────────┘
```

---

## 5. 告警管理模块界面设计

### 5.1 实时告警界面

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 智能视频 > 告警管理 > 实时告警                                 │
├──────────────────────────────────────────────────────────────────────────────┤
│ 告警统计概览                                                                  │
│ ┌──────┬──────┬──────┬──────┬──────────┐                                   │
│ │ 总计 │处理中 │已确认 │已处理 │ 今日新增  │                                   │
│ │ 156  │  12   │  25   │ 119   │   23     │                                   │
│ └──────┴──────┴──────┴──────┴──────────┘                                   │
├──────────────────────────────────────────────────────────────────────────────┤
│ 工具栏                                                                       │
│ ┌────────┬────────┬────────┬────────┬────────┬────────┐                      │
│ │全部确认│批量处理│告警过滤│告警设置│导出数据│刷新   │                      │
│ └────────┴────────┴────────┴────────┴────────┴────────┘                      │
├──────────────────────────────────────────────────────────────────────────────┤
│ 告警列表 (共156条)                                                           │
│ ┌─┬────┬────────┬────────┬────────┬──────┬──────┬──────┬─────────┐        │
│ │☐│等级│发生时间│设备名称│告警类型│位置  │状态  │处理人│操作   │        │
│ ├─┼────┼────────┼────────┼────────┼──────┼──────┼──────┼─────────┤        │
│ │🔴│紧急│10:30:25│摄像头001│人员徘徊│大厅  │待确认│ -    │确认|处理│        │
│ │🟡│警告│10:28:10│摄像头002│区域入侵│门口  │处理中│张三  │查看|处理│        │
│ │🟡│警告│10:25:45│摄像头003│声音异常│走廊  │待确认│ -    │确认|处理│        │
│ │🟢│信息│10:20:30│摄像头004│设备上线│楼梯  │已确认│李四  │查看     │        │
│ │🔴│紧急│10:18:15│摄像头005│烟火检测│仓库  │待确认│ -    │确认|处理│        │
│ └─┴────┴────────┴────────┴────────┴──────┴──────┴──────┴─────────┘        │
├──────────────────────────────────────────────────────────────────────────────┤
│ 告警详情弹窗                                                                 │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ 🔴 紧急告警 - 人员徘徊                                    [×] [处理] │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │ 设备信息                              │ 告警详情                          │ │
│ │ 设备名称: 摄像头001                   │ 告警类型: 人员徘徊               │ │
│ │ 设备位置: 一楼大厅                    │ 告警级别: 紧急                   │ │
│ │ IP地址: 192.168.1.101                │ 发生时间: 2024-01-15 10:30:25    │ │
│ │ 设备状态: 在线                        │ 持续时间: 5分钟                  │ │
│ │                                     │ 告警描述: 检测到人员在监控区域    │ │
│ │ 告警规则                              │          内徘徊超过5分钟         │ │
│ │ 规则名称: 区域徘徊检测                │                                  │ │
│ │ 检测区域: 大厅入口区域                │ 联动动作                          │ │
│ │ 触发条件: 停留>5分钟                 │ ☑ 录像存储                       │ │
│ │                                     │ ☑ 截图保存                       │ │
│ │                                     │ ☑ 发送通知                       │ │
│ │                                     │ ☑ 推送到大屏                     │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │ 告警截图                              │ 告警录像                          │ │
│ │ ┌──────────────┐                     │ [▶️ 播放录像]                   │ │
│ │ │              │                     │ 00:15                                │ │
│ │ │   [截图图片]  │                     │ ████████░░░░░░ 00:30              │ │
│ │ │              │                     │                                  │ │
│ │ └──────────────┘                     │                                  │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│ ┌──────────────┬──────────────┬──────────────┬──────────────┐              │
│ │ [确认告警]   │ [标记误报]   │ [查看详情]   │ [关闭]       │              │
│ └──────────────┴──────────────┴──────────────┴──────────────┘              │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 告警配置页面

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 智能视频 > 告警管理 > 告警配置                                 │
├──────────────────────────────────────────────────────────────────────────────┤
│ 告警规则列表                                                                 │
│ ┌────────┬────────┬────────┬────────┬────────┬────────┐                      │
│ │[新建规则]│[规则模板]│[导入配置]│[导出配置]│[批量启用]│[批量禁用]│            │
│ └────────┴────────┴────────┴────────┴────────┴────────┘                      │
├──────────────────────────────────────────────────────────────────────────────┤
│ 规则列表 (共20条)                                                            │
│ ┌─┬────────┬────────┬────────┬──────┬──────┬──────┬──────┐                 │
│ │☐│规则名称 │规则类型│所属设备│状态  │创建时间│创建人│操作  │                 │
│ ├─┼────────┼────────┼────────┼──────┼──────┼──────┼──────┤                 │
│ │☑│区域入侵检测│行为分析│摄像头001│启用 │2024-01-01│系统  │编辑|删除│         │
│ │ │徘徊检测  │行为分析│摄像头002│禁用 │2024-01-02│张三  │编辑|删除│         │
│ │☑│烟火检测  │安全监控│摄像头005│启用 │2024-01-03│李四  │编辑|删除│         │
│ │ │人员聚集  │行为分析│摄像头003│启用 │2024-01-04│王五  │编辑|删除│         │
│ └─┴────────┴────────┴────────┴──────┴──────┴──────┴──────┘                 │
└──────────────────────────────────────────────────────────────────────────────┘
```

---

## 6. 智能分析模块界面设计

### 6.1 人脸识别界面

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 智能视频 > 智能分析 > 人脸识别                                 │
├──────────────────────────────────────────────────────────────────────────────┤
│ 功能选项卡: 实时识别 | 人脸库管理 | 识别记录 | 统计分析                      │
├──────────────────────────────────────────────────────────────────────────────┤
│ 实时识别页面                                                                   │
│                                                                             │
│ 实时视频窗口                                                                  │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ┌─────────────────────────────────────────────────────────────────────┐ │ │
│ │ │                      实时视频流                                      │ │ │
│ │ │                    (显示人脸识别框)                                  │ │ │
│ │ │   ┌─────────┐                                                 │ │ │
│ │ │   │ 张三    │                                                 │ │ │
│ │ │   │相似度95%│                                                 │ │ │
│ │ │   └─────────┘                                                 │ │ │
│ │ │                                                                │ │ │
│ │ └─────────────────────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ 识别记录列表                                                                  │
│ ┌──┬──────┬────────┬────────┬──────┬────────┐            │
│ │☐│时间  │设备名称│识别人员│相似度│状态   │操作│            │
│ ├──┼──────┼────────┼────────┼──────┼────────┼────┤            │
│ │☑│10:30:25│摄像头001│张三    │95%   │已确认 │详情│            │
│ │ │10:28:10│摄像头001│李四    │88%   │已确认 │详情│            │
│ │☑│10:25:45│摄像头001│王五    │92%   │待确认 │详情│            │
│ └──┴──────┴────────┴────────┴──────┴────────┴────┘            │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 6.2 行为分析界面

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 智能视频 > 智能分析 > 行为分析                                 │
├──────────────────────────────────────────────────────────────────────────────┤
│ 行为检测列表                                                                  │
│ ┌──┬────────┬────────┬──────┬────────┬────────┐            │
│ │☐│检测类型│检测区域│设备名称│检测时间│检测状态│操作│            │
│ ├──┼────────┼────────┼──────┼────────┼────────┼────┤            │
│ │☑│人员徘徊│大厅入口│摄像头001│10:30:25│检测中  │详情│            │
│ │ │区域入侵│门口区域│摄像头002│10:28:10│已停止  │详情│            │
│ │☑│人员聚集│大厅中央│摄像头003│10:25:45│检测中  │详情│            │
│ │ │烟火检测│仓库区域│摄像头005│10:20:30│已停止  │详情│            │
│ └──┴────────┴────────┴──────┴────────┴────────┴────┘            │
├──────────────────────────────────────────────────────────────────────────────┤
│ 实时检测画面                                                                  │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ ┌─────────────────────────────────────────────────────────────────────┐ │ │
│ │ │                      检测画面                                        │ │ │
│ │ │                    (显示检测框和轨迹)                                │ │ │
│ │ │     ┌───────┐                                                  │ │ │
│ │ │     │检测框1│                                                  │ │ │
│ │ │     └───────┘                                                  │ │ │
│ │ │                                                                │ │ │
│ │ └─────────────────────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ 检测统计信息                                                                  │
│ ┌────────┬────────┬────────┬────────┐                                       │
│ │今日检测│本周检测│本月检测│总检测数│                                       │
│ │  156   │  1023  │  4321  │  15678 │                                       │
│ └────────┴────────┴────────┴────────┘                                       │
└──────────────────────────────────────────────────────────────────────────────┘
```

---

## 7. 消息中心界面设计

### 7.1 消息中心主界面

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 系统管理 > 消息中心                                            │
├──────────────────────────────────────────────────────────────────────────────┤
│ 消息概览                                                                     │
│ ┌────────┬────────┬────────┬────────┬────────┐                              │
│ │总消息数│未读消息│待发送 │发送失败│ 今日发送 │                              │
│ │  1024  │  156   │  12    │   5    │   234  │                              │
│ └────────┴────────┴────────┴────────┴────────┘                              │
├──────────────────────────────────────────────────────────────────────────────┤
│ 订阅管理                            │ 消息列表                              │
│ ┌──────────────────────────────┐  │ ┌────────────────────────────────────┐ │
│ │ 新建订阅                      │  │ │ 全部消息 | 未读 | 已读 | 失败    │ │
│ │ [+] [编辑] [删除]             │  │ ├────────────────────────────────────┤ │
│ │                              │  │ │ ┌────────────────────────────────┐ │ │
│ │ ☑ 设备告警通知               │  │ │ │ 📧 设备告警 - 摄像头001        │ │ │
│ │    ├ 短信通知                 │  │ │ │ 时间: 2024-01-15 10:30:25     │ │ │
│ │    ├ 邮件通知                 │  │ │ │ 内容: 检测到人员徘徊           │ │ │
│ │    └ APP推送                 │  │ │ │ 状态: 未读                    │ │ │
│ │                              │  │ │ └────────────────────────────────┘ │ │
│ │ ☑ 系统告警通知               │  │ │ ┌────────────────────────────────┐ │ │
│ │    ├ 邮件通知                 │  │ │ │ 📱 APP推送 - 系统通知          │ │ │
│ │    └ 短信通知                 │  │ │ │ 时间: 2024-01-15 10:25:10     │ │ │
│ │                              │  │ │ │ 内容: 系统将于今晚2点维护       │ │ │
│ │ ☑ 录像完成通知               │  │ │ │ 状态: 已读                    │ │ │
│ │    ├ APP推送                 │  │ │ └────────────────────────────────┘ │ │
│ │                              │  │ └────────────────────────────────────┘ │
│ │ ☑ 用户操作通知               │  │                                       │
│ │    ├ 邮件通知                 │  │                                       │
│ └──────────────────────────────┘  └───────────────────────────────────────┘ │
├──────────────────────────────────────────────────────────────────────────────┤
│ 发送任务队列                                                                  │
│ ┌──┬────────┬────────┬────────┬────────┬────────┐             │
│ │队列│任务名称│消息类型│待发送数│发送中 │操作  │             │
│ ├──┼────────┼────────┼────────┼────────┼───────┤             │
│ │1  │设备告警│ 短信   │   12   │   3    │暂停|│             │
│ │2  │系统通知│ 邮件   │   5    │   2    │暂停|│             │
│ │3  │录像提醒│ APP推送│   0    │   0    │暂停|│             │
│ └──┴────────┴────────┴────────┴────────┴───────┘             │
└──────────────────────────────────────────────────────────────────────────────┘
```

---

## 9. 系统管理界面设计

### 9.1 用户管理页面

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 系统管理 > 用户权限 > 用户管理                                 │
├──────────────────────────────────────────────────────────────────────────────┤
│ 工具栏                                                                       │
│ ┌────────┬────────┬────────┬────────┬────────┬────────┐                      │
│ │新增用户│批量导入│批量导出│重置密码│冻结用户│刷新   │                      │
│ └────────┴────────┴────────┴────────┴────────┴────────┘                      │
├──────────────────────────────────────────────────────────────────────────────┤
│ 用户列表 (共50个用户)                                                         │
│ ┌─┬──────┬────────┬────────┬────────┬────────┬──────┬────────┐              │
│ │☐│用户名│姓名    │部门    │安全级别│角色    │状态  │操作    │              │
│ ├─┼──────┼────────┼────────┼────────┼────────┼──────┼────────┤              │
│ │☑│admin │管理员  │系统部  │绝密级  │超级管理员│正常  │编辑|删除│             │
│ ││zhang3 │张三    │安保部  │机密级  │部门主管│正常  │编辑|删除│             │
│ │☑│li4   │李四    │技术部  │秘密级  │普通管理员│正常  │编辑|删除│             │
│ ││wang5  │王五    │运维部  │内部级  │操作员  │冻结  │编辑|解冻│             │
│ │☑│zhao6 │赵六    │监控室  │公开级  │查看者  │正常  │编辑|删除│             │
│ └─┴──────┴────────┴────────┴────────┴────────┴──────┴────────┘              │
├──────────────────────────────────────────────────────────────────────────────┤
│ 用户详情弹窗                                                                  │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ 编辑用户: 张三                                          [×] [保存] │ │
│ ├─────────────────────────────────────────────────────────────────────────┤ │
│ │ 基本信息                                                                  │ │
│ │ ┌─────────────┬─────────────────────────────────────────────────────┐ │ │
│ │ │ 用户名      │ zhang3                                            │ │ │
│ │ ├─────────────┼─────────────────────────────────────────────────────┤ │ │
│ │ │ 姓名*       │ 张三                                             │ │ │
│ │ ├─────────────┼─────────────────────────────────────────────────────┤ │ │
│ │ │ 邮箱       │ zhang3@company.com                               │ │ │
│ │ ├─────────────┼─────────────────────────────────────────────────────┤ │ │
│ │ │ 手机号     │ 13800138000                                       │ │ │
│ │ ├─────────────┼─────────────────────────────────────────────────────┤ │ │
│ │ │ 部门       │ [安保部___________________] <选择>               │ │ │
│ │ └─────────────┴─────────────────────────────────────────────────────┘ │ │
│ │                                                                      │ │
│ │ 权限设置                                                                  │ │
│ │ ┌─────────────┬─────────────────────────────────────────────────────┐ │ │
│ │ │ 安全级别*   │ [机密级 (Level 4)___________] <选择>             │ │ │
│ │ ├─────────────┼─────────────────────────────────────────────────────┤ │ │
│ │ │ 分配角色    │ ☑ 部门主管 ☑ 设备管理员 ☑ 告警处理员             │ │ │
│ │ ├─────────────┼─────────────────────────────────────────────────────┤ │ │
│ │ │ 分配设备    │ ☑ 监控组1 ☑ 监控组2 ☐ 监控组3                   │ │ │
│ │ ├─────────────┼─────────────────────────────────────────────────────┤ │ │
│ │ │ 数据权限    │ ☑ 分配设备数据 ☐ 全部数据                        │ │ │
│ │ └─────────────┴─────────────────────────────────────────────────────┘ │ │
│ │                                                                      │ │
│ │ 安全设置                                                                  │ │
│ │ ┌─────────────┬─────────────────────────────────────────────────────┐ │ │
│ │ │ 账户状态    │ ● 正常 ○ 冻结 ○ 禁用                             │ │ │
│ │ ├─────────────┼─────────────────────────────────────────────────────┤ │ │
│ │ │ 有效期      │ 2024-01-01 至 2024-12-31                         │ │ │
│ │ ├─────────────┼─────────────────────────────────────────────────────┤ │ │
│ │ │ 登录次数限制│ [无限制_______________]                           │ │ │
│ │ └─────────────┴─────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────────────────┘
```

### 9.2 安全级别配置页面

```
┌──────────────────────────────────────────────────────────────────────────────┐
│ 面包屑: 首页 > 系统管理 > 用户权限 > 安全级别配置                              │
├──────────────────────────────────────────────────────────────────────────────┤
│ 安全级别定义                                                                  │
│ ┌──────┬────────┬────────┬──────┬────────┬────────┐                           │
│ │级别值│级别名称 │级别代码│用户数│状态   │操作    │                           │
│ ├──────┼────────┼────────┼──────┼────────┼────────┤                           │
│ │  5   │ 绝密级  │ TOP    │  10  │启用   │编辑|配置│                           │
│ │  4   │ 机密级  │ HIGH   │  25  │启用   │编辑|配置│                           │
│ │  3   │ 秘密级  │ MEDIUM │  50  │启用   │编辑|配置│                           │
│ │  2   │ 内部级  │ NORMAL │ 100  │启用   │编辑|配置│                           │
│ │  1   │ 公开级  │ BASIC  │ 200  │启用   │编辑|配置│                           │
│ └──────┴────────┴────────┴──────┴────────┴────────┘                           │
├──────────────────────────────────────────────────────────────────────────────┤
│ 权限矩阵配置                                                                  │
│ 功能模块        │绝密级│机密级│秘密级│内部级│公开级│                           │
│ ├─ 设备管理     │      │      │      │      │      │                           │
│ │  设备注册     │  ✅  │  ✅  │  ✅  │  ❌  │  ❌  │                           │
│ │  设备配置     │  ✅  │  ✅  │  ✅  │  ❌  │  ❌  │                           │
│ │  设备删除     │  ✅  │  ✅  │  ❌  │  ❌  │  ❌  │                           │
│ │  设备查看     │  ✅  │  ✅  │  ✅  │  ✅  │  ✅  │                           │
│ ├─ 实时监控     │      │      │      │      │      │                           │
│ │  视频预览     │  ✅  │  ✅  │  ✅  │  ✅  │  ✅  │                           │
│ │  云台控制     │  ✅  │  ✅  │  ✅  │  ✅  │  ❌  │                           │
│ │  截图功能     │  ✅  │  ✅  │  ✅  │  ✅  │  ❌  │                           │
│ │  录像功能     │  ✅  │  ✅  │  ✅  │  ❌  │  ❌  │                           │
│ ├─ 录像回放     │      │      │      │      │      │                           │
│ │  录像查询     │  ✅  │  ✅  │  ✅  │  ✅  │  ✅  │                           │
│ │  录像回放     │  ✅  │  ✅  │  ✅  │  ✅  │  ✅  │                           │
│ │  录像下载     │  ✅  │  ✅  │  ✅  │  ❌  │  ❌  │                           │
│ │  录像删除     │  ✅  │  ✅  │  ❌  │  ❌  │  ❌  │                           │
│ └───────────────┴──────┴──────┴──────┴──────┴──────┘                           │
└──────────────────────────────────────────────────────────────────────────────┘
```

---

## 📝 总结

本界面原型图设计文档详细展示了智能视频模块的所有界面设计：

1. **整体布局设计**：主界面布局、菜单结构
2. **实时监控模块**：视频预览、云台控制、截图录像界面
3. **设备管理模块**：设备列表、新增设备、设备详情界面
4. **录像回放模块**：录像查询、回放控制、下载界面
5. **告警管理模块**：实时告警、告警配置界面
6. **智能分析模块**：人脸识别、行为分析界面
7. **消息中心模块**：消息列表、订阅管理界面
8. **地图显示模块**：地图浏览、设备定位界面
9. **系统管理模块**：用户管理、安全级别配置界面

每个界面都详细展示了布局结构、功能按钮、操作流程，并结合5级安全体系进行权限控制设计。

**下一步**：创建数据库设计与ER图文档。

---

*本文档详细展示了智能视频模块的所有界面原型，为UI开发提供完整参考。*
