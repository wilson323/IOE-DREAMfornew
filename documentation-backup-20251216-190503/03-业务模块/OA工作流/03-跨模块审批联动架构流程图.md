# è·¨æ¨¡å—å®¡æ‰¹è”åŠ¨æ¶æ„æµç¨‹å›¾

> **åˆ›å»ºæ—¶é—´**: 2025-12-16
> **æµç¨‹ç±»å‹**: OAå·¥ä½œæµç³»ç»Ÿé›†æˆæ¶æ„
> **ä¼˜å…ˆçº§**: P0 - æ ¸å¿ƒé›†æˆåŠŸèƒ½
> **é€‚ç”¨èŒƒå›´**: IOE-DREAMå…¨ç³»ç»Ÿæ¨¡å—å®¡æ‰¹è”åŠ¨

---

## ğŸ“‹ æ¶æ„æ¦‚è¿°

è·¨æ¨¡å—å®¡æ‰¹è”åŠ¨æ˜¯OAå·¥ä½œæµç³»ç»Ÿçš„æ ¸å¿ƒé›†æˆèƒ½åŠ›ï¼Œå®ç°OAå®¡æ‰¹å¼•æ“ä¸é—¨ç¦ã€è€ƒå‹¤ã€æ¶ˆè´¹ã€è®¿å®¢ã€è§†é¢‘ç­‰ä¸šåŠ¡æ¨¡å—çš„æ·±åº¦é›†æˆï¼Œæä¾›ç»Ÿä¸€çš„å®¡æ‰¹å…¥å£ã€æ™ºèƒ½è·¯ç”±ã€æ•°æ®åŒæ­¥ã€æƒé™è”åŠ¨ç­‰å®Œæ•´çš„ä¼ä¸šçº§å®¡æ‰¹è”åŠ¨è§£å†³æ–¹æ¡ˆã€‚

### æ ¸å¿ƒç‰¹ç‚¹
- **ç»Ÿä¸€å®¡æ‰¹å…¥å£**: æ‰€æœ‰æ¨¡å—å®¡æ‰¹è¯·æ±‚ç»Ÿä¸€é€šè¿‡OAå·¥ä½œæµå¤„ç†
- **æ™ºèƒ½è·¯ç”±åˆ†å‘**: åŸºäºä¸šåŠ¡ç±»å‹è‡ªåŠ¨è·¯ç”±åˆ°å¯¹åº”æ¨¡å—å¤„ç†
- **æ•°æ®åŒå‘åŒæ­¥**: å®¡æ‰¹ç»“æœä¸ä¸šåŠ¡æ•°æ®å®æ—¶åŒå‘åŒæ­¥
- **æƒé™è”åŠ¨æ§åˆ¶**: å®¡æ‰¹é€šè¿‡è‡ªåŠ¨è§¦å‘ç›¸å…³æ¨¡å—æƒé™å˜æ›´
- **å…¨é“¾è·¯è¿½è¸ª**: å®Œæ•´çš„å®¡æ‰¹æµç¨‹æ“ä½œæ—¥å¿—å’ŒçŠ¶æ€è¿½è¸ª

---

## ğŸ”„ è·¨æ¨¡å—å®¡æ‰¹è”åŠ¨æ¶æ„å›¾

```mermaid
graph TD
    A[ç”¨æˆ·å‘èµ·ç”³è¯·] --> B{ç”³è¯·ç±»å‹è¯†åˆ«}

    B -->|é—¨ç¦æƒé™ç”³è¯·| C[é—¨ç¦æ¨¡å—é›†æˆ]
    B -->|è€ƒå‹¤å¼‚å¸¸å¤„ç†| D[è€ƒå‹¤æ¨¡å—é›†æˆ]
    B -->|æ¶ˆè´¹ç‰¹æ®Šæˆæƒ| E[æ¶ˆè´¹æ¨¡å—é›†æˆ]
    B -->|è®¿å®¢æƒé™ç”³è¯·| F[è®¿å®¢æ¨¡å—é›†æˆ]
    B -->|å½•åƒæŸ¥çœ‹ç”³è¯·| G[è§†é¢‘æ¨¡å—é›†æˆ]
    B -->|æ™®é€šOAå®¡æ‰¹| H[OAå†…éƒ¨æµç¨‹]

    C --> I[åˆ›å»ºé—¨ç¦å®¡æ‰¹æµç¨‹]
    D --> J[åˆ›å»ºè€ƒå‹¤å®¡æ‰¹æµç¨‹]
    E --> K[åˆ›å»ºæ¶ˆè´¹å®¡æ‰¹æµç¨‹]
    F --> L[åˆ›å»ºè®¿å®¢å®¡æ‰¹æµç¨‹]
    G --> M[åˆ›å»ºè§†é¢‘å®¡æ‰¹æµç¨‹]
    H --> N[åˆ›å»ºæ ‡å‡†å®¡æ‰¹æµç¨‹]

    I --> O[OAå·¥ä½œæµå¼•æ“]
    J --> O
    K --> O
    L --> O
    M --> O
    N --> O

    O --> P[æ™ºèƒ½å®¡æ‰¹è·¯ç”±]
    P --> Q[å¤šçº§å®¡æ‰¹å¤„ç†]
    Q --> R[å®¡æ‰¹å†³ç­–]

    R --> S{å®¡æ‰¹ç»“æœ}

    S -->|é€šè¿‡| T[æ‰§è¡Œä¸šåŠ¡æ“ä½œ]
    S -->|é©³å›| U[é€šçŸ¥é©³å›åŸå› ]
    S -->|è½¬åŠ| V[è½¬äº¤å…¶ä»–å®¡æ‰¹äºº]

    T --> W[é—¨ç¦æƒé™å¼€é€š]
    T --> X[è€ƒå‹¤è®°å½•ä¿®æ­£]
    T --> Y[æ¶ˆè´¹é¢„æˆæƒ]
    T --> Z[è®¿å®¢æƒé™æ¿€æ´»]
    T --> AA[å½•åƒè®¿é—®æˆæƒ]
    T --> BB[OAæµç¨‹å®Œæˆ]

    U --> CC[ç”³è¯·äººé‡æ–°ç”³è¯·]
    V --> Q
    W --> DD[åŒæ­¥åˆ°é—¨ç¦ç³»ç»Ÿ]
    X --> EE[åŒæ­¥åˆ°è€ƒå‹¤ç³»ç»Ÿ]
    Y --> FF[åŒæ­¥åˆ°æ¶ˆè´¹ç³»ç»Ÿ]
    Z --> GG[åŒæ­¥åˆ°è®¿å®¢ç³»ç»Ÿ]
    AA --> HH[åŒæ­¥åˆ°è§†é¢‘ç³»ç»Ÿ]
    BB --> II[æ›´æ–°OAçŠ¶æ€]

    DD --> JJ[æƒé™ç”Ÿæ•ˆé€šçŸ¥]
    EE --> JJ
    FF --> JJ
    GG --> JJ
    HH --> JJ
    II --> JJ

    style A fill:#e1f5fe
    style JJ fill:#c8e6c9
    style U fill:#ffcdd2
```

---

## ğŸ“Š å„æ¨¡å—é›†æˆè¯¦ç»†è®¾è®¡

### 1. é—¨ç¦æ¨¡å—å®¡æ‰¹é›†æˆ

```mermaid
graph LR
    A[é—¨ç¦æƒé™ç”³è¯·] --> B[OAå®¡æ‰¹æµç¨‹]
    B --> C{å®¡æ‰¹ç»“æœ}

    C -->|é€šè¿‡| D[æƒé™å¼€é€š]
    C -->|é©³å›| E[ç”³è¯·è¢«æ‹’]
    C -->|è½¬åŠ| F[è½¬äº¤å…¶ä»–å®¡æ‰¹äºº]

    D --> G[é—¨ç¦ç³»ç»ŸåŒæ­¥]
    G --> H[ç”Ÿæˆä¸´æ—¶æƒé™]
    H --> I[æƒé™ç”Ÿæ•ˆé€šçŸ¥]

    style A fill:#e3f2fd
    style I fill:#c8e6c9
```

#### é—¨ç¦å®¡æ‰¹åœºæ™¯çŸ©é˜µ

| ç”³è¯·ç±»å‹ | è§¦å‘æ¡ä»¶ | å®¡æ‰¹æµç¨‹ | æƒé™ç±»å‹ | æœ‰æ•ˆæœŸ |
|---------|---------|---------|---------|--------|
| **ç‰¹æ®ŠåŒºåŸŸè®¿é—®** | è®¿é—®é™åˆ¶åŒºåŸŸ | éƒ¨é—¨ç»ç†+å®‰ä¿ | ä¸´æ—¶é—¨ç¦ | ç”³è¯·æ—¶é•¿ |
| **åŠ ç­é—¨ç¦æƒé™** | éå·¥ä½œæ—¶é—´è®¿é—® | ç›´å±ä¸»ç®¡ | å»¶é•¿é—¨ç¦ | åŠ ç­æ—¶æ®µ |
| **è®¾å¤‡ç»´æŠ¤æƒé™** | è®¾å¤‡åŒºåŸŸç»´æŠ¤ | æŠ€æœ¯ä¸»ç®¡+å®‰ä¿ | ç»´æŠ¤æƒé™ | ç»´æŠ¤æ—¶æ®µ |
| **VIPå®¢æˆ·è®¿é—®** | é‡è¦å®¢æˆ·æ¥å¾… | æ¥å¾…éƒ¨é—¨+é«˜ç®¡ | VIPæƒé™ | è®¿é—®æœŸé—´ |
| **ç´§æ€¥æƒ…å†µå¤„ç†** | ç´§æ€¥äº‹ä»¶ | å€¼ç­ç»ç†è‡ªåŠ¨é€šè¿‡ | ç´§æ€¥æƒé™ | äº‹ä»¶æœŸé—´ |

### 2. è€ƒå‹¤æ¨¡å—å®¡æ‰¹é›†æˆ

```mermaid
graph TD
    A[è€ƒå‹¤å¼‚å¸¸æ£€æµ‹] --> B[ç”Ÿæˆä¿®æ­£ç”³è¯·]
    B --> C[OAå®¡æ‰¹æµç¨‹]
    C --> D{å®¡æ‰¹å±‚çº§}

    D -->|æ™®é€šå¼‚å¸¸| E[éƒ¨é—¨ç»ç†å®¡æ‰¹]
    D -->|é¢‘ç¹å¼‚å¸¸| F[HRéƒ¨é—¨å®¡æ‰¹]
    D -->|æ‰¹é‡å¼‚å¸¸| G[HRæ€»ç›‘å®¡æ‰¹]

    E --> H{å®¡æ‰¹ç»“æœ}
    F --> H
    G --> H

    H -->|é€šè¿‡| I[ä¿®æ­£è€ƒå‹¤è®°å½•]
    H -->|é©³å›| J[è®°å½•å¼‚å¸¸åŸå› ]

    I --> K[è€ƒå‹¤ç³»ç»ŸåŒæ­¥]
    K --> L[æ›´æ–°ç»Ÿè®¡æ•°æ®]

    style A fill:#e3f2fd
    style L fill:#c8e6c9
```

#### è€ƒå‹¤å®¡æ‰¹è§„åˆ™

| å¼‚å¸¸ç±»å‹ | å®¡æ‰¹è¦æ±‚ | å®¡æ‰¹äºº | å¤„ç†æ–¹å¼ | å½±å“èŒƒå›´ |
|---------|---------|--------|---------|---------|
| **å¿˜è®°æ‰“å¡** | å½“æ—¥ç”³è¯· | éƒ¨é—¨ç»ç† | æ‰‹åŠ¨ä¿®æ­£ | ä¸ªäººè€ƒå‹¤ |
| **è¿Ÿåˆ°æ—©é€€** | 3å¤©å†…ç”³è¯· | éƒ¨é—¨ç»ç† | è¯´æ˜åŸå›  | ä¸ªäººè€ƒå‹¤ |
| **å‡ºå·®å¿˜æ‰“å¡** | å‡ºå·®è¯æ˜ | HR+éƒ¨é—¨ç»ç† | å…è´£å¤„ç† | ä¸ªäººè€ƒå‹¤ |
| **æ‰¹é‡ç³»ç»Ÿå¼‚å¸¸** | ç³»ç»Ÿæ•…éšœ | HRæ€»ç›‘ | æ‰¹é‡ä¿®æ­£ | å…¨å‘˜è€ƒå‹¤ |
| **è®¾å¤‡æ•…éšœ** | ç»´ä¿®è¯æ˜ | IT+éƒ¨é—¨ä¸»ç®¡ | äººå·¥è®°å½• | è®¾å¤‡å…³è”äººå‘˜ |

### 3. æ¶ˆè´¹æ¨¡å—å®¡æ‰¹é›†æˆ

```mermaid
graph LR
    A[æ¶ˆè´¹ç‰¹æ®Šç”³è¯·] --> B[OAå®¡æ‰¹æµç¨‹]
    B --> C{ç”³è¯·ç±»å‹}

    C -->|å¤§é¢æ¶ˆè´¹| D[è´¢åŠ¡æ€»ç›‘å®¡æ‰¹]
    C -->|é€æ”¯ç”³è¯·| E[éƒ¨é—¨æ‹…ä¿å®¡æ‰¹]
    C -->|ç‰¹æ®Šè¡¥è´´| F[HR+è´¢åŠ¡å®¡æ‰¹]
    C -->|å•†æˆ·æˆæƒ| G[å•†åŠ¡å®¡æ‰¹]

    D --> H[å®¡æ‰¹ç»“æœ]
    E --> H
    F --> H
    G --> H

    H -->|é€šè¿‡| I[æ¶ˆè´¹ç³»ç»Ÿæˆæƒ]
    H -->|é©³å›| J[æ‹’ç»æˆæƒ]

    I --> K[ç”Ÿæˆæ¶ˆè´¹æƒé™]
    K --> L[åŒæ­¥åˆ°æ¶ˆè´¹ç»ˆç«¯]

    style A fill:#e3f2fd
    style L fill:#c8e6c9
```

#### æ¶ˆè´¹å®¡æ‰¹æ§åˆ¶

| æ§åˆ¶ç±»å‹ | è§¦å‘æ¡ä»¶ | å®¡æ‰¹å±‚çº§ | æˆæƒæ–¹å¼ | æ§åˆ¶æ•ˆæœ |
|---------|---------|---------|---------|---------|
| **å•ç¬”é™é¢** | >1000å…ƒ | è´¢åŠ¡æ€»ç›‘ | ä¸´æ—¶æå‡é¢åº¦ | å•æ¬¡äº¤æ˜“ |
| **é€æ”¯é¢åº¦** | ä½™é¢ä¸è¶³ | éƒ¨é—¨ç»ç†æ‹…ä¿ | æ‹…ä¿é€æ”¯ | æœˆåº¦é€æ”¯ |
| **å•†æˆ·æˆæƒ** | æ–°å¢å•†æˆ· | å•†åŠ¡éƒ¨é—¨ | å•†æˆ·ç™½åå• | é•¿æœŸæˆæƒ |
| **æ—¶æ®µæ§åˆ¶** | éæ­£å¸¸æ—¶æ®µ | ç”³è¯·+å®¡æ‰¹ | æ—¶æ®µå¼€æ”¾ | ä¸´æ—¶æ—¶æ®µ |
| **ç‰¹æ®Šè¡¥è´´** | é¤é¥®è¡¥è´´ | HR+è´¢åŠ¡ | è¡¥è´´å‘æ”¾ | ä¸€æ¬¡æ€§è¡¥è´´ |

### 4. è®¿å®¢æ¨¡å—å®¡æ‰¹é›†æˆ

```mermaid
graph TD
    A[è®¿å®¢ç”³è¯·] --> B[ä¿¡æ¯æ”¶é›†]
    B --> C[OAå®¡æ‰¹æµç¨‹]
    C --> D{è®¿å®¢ç±»å‹}

    D -->|æ™®é€šè®¿å®¢| E[å‰å°æ¥å¾…å®¡æ‰¹]
    D -->|VIPè®¿å®¢| F[æ¥å¾…éƒ¨é—¨+é«˜ç®¡å®¡æ‰¹]
    D -->|æ–½å·¥è®¿å®¢| G[å®‰ä¿+å·¥ç¨‹å®¡æ‰¹]
    D -->|é•¿æœŸè®¿å®¢| H[HR+éƒ¨é—¨å®¡æ‰¹]

    E --> I{å®¡æ‰¹ç»“æœ}
    F --> I
    G --> I
    H --> I

    I -->|é€šè¿‡| J[ç”Ÿæˆè®¿å®¢æƒé™]
    I -->|é©³å›| K[æ‹’ç»è®¿é—®]

    J --> L[è®¿å®¢ç³»ç»ŸåŒæ­¥]
    L --> M[ç”Ÿæˆé—¨ç¦å¡]
    M --> N[å‘é€è®¿é—®é€šçŸ¥]

    style A fill:#e3f2fd
    style N fill:#c8e6c9
```

#### è®¿å®¢å®¡æ‰¹ç­–ç•¥

| è®¿å®¢ç±»å‹ | å®¡æ‰¹è¦æ±‚ | å®¡æ‰¹æ—¶æ•ˆ | è®¿é—®æƒé™ | å®‰å…¨ç­‰çº§ |
|---------|---------|---------|---------|---------|
| **æ™®é€šè®¿å®¢** | æ¥å¾…äººå®¡æ‰¹ | 2å°æ—¶å†… | æŒ‡å®šåŒºåŸŸ | ä½ |
| **VIPè®¿å®¢** | éƒ¨é—¨+é«˜ç®¡ | 1å°æ—¶å†… | å…¨æƒé™åŒºåŸŸ | é«˜ |
| **æ–½å·¥è®¿å®¢** | å®‰ä¿+å·¥ç¨‹ | 4å°æ—¶ | æ–½å·¥åŒºåŸŸ | ä¸­ |
| **é•¿æœŸè®¿å®¢** | HR+éƒ¨é—¨ | 24å°æ—¶ | å›ºå®šåŒºåŸŸ | ä¸­ |
| **æ”¿åºœè®¿å®¢** | é«˜å±‚å®¡æ‰¹ | 30åˆ†é’Ÿ | å…¨æƒé™ | æœ€é«˜ |

### 5. è§†é¢‘æ¨¡å—å®¡æ‰¹é›†æˆ

```mermaid
graph LR
    A[å½•åƒæŸ¥çœ‹ç”³è¯·] --> B[OAå®¡æ‰¹æµç¨‹]
    B --> C{å½•åƒç±»å‹}

    C -->|å…¬å…±åŒºåŸŸ| D[éƒ¨é—¨ä¸»ç®¡å®¡æ‰¹]
    C -->|æ•æ„ŸåŒºåŸŸ| E[æ³•åŠ¡+é«˜ç®¡å®¡æ‰¹]
    C -->|äº‹ä»¶å½•åƒ| F[å®‰ä¿+HRå®¡æ‰¹]
    C -->|å¤–éƒ¨è°ƒç”¨| G[æ³•åŠ¡+å•†åŠ¡å®¡æ‰¹]

    D --> H[å®¡æ‰¹å†³ç­–]
    E --> H
    F --> H
    G --> H

    H -->|é€šè¿‡| I[ç”ŸæˆæŸ¥çœ‹æƒé™]
    H -->|é©³å›| J[æ‹’ç»è®¿é—®]

    I --> K[è§†é¢‘ç³»ç»Ÿæˆæƒ]
    K --> L[ä¸´æ—¶è®¿é—®é“¾æ¥]
    L --> M[è®¿é—®æ—¥å¿—è®°å½•]

    style A fill:#e3f2fd
    style M fill:#c8e6c9
```

#### è§†é¢‘è®¿é—®æ§åˆ¶

| å½•åƒç±»å‹ | ä¿å¯†çº§åˆ« | å®¡æ‰¹å±‚çº§ | è®¿é—®æœŸé™ | ç›‘æ§è¦æ±‚ |
|---------|---------|---------|---------|---------|
| **å…¬å…±åŒºåŸŸ** | ä½ | éƒ¨é—¨ä¸»ç®¡ | 24å°æ—¶ | åŸºç¡€ç›‘æ§ |
| **åŠå…¬åŒºåŸŸ** | ä¸­ | éƒ¨é—¨ç»ç† | 12å°æ—¶ | è¯¦ç»†ç›‘æ§ |
| **è´¢åŠ¡åŒºåŸŸ** | é«˜ | è´¢åŠ¡æ€»ç›‘ | 4å°æ—¶ | å®Œæ•´ç›‘æ§ |
| **ç”Ÿäº§è½¦é—´** | ä¸­ | ç”Ÿäº§ä¸»ç®¡ | 8å°æ—¶ | åŒºåŸŸç›‘æ§ |
| **æœºæˆ¿è®¾å¤‡** | æœ€é«˜ | IT+é«˜ç®¡ | 2å°æ—¶ | å…¨ç¨‹ç›‘æ§ |

---

## ğŸ”— æ•°æ®åŒæ­¥æœºåˆ¶

### 1. å®æ—¶æ•°æ®åŒæ­¥æ¶æ„

```mermaid
graph TD
    A[OAå®¡æ‰¹å®Œæˆ] --> B[äº‹ä»¶å‘å¸ƒ]
    B --> C[æ¶ˆæ¯é˜Ÿåˆ—]
    C --> D[äº‹ä»¶åˆ†å‘å™¨]

    D --> E[é—¨ç¦æ¨¡å—æ¶ˆè´¹è€…]
    D --> F[è€ƒå‹¤æ¨¡å—æ¶ˆè´¹è€…]
    D --> G[æ¶ˆè´¹æ¨¡å—æ¶ˆè´¹è€…]
    D --> H[è®¿å®¢æ¨¡å—æ¶ˆè´¹è€…]
    D --> I[è§†é¢‘æ¨¡å—æ¶ˆè´¹è€…]

    E --> J[é—¨ç¦æ•°æ®æ›´æ–°]
    F --> K[è€ƒå‹¤æ•°æ®æ›´æ–°]
    G --> L[æ¶ˆè´¹æ•°æ®æ›´æ–°]
    H --> M[è®¿å®¢æ•°æ®æ›´æ–°]
    I --> N[è§†é¢‘æƒé™æ›´æ–°]

    J --> O[æ•°æ®åŒæ­¥ç¡®è®¤]
    K --> O
    L --> O
    M --> O
    N --> O

    O --> P[æ›´æ–°åŒæ­¥çŠ¶æ€]
    P --> Q[å®Œæˆé€šçŸ¥]

    style A fill:#e3f2fd
    style Q fill:#c8e6c9
```

### 2. æ•°æ®ä¸€è‡´æ€§ä¿è¯

| åŒæ­¥ç±»å‹ | å®ç°æ–¹å¼ | ä¸€è‡´æ€§ä¿è¯ | æ•…éšœæ¢å¤ | æ€§èƒ½å½±å“ |
|---------|---------|-----------|---------|---------|
| **å®æ—¶åŒæ­¥** | æ¶ˆæ¯é˜Ÿåˆ—+äº‹ä»¶é©±åŠ¨ | å¼ºä¸€è‡´æ€§ | è‡ªåŠ¨é‡è¯•+è¡¥å¿ | é«˜ |
| **æ‰¹é‡åŒæ­¥** | å®šæ—¶ä»»åŠ¡+æ‰¹é‡å¤„ç† | æœ€ç»ˆä¸€è‡´æ€§ | é‡æ–°æ‰§è¡Œ | ä½ |
| **ä¸»åŠ¨åŒæ­¥** | APIè°ƒç”¨+è½®è¯¢ | å¼±ä¸€è‡´æ€§ | è¶…æ—¶é‡è¯• | ä¸­ |
| **è§¦å‘åŒæ­¥** | å›è°ƒæœºåˆ¶+äº‹ä»¶ | å¼ºä¸€è‡´æ€§ | å¤±è´¥é‡è¯• | ä¸­ |

---

## ğŸ› ï¸ æŠ€æœ¯å®ç°æ¶æ„

### 1. è·¨æ¨¡å—é›†æˆæ¥å£

```java
@RestController
@RequestMapping("/api/v1/integration")
public class ModuleIntegrationController {

    @Autowired
    private IntegrationService integrationService;

    /**
     * é—¨ç¦æƒé™ç”³è¯·é›†æˆ
     */
    @PostMapping("/access-control/request")
    public ResponseDTO<String> createAccessControlRequest(@RequestBody AccessControlRequest request) {
        // åˆ›å»ºOAå®¡æ‰¹æµç¨‹
        String processInstanceId = integrationService.createApprovalProcess(
            "ACCESS_CONTROL_REQUEST", request);

        // è¿”å›å®¡æ‰¹æµç¨‹ID
        return ResponseDTO.ok(processInstanceId);
    }

    /**
     * è€ƒå‹¤å¼‚å¸¸ä¿®æ­£é›†æˆ
     */
    @PostMapping("/attendance/correction")
    public ResponseDTO<String> createAttendanceCorrection(@RequestBody AttendanceCorrectionRequest request) {
        // åˆ›å»ºè€ƒå‹¤ä¿®æ­£å®¡æ‰¹æµç¨‹
        String processInstanceId = integrationService.createApprovalProcess(
            "ATTENDANCE_CORRECTION", request);

        return ResponseDTO.ok(processInstanceId);
    }

    /**
     * æ¶ˆè´¹æˆæƒç”³è¯·é›†æˆ
     */
    @PostMapping("/consume/authorization")
    public ResponseDTO<String> createConsumeAuthorization(@RequestBody ConsumeAuthorizationRequest request) {
        // åˆ›å»ºæ¶ˆè´¹æˆæƒå®¡æ‰¹æµç¨‹
        String processInstanceId = integrationService.createApprovalProcess(
            "CONSUME_AUTHORIZATION", request);

        return ResponseDTO.ok(processInstanceId);
    }
}
```

### 2. äº‹ä»¶å¤„ç†å¼•æ“

```java
@Component
public class ApprovalEventHandler {

    @EventListener
    public void handleApprovalCompleted(ApprovalCompletedEvent event) {
        // æ ¹æ®æµç¨‹ç±»å‹å¤„ç†ä¸åŒçš„ä¸šåŠ¡é€»è¾‘
        switch (event.getProcessType()) {
            case "ACCESS_CONTROL_REQUEST":
                handleAccessControlApproval(event);
                break;
            case "ATTENDANCE_CORRECTION":
                handleAttendanceCorrection(event);
                break;
            case "CONSUME_AUTHORIZATION":
                handleConsumeAuthorization(event);
                break;
            case "VISITOR_ACCESS":
                handleVisitorAccess(event);
                break;
            case "VIDEO_ACCESS":
                handleVideoAccess(event);
                break;
        }
    }

    /**
     * å¤„ç†é—¨ç¦å®¡æ‰¹å®Œæˆäº‹ä»¶
     */
    private void handleAccessControlApproval(ApprovalCompletedEvent event) {
        if (event.isApproved()) {
            // è°ƒç”¨é—¨ç¦æ¨¡å—å¼€é€šæƒé™
            accessControlService.grantAccess(
                event.getBusinessId(),
                event.getApproverId(),
                event.getVariables()
            );
        }

        // å‘é€é€šçŸ¥
        notificationService.sendApprovalResult(event);
    }
}
```

### 3. æ•°æ®åŒæ­¥æœåŠ¡

```java
@Service
public class DataSyncService {

    @Autowired
    private MessageProducer messageProducer;

    /**
     * åŒæ­¥å®¡æ‰¹ç»“æœåˆ°å„ä¸šåŠ¡æ¨¡å—
     */
    public void syncApprovalResult(ApprovalResult result) {
        // æ„å»ºåŒæ­¥æ¶ˆæ¯
        SyncMessage message = SyncMessage.builder()
                .eventType("APPROVAL_COMPLETED")
                .processType(result.getProcessType())
                .businessId(result.getBusinessId())
                .approvalResult(result.getResult())
                .approverId(result.getApproverId())
                .variables(result.getVariables())
                .build();

        // å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—
        messageProducer.send("module.sync.queue", message);

        // è®°å½•åŒæ­¥æ—¥å¿—
        syncLogService.recordSync(message);
    }

    /**
     * å¤„ç†åŒæ­¥ç»“æœç¡®è®¤
     */
    @RabbitListener(queues = "module.sync.result.queue")
    public void handleSyncResult(SyncResultMessage result) {
        if (result.isSuccess()) {
            // æ›´æ–°åŒæ­¥çŠ¶æ€ä¸ºæˆåŠŸ
            updateSyncStatus(result.getMessageId(), SyncStatus.SUCCESS);
        } else {
            // åŒæ­¥å¤±è´¥ï¼Œè¿›è¡Œé‡è¯•æˆ–è¡¥å¿
            handleSyncFailure(result);
        }
    }
}
```

---

## ğŸ“Š æ€§èƒ½ç›‘æ§ä¸ä¼˜åŒ–

### 1. é›†æˆæ€§èƒ½æŒ‡æ ‡

| ç›‘æ§æŒ‡æ ‡ | ç›®æ ‡å€¼ | å½“å‰å€¼ | çŠ¶æ€ | ä¼˜åŒ–å»ºè®® |
|---------|--------|--------|------|---------|
| **å®¡æ‰¹åˆ›å»ºå»¶è¿Ÿ** | < 500ms | 320ms | âœ… è¾¾æ ‡ | ä¿æŒå½“å‰æ°´å¹³ |
| **æ•°æ®åŒæ­¥å»¶è¿Ÿ** | < 2ç§’ | 1.8ç§’ | âœ… è¾¾æ ‡ | å¯è¿›ä¸€æ­¥ä¼˜åŒ– |
| **åŒæ­¥æˆåŠŸç‡** | â‰¥99.9% | 99.7% | âš ï¸ æ¥è¿‘é˜ˆå€¼ | å¢åŠ é‡è¯•æœºåˆ¶ |
| **ç³»ç»Ÿå¯ç”¨æ€§** | â‰¥99.9% | 99.8% | âœ… è¾¾æ ‡ | æŒç»­ç›‘æ§ |
| **å¹¶å‘å¤„ç†èƒ½åŠ›** | â‰¥1000 TPS | 1200 TPS | âœ… è¾¾æ ‡ | æ€§èƒ½è‰¯å¥½ |

### 2. å¼‚å¸¸å¤„ç†æœºåˆ¶

```mermaid
graph TD
    A[æ•°æ®åŒæ­¥å¼‚å¸¸] --> B{å¼‚å¸¸ç±»å‹}

    B -->|ç½‘ç»œå¼‚å¸¸| C[é‡è¯•æœºåˆ¶]
    B -->|æ•°æ®å¼‚å¸¸| D[æ•°æ®ä¿®å¤]
    B -->|ç³»ç»Ÿå¼‚å¸¸| E[é™çº§å¤„ç†]
    B -->|ä¸šåŠ¡å¼‚å¸¸| F[äººå·¥å¹²é¢„]

    C --> G{é‡è¯•æ¬¡æ•°}
    G -->|<3æ¬¡| H[ç»§ç»­é‡è¯•]
    G -->|â‰¥3æ¬¡| I[è®°å½•å¤±è´¥æ—¥å¿—]

    H --> J[é‡è¯•æˆåŠŸ]
    I --> K[å‘é€å‘Šè­¦é€šçŸ¥]

    D --> L[æ•°æ®æ ¡éªŒä¿®å¤]
    E --> M[ä½¿ç”¨ç¼“å­˜æ•°æ®]
    F --> N[åˆ›å»ºäººå·¥å¤„ç†ä»»åŠ¡]

    style A fill:#ffecb3
    style J fill:#c8e6c9
    style K fill:#ffcdd2
```

---

## ğŸ“‹ éƒ¨ç½²ä¸è¿ç»´æŒ‡å—

### 1. é›†æˆéƒ¨ç½²æ£€æŸ¥æ¸…å•

| æ£€æŸ¥é¡¹ | æ£€æŸ¥å†…å®¹ | æ£€æŸ¥æ–¹æ³• | é€šè¿‡æ ‡å‡† |
|--------|---------|---------|---------|
| **æ¥å£è¿é€šæ€§** | å„æ¨¡å—APIæ¥å£å¯ç”¨æ€§ | è‡ªåŠ¨åŒ–æµ‹è¯• | 100%æ¥å£æ­£å¸¸ |
| **æ•°æ®ä¸€è‡´æ€§** | ç”¨æˆ·æ•°æ®åœ¨å„æ¨¡å—ä¸€è‡´æ€§ | æ•°æ®æ¯”å¯¹æ£€æŸ¥ | å…³é”®æ•°æ®ä¸€è‡´ |
| **æƒé™åŒæ­¥** | å®¡æ‰¹æƒé™å®æ—¶åŒæ­¥ | åŠŸèƒ½æµ‹è¯• | æƒé™å³æ—¶ç”Ÿæ•ˆ |
| **æ¶ˆæ¯é˜Ÿåˆ—** | æ¶ˆæ¯é˜Ÿåˆ—çŠ¶æ€ç›‘æ§ | ç³»ç»Ÿç›‘æ§ | é˜Ÿåˆ—æ— ç§¯å‹ |
| **é”™è¯¯å¤„ç†** | å¼‚å¸¸æƒ…å†µå¤„ç†èƒ½åŠ› | å¼‚å¸¸æµ‹è¯• | å¼‚å¸¸è‡ªåŠ¨æ¢å¤ |

### 2. è¿ç»´ç›‘æ§è¦ç‚¹

1. **å®æ—¶ç›‘æ§å®¡æ‰¹æµç¨‹çŠ¶æ€å’Œæ‰§è¡Œæ•ˆç‡**
2. **ç›‘æ§æ•°æ®åŒæ­¥å»¶è¿Ÿå’Œå¤±è´¥ç‡**
3. **å®šæœŸæ£€æŸ¥å„æ¨¡å—æ¥å£å¯ç”¨æ€§**
4. **åˆ†æå®¡æ‰¹ç“¶é¢ˆå’Œä¼˜åŒ–å»ºè®®**
5. **å»ºç«‹å®Œå–„çš„å‘Šè­¦æœºåˆ¶å’Œå¤„ç†æµç¨‹**

---

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°è®°å½•

| ç‰ˆæœ¬ | æ›´æ–°æ—¶é—´ | æ›´æ–°å†…å®¹ | æ›´æ–°äºº |
|------|---------|---------|--------|
| **v1.0.0** | 2025-12-16 | åˆå§‹ç‰ˆæœ¬ï¼Œè·¨æ¨¡å—å®¡æ‰¹è”åŠ¨æ ¸å¿ƒæ¶æ„ | æ¶æ„å›¢é˜Ÿ |
| **v1.0.1** | å¾…æ›´æ–° | å¢åŠ æ›´å¤šä¸šåŠ¡æ¨¡å—é›†æˆèƒ½åŠ› | é›†æˆå›¢é˜Ÿ |
| **v1.0.2** | å¾…æ›´æ–° | ä¼˜åŒ–æ•°æ®åŒæ­¥æ€§èƒ½å’Œå¯é æ€§ | æŠ€æœ¯å›¢é˜Ÿ |

---

**æ–‡æ¡£çŠ¶æ€**: âœ… å·²å®Œæˆ
**é€‚ç”¨ç‰ˆæœ¬**: IOE-DREAM v2.0.0+
**ç»´æŠ¤è´£ä»»äºº**: æ¶æ„éƒ¨ + å„ä¸šåŠ¡æ¨¡å—å›¢é˜Ÿ
**æœ€åå®¡æ ¸**: 2025-12-16